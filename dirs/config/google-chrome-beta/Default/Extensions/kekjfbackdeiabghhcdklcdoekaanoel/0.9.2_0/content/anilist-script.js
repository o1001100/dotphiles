/*! For license information please see anilist-script.js.LICENSE.txt */
(()=>{var e={72176:(e,t,n)=>{"use strict";function r(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(e,t){return e.require(t)}n.d(t,{l$:()=>i,KV:()=>r}),e=n.hmd(e)},21170:(e,t,n)=>{"use strict";n.d(t,{ph:()=>u,yW:()=>c});var r=n(72176),i=n(71235);e=n.hmd(e);const s=(0,i.Rf)(),a={nowSeconds:()=>Date.now()/1e3},o=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=s;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),l=void 0===o?a:{nowSeconds:()=>(o.timeOrigin+o.now())/1e3},c=a.nowSeconds.bind(a),u=l.nowSeconds.bind(l);let d;(()=>{const{performance:e}=s;if(!e||!e.now)return void(d="none");const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,o=e.timing&&e.timing.navigationStart,l="number"==typeof o?Math.abs(o+n-r):t;a||l<t?i<=l?(d="timeOrigin",e.timeOrigin):d="navigationStart":d="dateNow"})()},71235:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>s,YO:()=>a,n2:()=>i});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function s(){return i}function a(e,t,n){const r=n||i,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}},2262:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>s,Fl:()=>Ie,IU:()=>ve,Jd:()=>v,PG:()=>fe,Um:()=>he,WL:()=>Ce,X$:()=>S,X3:()=>_e,Xl:()=>be,dq:()=>ke,iH:()=>Te,j:()=>w,lk:()=>b,qj:()=>de,qq:()=>f,yT:()=>ye});var r=n(3577);let i;class s{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}const a=e=>{const t=new Set(e);return t.w=0,t.n=0,t},o=e=>(e.w&h)>0,l=e=>(e.n&h)>0,c=new WeakMap;let u,d=0,h=1;const p=Symbol(""),m=Symbol("");class f{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=i){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=u,t=y;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=u,u=this,y=!0,h=1<<++d,d<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=h})(this):g(this),this.fn()}finally{d<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];o(i)&&!l(i)?i.delete(e):t[n++]=i,i.w&=~h,i.n&=~h}t.length=n}})(this),h=1<<--d,u=this.parent,y=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){u===this?this.deferStop=!0:this.active&&(g(this),this.onStop&&this.onStop(),this.active=!1)}}function g(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let y=!0;const _=[];function v(){_.push(y),y=!1}function b(){const e=_.pop();y=void 0===e||e}function w(e,t,n){if(y&&u){let t=c.get(e);t||c.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=a()),E(r)}}function E(e,t){let n=!1;d<=30?l(e)||(e.n|=h,n=!o(e)):n=!e.has(u),n&&(e.add(u),u.deps.push(e))}function S(e,t,n,i,s,o){const l=c.get(e);if(!l)return;let u=[];if("clear"===t)u=[...l.values()];else if("length"===n&&(0,r.kJ)(e)){const e=(0,r.He)(i);l.forEach(((t,n)=>{("length"===n||n>=e)&&u.push(t)}))}else switch(void 0!==n&&u.push(l.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&u.push(l.get("length")):(u.push(l.get(p)),(0,r._N)(e)&&u.push(l.get(m)));break;case"delete":(0,r.kJ)(e)||(u.push(l.get(p)),(0,r._N)(e)&&u.push(l.get(m)));break;case"set":(0,r._N)(e)&&u.push(l.get(p))}if(1===u.length)u[0]&&x(u[0]);else{const e=[];for(const t of u)t&&e.push(...t);x(a(e))}}function x(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const e of n)e.computed&&k(e);for(const e of n)e.computed||k(e)}function k(e,t){(e!==u||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const T=(0,r.fY)("__proto__,__v_isRef,__isVue"),A=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),N=R(),C=R(!1,!0),$=R(!0),O=I();function I(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=ve(this);for(let e=0,t=this.length;e<t;e++)w(n,0,e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(ve)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){v();const n=ve(this)[t].apply(this,e);return b(),n}})),e}function R(e=!1,t=!1){return function(n,i,s){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&s===(e?t?ue:ce:t?le:oe).get(n))return n;const a=(0,r.kJ)(n);if(!e&&a&&(0,r.RI)(O,i))return Reflect.get(O,i,s);const o=Reflect.get(n,i,s);return((0,r.yk)(i)?A.has(i):T(i))?o:(e||w(n,0,i),t?o:ke(o)?a&&(0,r.S0)(i)?o:o.value:(0,r.Kn)(o)?e?pe(o):de(o):o)}}const L=M(),P=M(!0);function M(e=!1){return function(t,n,i,s){let a=t[n];if(ge(a)&&ke(a)&&!ke(i))return!1;if(!e&&(ye(i)||ge(i)||(a=ve(a),i=ve(i)),!(0,r.kJ)(t)&&ke(a)&&!ke(i)))return a.value=i,!0;const o=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),l=Reflect.set(t,n,i,s);return t===ve(s)&&(o?(0,r.aU)(i,a)&&S(t,"set",n,i):S(t,"add",n,i)),l}}const D={get:N,set:L,deleteProperty:function(e,t){const n=(0,r.RI)(e,t),i=(e[t],Reflect.deleteProperty(e,t));return i&&n&&S(e,"delete",t,void 0),i},has:function(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&A.has(t)||w(e,0,t),n},ownKeys:function(e){return w(e,0,(0,r.kJ)(e)?"length":p),Reflect.ownKeys(e)}},U={get:$,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},j=(0,r.l7)({},D,{get:C,set:P}),B=e=>e,F=e=>Reflect.getPrototypeOf(e);function V(e,t,n=!1,r=!1){const i=ve(e=e.__v_raw),s=ve(t);n||(t!==s&&w(i,0,t),w(i,0,s));const{has:a}=F(i),o=r?B:n?Ee:we;return a.call(i,t)?o(e.get(t)):a.call(i,s)?o(e.get(s)):void(e!==i&&e.get(t))}function G(e,t=!1){const n=this.__v_raw,r=ve(n),i=ve(e);return t||(e!==i&&w(r,0,e),w(r,0,i)),e===i?n.has(e):n.has(e)||n.has(i)}function q(e,t=!1){return e=e.__v_raw,!t&&w(ve(e),0,p),Reflect.get(e,"size",e)}function H(e){e=ve(e);const t=ve(this);return F(t).has.call(t,e)||(t.add(e),S(t,"add",e,e)),this}function W(e,t){t=ve(t);const n=ve(this),{has:i,get:s}=F(n);let a=i.call(n,e);a||(e=ve(e),a=i.call(n,e));const o=s.call(n,e);return n.set(e,t),a?(0,r.aU)(t,o)&&S(n,"set",e,t):S(n,"add",e,t),this}function z(e){const t=ve(this),{has:n,get:r}=F(t);let i=n.call(t,e);i||(e=ve(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&S(t,"delete",e,void 0),s}function Y(){const e=ve(this),t=0!==e.size,n=e.clear();return t&&S(e,"clear",void 0,void 0),n}function K(e,t){return function(n,r){const i=this,s=i.__v_raw,a=ve(s),o=t?B:e?Ee:we;return!e&&w(a,0,p),s.forEach(((e,t)=>n.call(r,o(e),o(t),i)))}}function J(e,t,n){return function(...i){const s=this.__v_raw,a=ve(s),o=(0,r._N)(a),l="entries"===e||e===Symbol.iterator&&o,c="keys"===e&&o,u=s[e](...i),d=n?B:t?Ee:we;return!t&&w(a,0,c?m:p),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function X(e){return function(...t){return"delete"!==e&&this}}function Z(){const e={get(e){return V(this,e)},get size(){return q(this)},has:G,add:H,set:W,delete:z,clear:Y,forEach:K(!1,!1)},t={get(e){return V(this,e,!1,!0)},get size(){return q(this)},has:G,add:H,set:W,delete:z,clear:Y,forEach:K(!1,!0)},n={get(e){return V(this,e,!0)},get size(){return q(this,!0)},has(e){return G.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:K(!0,!1)},r={get(e){return V(this,e,!0,!0)},get size(){return q(this,!0)},has(e){return G.call(this,e,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:K(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=J(i,!1,!1),n[i]=J(i,!0,!1),t[i]=J(i,!1,!0),r[i]=J(i,!0,!0)})),[e,n,t,r]}const[Q,ee,te,ne]=Z();function re(e,t){const n=t?e?ne:te:e?ee:Q;return(t,i,s)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,s)}const ie={get:re(!1,!1)},se={get:re(!1,!0)},ae={get:re(!0,!1)},oe=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap;function de(e){return ge(e)?e:me(e,!1,D,ie,oe)}function he(e){return me(e,!1,j,se,le)}function pe(e){return me(e,!0,U,ae,ce)}function me(e,t,n,i,s){if(!(0,r.Kn)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=s.get(e);if(a)return a;const o=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,r.W7)(e))}(e);if(0===o)return e;const l=new Proxy(e,2===o?i:n);return s.set(e,l),l}function fe(e){return ge(e)?fe(e.__v_raw):!(!e||!e.__v_isReactive)}function ge(e){return!(!e||!e.__v_isReadonly)}function ye(e){return!(!e||!e.__v_isShallow)}function _e(e){return fe(e)||ge(e)}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function be(e){return(0,r.Nj)(e,"__v_skip",!0),e}const we=e=>(0,r.Kn)(e)?de(e):e,Ee=e=>(0,r.Kn)(e)?pe(e):e;function Se(e){y&&u&&E((e=ve(e)).dep||(e.dep=a()))}function xe(e,t){(e=ve(e)).dep&&x(e.dep)}function ke(e){return!(!e||!0!==e.__v_isRef)}function Te(e){return n=!1,ke(t=e)?t:new Ae(t,n);var t,n}class Ae{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ve(e),this._value=t?e:we(e)}get value(){return Se(this),this._value}set value(e){const t=this.__v_isShallow||ye(e)||ge(e);e=t?e:ve(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:we(e),xe(this))}}const Ne={get:(e,t,n)=>function(e){return ke(e)?e.value:e}(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return ke(i)&&!ke(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ce(e){return fe(e)?e:new Proxy(e,Ne)}var $e;class Oe{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[$e]=!1,this._dirty=!0,this.effect=new f(e,(()=>{this._dirty||(this._dirty=!0,xe(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=ve(this);return Se(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ie(e,t,n=!1){let i,s;const a=(0,r.mf)(e);return a?(i=e,s=r.dG):(i=e.get,s=e.set),new Oe(i,s,a||!s,n)}$e="__v_isReadonly"},3577:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:()=>u,DM:()=>$,E9:()=>te,F7:()=>E,Gg:()=>V,HD:()=>R,He:()=>Q,Kn:()=>P,NO:()=>b,Nj:()=>Z,Od:()=>k,PO:()=>B,Pq:()=>d,RI:()=>A,S0:()=>F,W7:()=>j,WV:()=>p,Z6:()=>_,_A:()=>H,_N:()=>C,aU:()=>J,dG:()=>v,e1:()=>i,fY:()=>r,hR:()=>K,hq:()=>m,ir:()=>X,j5:()=>s,kC:()=>Y,kJ:()=>N,kT:()=>y,l7:()=>x,mf:()=>I,rs:()=>z,tI:()=>M,tR:()=>S,yA:()=>h,yk:()=>L,zw:()=>f});const i=r("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function s(e){if(N(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=R(r)?c(r):s(r);if(i)for(const e in i)t[e]=i[e]}return t}return R(e)||P(e)?e:void 0}const a=/;(?![^(]*\))/g,o=/:([^]+)/,l=/\/\*.*?\*\//gs;function c(e){const t={};return e.replace(l,"").split(a).forEach((e=>{if(e){const n=e.split(o);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function u(e){let t="";if(R(e))t=e;else if(N(e))for(let n=0;n<e.length;n++){const r=u(e[n]);r&&(t+=r+" ")}else if(P(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const d=r("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function h(e){return!!e||""===e}function p(e,t){if(e===t)return!0;let n=O(e),r=O(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=L(e),r=L(t),n||r)return e===t;if(n=N(e),r=N(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=p(e[r],t[r]);return n}(e,t);if(n=P(e),r=P(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!p(e[n],t[n]))return!1}}return String(e)===String(t)}function m(e,t){return e.findIndex((e=>p(e,t)))}const f=e=>R(e)?e:null==e?"":N(e)||P(e)&&(e.toString===D||!I(e.toString))?JSON.stringify(e,g,2):String(e),g=(e,t)=>t&&t.__v_isRef?g(e,t.value):C(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:$(t)?{[`Set(${t.size})`]:[...t.values()]}:!P(t)||N(t)||B(t)?t:String(t),y={},_=[],v=()=>{},b=()=>!1,w=/^on[^a-z]/,E=e=>w.test(e),S=e=>e.startsWith("onUpdate:"),x=Object.assign,k=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},T=Object.prototype.hasOwnProperty,A=(e,t)=>T.call(e,t),N=Array.isArray,C=e=>"[object Map]"===U(e),$=e=>"[object Set]"===U(e),O=e=>"[object Date]"===U(e),I=e=>"function"==typeof e,R=e=>"string"==typeof e,L=e=>"symbol"==typeof e,P=e=>null!==e&&"object"==typeof e,M=e=>P(e)&&I(e.then)&&I(e.catch),D=Object.prototype.toString,U=e=>D.call(e),j=e=>U(e).slice(8,-1),B=e=>"[object Object]"===U(e),F=e=>R(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,V=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),G=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},q=/-(\w)/g,H=G((e=>e.replace(q,((e,t)=>t?t.toUpperCase():"")))),W=/\B([A-Z])/g,z=G((e=>e.replace(W,"-$1").toLowerCase())),Y=G((e=>e.charAt(0).toUpperCase()+e.slice(1))),K=G((e=>e?`on${Y(e)}`:"")),J=(e,t)=>!Object.is(e,t),X=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Z=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Q=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ee;const te=()=>ee||(ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{})},84990:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(87537),i=n.n(r),s=n(23645),a=n.n(s)()(i());a.push([e.id,".site-theme-dark .nextStream img,\n.entry-card .nextStream img,\n.site-theme-dark .resumeStream img,\n.entry-card .resumeStream img {\n  filter: invert(100%);\n}\n.entry-card .mal-sync-stream {\n  position: absolute;\n  max-height: 17px !important;\n  left: 7px;\n  top: -17px;\n  background: rgb(var(--color-overlay) 0.8);\n  border-radius: 100% 100% 0 0;\n}\n.entry-card .mal-sync-stream img {\n  padding: 5px;\n  padding-top: 7px;\n}\n.entry-card .nextStream,\n.entry-card .resumeStream {\n  position: absolute;\n  max-height: 17px !important;\n  right: 7px;\n  top: -15px;\n  margin-right: 0 !important;\n  background: rgb(var(--color-overlay) 0.8);\n  border-radius: 100% 100% 0 0;\n}\n.entry-card .nextStream img,\n.entry-card .resumeStream img {\n  margin: 5px;\n  margin-top: 7px;\n}\n.mal-sync-ep-pre {\n  display: inline-block;\n  width: 0;\n}\n","",{version:3,sources:["webpack://./src/anilist/style.less"],names:[],mappings:"AAAA;;;;EAII,oBAAA;AACJ;AAGA;EAEI,kBAAA;EACA,2BAAA;EACA,SAAA;EACA,UAAA;EACA,yCAAA;EACA,4BAAA;AAFJ;AALA;EASM,YAAA;EACA,gBAAA;AADN;AATA;;EAeI,kBAAA;EACA,2BAAA;EACA,UAAA;EACA,UAAA;EACA,0BAAA;EACA,yCAAA;EACA,4BAAA;AAFJ;AAnBA;;EAuBM,WAAA;EACA,eAAA;AAAN;AAKA;EACE,qBAAA;EACA,QAAA;AAHF",sourcesContent:[".site-theme-dark,\n.entry-card {\n  .nextStream img,\n  .resumeStream img {\n    filter: invert(100%);\n  }\n}\n\n.entry-card {\n  .mal-sync-stream {\n    position: absolute;\n    max-height: 17px !important;\n    left: 7px;\n    top: -17px;\n    background: rgb(var(--color-overlay) 0.8);\n    border-radius: 100% 100% 0 0;\n    img {\n      padding: 5px;\n      padding-top: 7px;\n    }\n  }\n  .nextStream,\n  .resumeStream {\n    position: absolute;\n    max-height: 17px !important;\n    right: 7px;\n    top: -15px;\n    margin-right: 0 !important;\n    background: rgb(var(--color-overlay) 0.8);\n    border-radius: 100% 100% 0 0;\n    img {\n      margin: 5px;\n      margin-top: 7px;\n    }\n  }\n}\n\n.mal-sync-ep-pre {\n  display: inline-block;\n  width: 0;\n}\n"],sourceRoot:""}]);const o=a},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},87537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(i," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},27856:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,i,s){return r=n()?Reflect.construct:function(e,n,r){var i=[null];i.push.apply(i,n);var s=new(Function.bind.apply(e,i));return r&&t(s,r.prototype),s},r.apply(null,arguments)}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=Object.hasOwnProperty,o=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,d=Object.freeze,h=Object.seal,p=Object.create,m="undefined"!=typeof Reflect&&Reflect,f=m.apply,g=m.construct;f||(f=function(e,t,n){return e.apply(t,n)}),d||(d=function(e){return e}),h||(h=function(e){return e}),g||(g=function(e,t){return r(e,i(t))});var y,_=C(Array.prototype.forEach),v=C(Array.prototype.pop),b=C(Array.prototype.push),w=C(String.prototype.toLowerCase),E=C(String.prototype.toString),S=C(String.prototype.match),x=C(String.prototype.replace),k=C(String.prototype.indexOf),T=C(String.prototype.trim),A=C(RegExp.prototype.test),N=(y=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(y,t)});function C(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return f(e,t,r)}}function $(e,t,n){n=n||w,o&&o(e,null);for(var r=t.length;r--;){var i=t[r];if("string"==typeof i){var s=n(i);s!==i&&(l(t)||(t[r]=s),i=s)}e[i]=!0}return e}function O(e){var t,n=p(null);for(t in e)!0===f(a,e,[t])&&(n[t]=e[t]);return n}function I(e,t){for(;null!==e;){var n=u(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var R=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=d(["#text"]),B=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),V=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=h(/\{\{[\w\W]*|[\w\W]*\}\}/gm),H=h(/<%[\w\W]*|[\w\W]*%>/gm),W=h(/\${[\w\W]*}/gm),z=h(/^data-[\-\w.\u00B7-\uFFFF]/),Y=h(/^aria-[\-\w]+$/),K=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J=h(/^(?:\w+script|data):/i),X=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=h(/^html$/i),Q=function(){return"undefined"==typeof window?null:window},ee=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+s+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),r=function(e){return t(e)};if(r.version="2.4.3",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var s=n.document,a=n.document,o=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,u=n.Element,h=n.NodeFilter,p=n.NamedNodeMap,m=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,f=n.HTMLFormElement,g=n.DOMParser,y=n.trustedTypes,C=u.prototype,te=I(C,"cloneNode"),ne=I(C,"nextSibling"),re=I(C,"childNodes"),ie=I(C,"parentNode");if("function"==typeof l){var se=a.createElement("template");se.content&&se.content.ownerDocument&&(a=se.content.ownerDocument)}var ae=ee(y,s),oe=ae?ae.createHTML(""):"",le=a,ce=le.implementation,ue=le.createNodeIterator,de=le.createDocumentFragment,he=le.getElementsByTagName,pe=s.importNode,me={};try{me=O(a).documentMode?a.documentMode:{}}catch(e){}var fe={};r.isSupported="function"==typeof ie&&ce&&void 0!==ce.createHTMLDocument&&9!==me;var ge,ye,_e=q,ve=H,be=W,we=z,Ee=Y,Se=J,xe=X,ke=K,Te=null,Ae=$({},[].concat(i(R),i(L),i(P),i(D),i(j))),Ne=null,Ce=$({},[].concat(i(B),i(F),i(V),i(G))),$e=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,Ie=null,Re=!0,Le=!0,Pe=!1,Me=!1,De=!1,Ue=!1,je=!1,Be=!1,Fe=!1,Ve=!1,Ge=!0,qe=!1,He="user-content-",We=!0,ze=!1,Ye={},Ke=null,Je=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xe=null,Ze=$({},["audio","video","img","source","image","track"]),Qe=null,et=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",rt="http://www.w3.org/1999/xhtml",it=rt,st=!1,at=null,ot=$({},[tt,nt,rt],E),lt=["application/xhtml+xml","text/html"],ct="text/html",ut=null,dt=a.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},pt=function(t){ut&&ut===t||(t&&"object"===e(t)||(t={}),t=O(t),ge=ge=-1===lt.indexOf(t.PARSER_MEDIA_TYPE)?ct:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ge?E:w,Te="ALLOWED_TAGS"in t?$({},t.ALLOWED_TAGS,ye):Ae,Ne="ALLOWED_ATTR"in t?$({},t.ALLOWED_ATTR,ye):Ce,at="ALLOWED_NAMESPACES"in t?$({},t.ALLOWED_NAMESPACES,E):ot,Qe="ADD_URI_SAFE_ATTR"in t?$(O(et),t.ADD_URI_SAFE_ATTR,ye):et,Xe="ADD_DATA_URI_TAGS"in t?$(O(Ze),t.ADD_DATA_URI_TAGS,ye):Ze,Ke="FORBID_CONTENTS"in t?$({},t.FORBID_CONTENTS,ye):Je,Oe="FORBID_TAGS"in t?$({},t.FORBID_TAGS,ye):{},Ie="FORBID_ATTR"in t?$({},t.FORBID_ATTR,ye):{},Ye="USE_PROFILES"in t&&t.USE_PROFILES,Re=!1!==t.ALLOW_ARIA_ATTR,Le=!1!==t.ALLOW_DATA_ATTR,Pe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=t.SAFE_FOR_TEMPLATES||!1,De=t.WHOLE_DOCUMENT||!1,Be=t.RETURN_DOM||!1,Fe=t.RETURN_DOM_FRAGMENT||!1,Ve=t.RETURN_TRUSTED_TYPE||!1,je=t.FORCE_BODY||!1,Ge=!1!==t.SANITIZE_DOM,qe=t.SANITIZE_NAMED_PROPS||!1,We=!1!==t.KEEP_CONTENT,ze=t.IN_PLACE||!1,ke=t.ALLOWED_URI_REGEXP||ke,it=t.NAMESPACE||rt,t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($e.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($e.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($e.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(Le=!1),Fe&&(Be=!0),Ye&&(Te=$({},i(j)),Ne=[],!0===Ye.html&&($(Te,R),$(Ne,B)),!0===Ye.svg&&($(Te,L),$(Ne,F),$(Ne,G)),!0===Ye.svgFilters&&($(Te,P),$(Ne,F),$(Ne,G)),!0===Ye.mathMl&&($(Te,D),$(Ne,V),$(Ne,G))),t.ADD_TAGS&&(Te===Ae&&(Te=O(Te)),$(Te,t.ADD_TAGS,ye)),t.ADD_ATTR&&(Ne===Ce&&(Ne=O(Ne)),$(Ne,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&$(Qe,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Ke===Je&&(Ke=O(Ke)),$(Ke,t.FORBID_CONTENTS,ye)),We&&(Te["#text"]=!0),De&&$(Te,["html","head","body"]),Te.table&&($(Te,["tbody"]),delete Oe.tbody),d&&d(t),ut=t)},mt=$({},["mi","mo","mn","ms","mtext"]),ft=$({},["foreignobject","desc","title","annotation-xml"]),gt=$({},["title","style","font","a","script"]),yt=$({},L);$(yt,P),$(yt,M);var _t=$({},D);$(_t,U);var vt=function(e){var t=ie(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});var n=w(e.tagName),r=w(t.tagName);return!!at[e.namespaceURI]&&(e.namespaceURI===nt?t.namespaceURI===rt?"svg"===n:t.namespaceURI===tt?"svg"===n&&("annotation-xml"===r||mt[r]):Boolean(yt[n]):e.namespaceURI===tt?t.namespaceURI===rt?"math"===n:t.namespaceURI===nt?"math"===n&&ft[r]:Boolean(_t[n]):e.namespaceURI===rt?!(t.namespaceURI===nt&&!ft[r])&&!(t.namespaceURI===tt&&!mt[r])&&!_t[n]&&(gt[n]||!yt[n]):!("application/xhtml+xml"!==ge||!at[e.namespaceURI]))},bt=function(e){b(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},wt=function(e,t){try{b(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){b(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ne[e])if(Be||Fe)try{bt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Et=function(e){var t,n;if(je)e="<remove></remove>"+e;else{var r=S(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&it===rt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ae?ae.createHTML(e):e;if(it===rt)try{t=(new g).parseFromString(i,ge)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(it,"template",null);try{t.documentElement.innerHTML=st?oe:i}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(a.createTextNode(n),s.childNodes[0]||null),it===rt?he.call(t,De?"html":"body")[0]:De?t.documentElement:s},St=function(e){return ue.call(e.ownerDocument||e,e,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},xt=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof m)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},kt=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Tt=function(e,t,n){fe[e]&&_(fe[e],(function(e){e.call(r,t,n,ut)}))},At=function(e){var t;if(Tt("beforeSanitizeElements",e,null),xt(e))return bt(e),!0;if(A(/[\u0080-\uFFFF]/,e.nodeName))return bt(e),!0;var n=ye(e.nodeName);if(Tt("uponSanitizeElement",e,{tagName:n,allowedTags:Te}),e.hasChildNodes()&&!kt(e.firstElementChild)&&(!kt(e.content)||!kt(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return bt(e),!0;if("select"===n&&A(/<template/i,e.innerHTML))return bt(e),!0;if(!Te[n]||Oe[n]){if(!Oe[n]&&Ct(n)){if($e.tagNameCheck instanceof RegExp&&A($e.tagNameCheck,n))return!1;if($e.tagNameCheck instanceof Function&&$e.tagNameCheck(n))return!1}if(We&&!Ke[n]){var i=ie(e)||e.parentNode,s=re(e)||e.childNodes;if(s&&i)for(var a=s.length-1;a>=0;--a)i.insertBefore(te(s[a],!0),ne(e))}return bt(e),!0}return e instanceof u&&!vt(e)?(bt(e),!0):"noscript"!==n&&"noembed"!==n||!A(/<\/no(script|embed)/i,e.innerHTML)?(Me&&3===e.nodeType&&(t=e.textContent,t=x(t,_e," "),t=x(t,ve," "),t=x(t,be," "),e.textContent!==t&&(b(r.removed,{element:e.cloneNode()}),e.textContent=t)),Tt("afterSanitizeElements",e,null),!1):(bt(e),!0)},Nt=function(e,t,n){if(Ge&&("id"===t||"name"===t)&&(n in a||n in dt))return!1;if(Le&&!Ie[t]&&A(we,t));else if(Re&&A(Ee,t));else if(!Ne[t]||Ie[t]){if(!(Ct(e)&&($e.tagNameCheck instanceof RegExp&&A($e.tagNameCheck,e)||$e.tagNameCheck instanceof Function&&$e.tagNameCheck(e))&&($e.attributeNameCheck instanceof RegExp&&A($e.attributeNameCheck,t)||$e.attributeNameCheck instanceof Function&&$e.attributeNameCheck(t))||"is"===t&&$e.allowCustomizedBuiltInElements&&($e.tagNameCheck instanceof RegExp&&A($e.tagNameCheck,n)||$e.tagNameCheck instanceof Function&&$e.tagNameCheck(n))))return!1}else if(Qe[t]);else if(A(ke,x(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==k(n,"data:")||!Xe[e])if(Pe&&!A(Se,x(n,xe,"")));else if(n)return!1;return!0},Ct=function(e){return e.indexOf("-")>0},$t=function(t){var n,i,s,a;Tt("beforeSanitizeAttributes",t,null);var o=t.attributes;if(o){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ne};for(a=o.length;a--;){var c=n=o[a],u=c.name,d=c.namespaceURI;if(i="value"===u?n.value:T(n.value),s=ye(u),l.attrName=s,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,Tt("uponSanitizeAttribute",t,l),i=l.attrValue,!l.forceKeepAttr&&(wt(u,t),l.keepAttr))if(A(/\/>/i,i))wt(u,t);else{Me&&(i=x(i,_e," "),i=x(i,ve," "),i=x(i,be," "));var h=ye(t.nodeName);if(Nt(h,s,i)){if(!qe||"id"!==s&&"name"!==s||(wt(u,t),i=He+i),ae&&"object"===e(y)&&"function"==typeof y.getAttributeType)if(d);else switch(y.getAttributeType(h,s)){case"TrustedHTML":i=ae.createHTML(i);break;case"TrustedScriptURL":i=ae.createScriptURL(i)}try{d?t.setAttributeNS(d,u,i):t.setAttribute(u,i),v(r.removed)}catch(e){}}}}Tt("afterSanitizeAttributes",t,null)}},Ot=function e(t){var n,r=St(t);for(Tt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Tt("uponSanitizeShadowNode",n,null),At(n)||(n.content instanceof o&&e(n.content),$t(n));Tt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(t){var i,a,l,u,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((st=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!kt(t)){if("function"!=typeof t.toString)throw N("toString is not a function");if("string"!=typeof(t=t.toString()))throw N("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(kt(t))return n.toStaticHTML(t.outerHTML)}return t}if(Ue||pt(h),r.removed=[],"string"==typeof t&&(ze=!1),ze){if(t.nodeName){var p=ye(t.nodeName);if(!Te[p]||Oe[p])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)1===(a=(i=Et("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!Be&&!Me&&!De&&-1===t.indexOf("<"))return ae&&Ve?ae.createHTML(t):t;if(!(i=Et(t)))return Be?null:Ve?oe:""}i&&je&&bt(i.firstChild);for(var m=St(ze?t:i);l=m.nextNode();)3===l.nodeType&&l===u||At(l)||(l.content instanceof o&&Ot(l.content),$t(l),u=l);if(u=null,ze)return t;if(Be){if(Fe)for(d=de.call(i.ownerDocument);i.firstChild;)d.appendChild(i.firstChild);else d=i;return Ne.shadowroot&&(d=pe.call(s,d,!0)),d}var f=De?i.outerHTML:i.innerHTML;return De&&Te["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&A(Z,i.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+f),Me&&(f=x(f,_e," "),f=x(f,ve," "),f=x(f,be," ")),ae&&Ve?ae.createHTML(f):f},r.setConfig=function(e){pt(e),Ue=!0},r.clearConfig=function(){ut=null,Ue=!1},r.isValidAttribute=function(e,t,n){ut||pt({});var r=ye(e),i=ye(t);return Nt(r,i,n)},r.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],b(fe[e],t))},r.removeHook=function(e){if(fe[e])return v(fe[e])},r.removeHooks=function(e){fe[e]&&(fe[e]=[])},r.removeAllHooks=function(){fe={}},r}()}()},56387:(e,t,n)=>{var r;!function(i){var s=Object.hasOwnProperty,a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof process&&"function"==typeof process.nextTick,l="function"==typeof Symbol,c="object"==typeof Reflect,u="function"==typeof setImmediate?setImmediate:setTimeout,d=l?c&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function h(){this._events={},this._conf&&p.call(this,this._conf)}function p(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==i&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function m(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var f=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(r);r--;)i[r]=arguments[r];return i}};function g(e,t){for(var n={},r=e.length,s=t?value.length:0,a=0;a<r;a++)n[e[a]]=a<s?t[a]:i;return n}function y(e,t,n){var r,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var s=e._observers;s?s.push(this):e._observers=[this]}function _(e,t,n,r){var a=Object.assign({},t);if(!e)return a;if("object"!=typeof e)throw TypeError("options must be an object");var o,l,c,u=Object.keys(e),d=u.length;function h(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var p=0;p<d;p++){if(o=u[p],!r&&!s.call(t,o))throw Error('Unknown "'+o+'" option');(l=e[o])!==i&&(c=n[o],a[o]=c?c(l,h):l)}return a}function v(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function b(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var s=typeof e;if(s===r||s===i)return e;n(t)}:function(r,i){for(var s=typeof r,a=n;a-- >0;)if(s===e[a])return r;i(t)}}Object.assign(y.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,s=this._emitter,a=this._listeners,o=function(){var r=f.apply(null,arguments),a={data:r,name:t,original:e};if(n){var o=n.call(i,a);!1!==o&&s.emit.apply(s,[a.name].concat(r))}else s.emit.apply(s,[t].concat(r))};if(a[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===a[e]&&(a[e]=o,r._on.call(i,e,o))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!s.hasListeners(n)&&a[e]&&(a[e]=null,r._off.call(i,e,o))},a[e]=null,s.on("removeListener",this._onRemoveListener)):(a[e]=o,r._on.call(i,e,o))},unsubscribe:function(e){var t,n,r,i=this,s=this._listeners,a=this._emitter,o=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(a.off("newListener",i._onNewListener),a.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=x.call(a,i);a._observers.splice(e,1)}if(e){if(!(t=s[e]))return;o.call(l,e,t),delete s[e],--this._listenersCount||c()}else{for(r=(n=d(s)).length;r-- >0;)e=n[r],o.call(l,e,s[e]);this._listeners={},this._listenersCount=0,c()}}});var w=b(["function"]),E=b(["object","function"]);function S(e,t,n){var r,i,s,a=0,o=new e((function(l,c,u){function d(){i&&(i=null),a&&(clearTimeout(a),a=0)}n=_(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var h=function(e){d(),l(e)},p=function(e){d(),c(e)};r?t(h,p,u):(i=[function(e){p(e||Error("canceled"))}],t(h,p,(function(e){if(s)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)})),s=!0),n.timeout>0&&(a=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",a=0,o.cancel(e),c(e)}),n.timeout))}));return r||(o.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),o}function x(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function k(e,t,n,r,i){if(!n)return null;if(0===r){var s=typeof t;if("string"===s){var a,o,l=0,c=0,u=this.delimiter,h=u.length;if(-1!==(o=t.indexOf(u))){a=new Array(5);do{a[l++]=t.slice(c,o),c=o+h}while(-1!==(o=t.indexOf(u,c)));a[l++]=t.slice(c),t=a,i=l}else t=[t],i=1}else"object"===s?i=t.length:(t=[t],i=1)}var p,m,f,g,y,_,v,b=null,w=t[r],E=t[r+1];if(r===i)n._listeners&&("function"==typeof n._listeners?(e&&e.push(n._listeners),b=[n]):(e&&e.push.apply(e,n._listeners),b=[n]));else{if("*"===w){for(o=(_=d(n)).length;o-- >0;)"_listeners"!==(p=_[o])&&(v=k(e,t,n[p],r+1,i))&&(b?b.push.apply(b,v):b=v);return b}if("**"===w){for((y=r+1===i||r+2===i&&"*"===E)&&n._listeners&&(b=k(e,t,n,i,i)),o=(_=d(n)).length;o-- >0;)"_listeners"!==(p=_[o])&&("*"===p||"**"===p?(n[p]._listeners&&!y&&(v=k(e,t,n[p],i,i))&&(b?b.push.apply(b,v):b=v),v=k(e,t,n[p],r,i)):v=k(e,t,n[p],p===E?r+2:r,i),v&&(b?b.push.apply(b,v):b=v));return b}n[w]&&(b=k(e,t,n[w],r+1,i))}if((m=n["*"])&&k(e,t,m,r+1,i),f=n["**"])if(r<i)for(f._listeners&&k(e,t,f,i,i),o=(_=d(f)).length;o-- >0;)"_listeners"!==(p=_[o])&&(p===E?k(e,t,f[p],r+2,i):p===w?k(e,t,f[p],r+1,i):((g={})[p]=f[p],k(e,t,{"**":g},r+1,i)));else f._listeners?k(e,t,f,i,i):f["*"]&&f["*"]._listeners&&k(e,t,f["*"],i,i);return b}function T(e,t,n){var r,i,s=0,a=0,o=this.delimiter,l=o.length;if("string"==typeof e)if(-1!==(r=e.indexOf(o))){i=new Array(5);do{i[s++]=e.slice(a,r),a=r+l}while(-1!==(r=e.indexOf(o,a)));i[s++]=e.slice(a)}else i=[e],s=1;else i=e,s=e.length;if(s>1)for(r=0;r+1<s;r++)if("**"===i[r]&&"**"===i[r+1])return;var c,u=this.listenerTree;for(r=0;r<s;r++)if(u=u[c=i[r]]||(u[c]={}),r===s-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,m.call(this,u._listeners.length,c))):u._listeners=t,!0;return!0}function A(e,t,n,r){for(var i,s,a,o,l=d(e),c=l.length,u=e._listeners;c-- >0;)i=e[s=l[c]],a="_listeners"===s?n:n?n.concat(s):[s],o=r||"symbol"==typeof s,u&&t.push(o?a:a.join(this.delimiter)),"object"==typeof i&&A.call(this,i,t,a,o);return t}function N(e){for(var t,n,r,i=d(e),s=i.length;s-- >0;)(t=e[n=i[s]])&&(r=!0,"_listeners"===n||N(t)||delete e[n]);return r}function C(e,t,n){this.emitter=e,this.event=t,this.listener=n}function $(e,t,n){if(!0===n)s=!0;else if(!1===n)r=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var r=n.async,s=n.promisify,a=n.nextTick,l=n.objectify}if(r||a||s){var c=t,d=t._origin||t;if(a&&!o)throw Error("process.nextTick is not supported");s===i&&(s="AsyncFunction"===t.constructor.name),t=function(){var e=arguments,t=this,n=this.event;return s?a?Promise.resolve():new Promise((function(e){u(e)})).then((function(){return t.event=n,c.apply(t,e)})):(a?process.nextTick:u)((function(){t.event=n,c.apply(t,e)}))},t._async=!0,t._origin=d}return[t,l?new C(this,e,t):this]}function O(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,e)}C.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},O.EventEmitter2=O,O.prototype.listenTo=function(e,t,n){if("object"!=typeof e)throw TypeError("target musts be an object");var r=this;function s(t){if("object"!=typeof t)throw TypeError("events must be an object");var i,s=n.reducers,a=x.call(r,e);i=-1===a?new y(r,e,n):r._observers[a];for(var o,l=d(t),c=l.length,u="function"==typeof s,h=0;h<c;h++)o=l[h],i.subscribe(o,t[o]||o,u?s:s&&s[o])}return n=_(n,{on:i,off:i,reducers:i},{on:w,off:w,reducers:E}),a(t)?s(g(t)):s("string"==typeof t?g(t.split(/\s+/)):t),this},O.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,i=n.length,s=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)r=n[i],e&&r._target!==e||(r.unsubscribe(t),s=!0);return s},O.prototype.delimiter=".",O.prototype.setMaxListeners=function(e){e!==i&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},O.prototype.getMaxListeners=function(){return this._maxListeners},O.prototype.event="",O.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},O.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},O.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},O.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},O.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},O.prototype._many=function(e,t,n,r,i){var s=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&s.off(e,a),n.apply(this,arguments)}return a._origin=n,this._on(e,a,r,i)},O.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,n,r,i,s,a=arguments[0],o=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return!1;if(o&&(e=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(n=a.length,l)for(r=0;r<n;r++)if("symbol"==typeof a[r]){s=!0;break}s||(a=a.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(r=0,n=(c=this._all.slice()).length;r<n;r++)switch(this.event=a,u){case 1:c[r].call(this,a);break;case 2:c[r].call(this,a,arguments[1]);break;case 3:c[r].call(this,a,arguments[1],arguments[2]);break;default:c[r].apply(this,arguments)}if(o)c=[],k.call(this,c,e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[a])){switch(this.event=a,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];c.apply(this,t)}return!0}c&&(c=c.slice())}if(c&&c.length){if(u>3)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(r=0,n=c.length;r<n;r++)switch(this.event=a,u){case 1:c[r].call(this);break;case 2:c[r].call(this,arguments[1]);break;case 3:c[r].call(this,arguments[1],arguments[2]);break;default:c[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===a)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},O.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,n,r,i,s,a=arguments[0],o=this.wildcard;if("newListener"===a&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(o&&(e=a,"newListener"!==a&&"removeListener"!==a&&"object"==typeof a)){if(r=a.length,l)for(i=0;i<r;i++)if("symbol"==typeof a[i]){t=!0;break}t||(a=a.join(this.delimiter))}var c,u=[],d=arguments.length;if(this._all)for(i=0,r=this._all.length;i<r;i++)switch(this.event=a,d){case 1:u.push(this._all[i].call(this,a));break;case 2:u.push(this._all[i].call(this,a,arguments[1]));break;case 3:u.push(this._all[i].call(this,a,arguments[1],arguments[2]));break;default:u.push(this._all[i].apply(this,arguments))}if(o?(c=[],k.call(this,c,e,this.listenerTree,0)):c=this._events[a],"function"==typeof c)switch(this.event=a,d){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(d-1),s=1;s<d;s++)n[s-1]=arguments[s];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),d>3)for(n=new Array(d-1),s=1;s<d;s++)n[s-1]=arguments[s];for(i=0,r=c.length;i<r;i++)switch(this.event=a,d){case 1:u.push(c[i].call(this));break;case 2:u.push(c[i].call(this,arguments[1]));break;case 3:u.push(c[i].call(this,arguments[1],arguments[2]));break;default:u.push(c[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},O.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},O.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},O.prototype.onAny=function(e){return this._onAny(e,!1)},O.prototype.prependAny=function(e){return this._onAny(e,!0)},O.prototype.addListener=O.prototype.on,O.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},O.prototype._on=function(e,t,n,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||h.call(this);var s,a=this;return r!==i&&(t=(s=$.call(this,e,t,r))[0],a=s[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(T.call(this,e,t,n),a):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,m.call(this,this._events[e].length,e))):this._events[e]=t,a)},O.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=k.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var o=r[s];if(n=o._listeners,a(n)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){l=c;break}if(l<0)continue;return this.wildcard?o._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete o._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&N(this.listenerTree),this},O.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},O.prototype.removeListener=O.prototype.off,O.prototype.removeAllListeners=function(e){if(e===i)return!this._events||h.call(this),this;if(this.wildcard){var t,n=k.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&N(this.listenerTree)}else this._events&&(this._events[e]=null);return this},O.prototype.listeners=function(e){var t,n,r,s,a,o=this._events;if(e===i){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!o)return[];for(s=(t=d(o)).length,r=[];s-- >0;)"function"==typeof(n=o[t[s]])?r.push(n):r.push.apply(r,n);return r}if(this.wildcard){if(!(a=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return k.call(this,l,c,a,0),l}return o&&(n=o[e])?"function"==typeof n?[n]:n:[]},O.prototype.eventNames=function(e){var t=this._events;return this.wildcard?A.call(this,this.listenerTree,[],null,e):t?d(t):[]},O.prototype.listenerCount=function(e){return this.listeners(e).length},O.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return k.call(this,t,n,this.listenerTree,0),t.length>0}var r=this._events,s=this._all;return!!(s&&s.length||r&&(e===i?d(r).length:r[e]))},O.prototype.listenersAny=function(){return this._all?this._all:[]},O.prototype.waitFor=function(e,t){var n=this,r=typeof t;return"number"===r?t={timeout:t}:"function"===r&&(t={filter:t}),S((t=_(t,{timeout:0,filter:i,handleError:!1,Promise,overload:!1},{filter:w,Promise:v})).Promise,(function(r,i,s){function a(){var s=t.filter;if(!s||s.apply(n,arguments))if(n.off(e,a),t.handleError){var o=arguments[0];o?i(o):r(f.apply(null,arguments).slice(1))}else r(f.apply(null,arguments))}s((function(){n.off(e,a)})),n._on(e,a,!1)}),{timeout:t.timeout,overload:t.overload})};var I=O.prototype;Object.defineProperties(O,{defaultMaxListeners:{get:function(){return I._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");I._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return S((n=_(n,{Promise,timeout:0,overload:!1},{Promise:v})).Promise,(function(n,r,i){var s;if("function"==typeof e.addEventListener)return s=function(){n(f.apply(null,arguments))},i((function(){e.removeEventListener(t,s)})),void e.addEventListener(t,s,{once:!0});var a,o=function(){a&&e.removeListener("error",a),n(f.apply(null,arguments))};"error"!==t&&(a=function(n){e.removeListener(t,o),r(n)},e.once("error",a)),i((function(){a&&e.removeListener("error",a),e.removeListener(t,o)})),e.once(t,o)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(I,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(r=function(){return O}.call(t,n,t,e))===i||(e.exports=r)}()},57237:(e,t,n)=>{var r=n(84990);r&&r.__esModule&&(r=r.default),e.exports="string"==typeof r?r:r.toString()},58339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{request:()=>y,settings:()=>_,storage:()=>g,type:()=>v});var r=n(58339),i=n(9375),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const a={set(e,t){return s(this,void 0,void 0,(function*(){const n={};return n[e]=t,new Promise(((t,r)=>{o(e).set(n,(function(){chrome.runtime.lastError?r(chrome.runtime.lastError):t()}))}))}))},get(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{o(e).get(e,(function(r){chrome.runtime.lastError?n(chrome.runtime.lastError):t(r[e])}))}))}))},remove(e){return s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{o(e).remove(e,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):t()}))}))}))},list(e="local"){return s(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{"local"===e?chrome.storage.local.get(null,(function(e){t(e)})):chrome.storage.sync.get(null,(function(e){t(e)}))}))}))},addStyle(e){return s(this,void 0,void 0,(function*(){try{const t=document.createElement("style");t.textContent=e,(document.head||document.body||document.documentElement||document).appendChild(t)}catch(e){console.log(`Could not add css:${e}`)}}))},version:()=>chrome.runtime.getManifest().version,lang(e,t){if(r.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[e];if(void 0!==t)for(let e=0;e<t.length;e++)n=n.replace(`$${e+1}`,t[e]);return n}return chrome.i18n.getMessage(e,t)},assetUrl:e=>chrome.extension.getURL(`assets/${e}`),injectCssResource(e,t){alert("injectCssResource not supported in webextension")},injectjsResource(e,t){const n=document.createElement("script");n.src=chrome.extension.getURL(`vendor/${e}`),n.onload=function(){this.remove()},t.get(0).appendChild(n)},updateDom(e){const t=document.createElement("script");t.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",t.onload=function(){this.remove()},e.get(0).appendChild(t)},storageOnChanged(e){chrome.storage.onChanged.addListener(e)}};function o(e){return i.syncRegex.test(e)?chrome.storage.sync:chrome.storage.local}var l=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const c={xhr(e,t){return l(this,void 0,void 0,(function*(){if(void 0!==c.sendMessage)return c.sendMessage({name:"xhr",method:e,url:t}).then((e=>{if(429===e.status)throw"Rate limit Timeout";return e}));throw"Could not send xhr"}))},sendMessage(e){return l(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){t(e)}))}))}))},notification(e){this.sendMessage({name:"notification",options:e})},database(e,t){return this.sendMessage({name:"database",options:{call:e,param:t}})}};var u=n(2262),d=n(58339),h=n(9e4),p=n(9375),m=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const f={options:(0,u.qj)({autoTrackingModeanime:"video",readerTracking:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["9anime","Crunchyroll","Gogoanime","Twistmoe","Mangadex","MangaNato","MangaFox","MangaSee","YugenAnime","Zoro","Funimation","Hulu","Netflix","Hidive","Vrv","VIZ","MangaPlus","MangaReader","marin","ComicK"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,bookMarksList:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},isInit:(0,u.iH)(!1),init(){return m(this,void 0,void 0,(function*(){const e=[];for(const t in this.options){const n=yield d.storage.get(`settings/${t}`);void 0!==n&&(this.options[t]=n,e[t]=/(token|refresh)/i.test(t)&&n?"********":n)}let t;return h.log("Settings",e),d.storage.storageOnChanged(((e,n)=>{if("sync"===n)for(const t in e){const n=e[t];/^settings\//i.test(t)&&(this.options[t.replace("settings/","")]=n.newValue,h.info(`Update ${t} option to ${n.newValue}`))}if("local"===n&&e.rateLimit)try{clearTimeout(t),e.rateLimit.newValue?(h.log("Rate limited"),$(".type-rate").length||p.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):t=setTimeout((()=>{h.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(e){h.error(e)}})),this.isInit.value=!0,this}))},get(e){if(!this.isInit.value)throw"Settings not initialized";return this.options[e]},set(e,t){if(!Object.prototype.hasOwnProperty.call(this.options,e)){const t=Error(`${e} is not a defined option`);throw h.error(t),t}return this.options[e]=t,d.storage.set(`settings/${e}`,t)},setDebounce(e,t){this.options[e]=t,clearTimeout(this.debounceArray[e]),this.debounceArray[e]=setTimeout((()=>{this.set(e,t),delete this.debounceArray[e]}),1e3)},getAsync(e){return m(this,void 0,void 0,(function*(){const t=yield d.storage.get(`settings/${e}`);return void 0===t&&void 0!==this.options[e]?this.options[e]:t}))}},g=a,y=c,_=f,v="webextension"},9e4:(e,t,n)=>{"use strict";n.r(t),n.d(t,{debug:()=>a,error:()=>i,info:()=>s,log:()=>r,m:()=>o});const r=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),i=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),s=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),a=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),o=(e,t="",n=[])=>{let r="white";t||(t=function(e){if(!e)return"#ffffff";e=String(e);let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let n="#";for(let e=0;e<3;e++)n+=`00${(t>>8*e&255).toString(16)}`.substr(-2);return n}(e)),"#"===t[0]&&(r=parseInt(t.replace("#",""),16)>8388607.5?"#000":"#fff");const i=`background-color: ${t}; color: ${r}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:e,style:i});const s={m:(e,t="")=>o(e,t,[...n])},a=n.reduce(((e,t)=>`${e}%c${t.name}`),""),l=n.map((e=>e.style));return s.log=Function.prototype.bind.call(console.log,console,`%cM ${a}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...l),s.error=Function.prototype.bind.call(console.error,console,`%cM ${a}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...l),s.info=Function.prototype.bind.call(console.info,console,`%cM ${a}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...l),s.debug=Function.prototype.bind.call(console.debug,console,`%cM ${a}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...l),s}},9375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{absoluteLink:()=>w,canHideTabs:()=>V,changeDetect:()=>k,checkDoubleExecution:()=>C,clearCache:()=>ae,elementInViewport:()=>Z,episode:()=>g,favicon:()=>p,flashConfirm:()=>Y,flashm:()=>z,fullUrlChangeDetect:()=>x,generateUniqueID:()=>h,getAsyncWaitUntilTrue:()=>A,getBaseText:()=>d,getContinueWaching:()=>M,getEntrySettings:()=>U,getResumeWaching:()=>L,getStatusText:()=>q,getTooltip:()=>B,getUrlFromTags:()=>O,getselect:()=>b,handleMalImages:()=>j,htmlDecode:()=>ne,isDomainMatching:()=>le,isFirefox:()=>re,lazyload:()=>X,makeDomainCompatible:()=>se,notifications:()=>H,pageUrl:()=>ee,parseHtml:()=>E,planTo:()=>f,rateLimitExclude:()=>_,returnYYYYMMDD:()=>te,setContinueWaching:()=>P,setEntrySettings:()=>D,setResumeWaching:()=>R,setUrlInTags:()=>I,sortAlphabetically:()=>oe,status:()=>v,statusTag:()=>G,syncRegex:()=>y,timeCache:()=>W,timeDiffToText:()=>F,upperCaseFirstLetter:()=>ce,urlChangeDetect:()=>S,urlParam:()=>u,urlPart:()=>l,urlStrip:()=>c,wait:()=>Q,waitForPageToBeVisible:()=>ie,waitUntilTrue:()=>T,watching:()=>m});var r=n(19947),i=n(58339),s=n(9e4),a=n(9375),o=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};function l(e,t){if(!e)return"";const n=e.split("/");return n[t]?n[t].replace(/[#?].*/,""):""}function c(e){return e.replace(/[#?].*/,"")}function u(e,t){const n=new RegExp(`[?&]${t}=([^&#]*)`).exec(e);return null===n?null:decodeURI(n[1])||0}function d(e){let t=e.text();return e.children().each((function(){t=t.replace(r.$(this).text(),"")})),t}function h(e=10){const t=new Uint32Array(e);return window.crypto.getRandomValues(t),Array.from(t,(e=>e.toString(16))).join("")}function p(e){if(!e)return"";const t=e.match(/^(https?:\/\/)?[^/]+/);return t&&(e=t[0]),`https://favicon.malsync.moe/?domain=${e}`}function m(e){return"manga"===e?"Reading":"Watching"}function f(e){return"manga"===e?"Plan to Read":"Plan to Watch"}function g(e){return"manga"===e?i.storage.lang("UI_Chapter"):i.storage.lang("UI_Episode")}const y=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,_=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var v;function b(e,t){let n=e.split(`name="${t}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let e=0;e<n.length;++e)if(n[e].indexOf('selected="selected"')>-1)return n[e].split('value="')[1].split('"')[0]}return""}function w(e,t){return void 0===e||e.startsWith("http")||("/"!==e.charAt(0)&&(e=`/${e}`),e=t+e),e}function E(e){return(new DOMParser).parseFromString(`<!doctype html><body>${e}`,"text/html").body.textContent}function S(e){let t=window.location.href;return setInterval((function(){t!==window.location.href&&(t=window.location.href,e())}),100)}function x(e,t=!1){let n="";const r=setInterval((function(){const r=t?c(window.location.href):window.location.href;n!==r&&(n=r,e())}),100);return Number(r)}function k(e,t,n=!1){let r=t();const i=setInterval((function(){const n=t();void 0!==n&&r!==n&&(r=t(),e())}),500);return n&&e(),Number(i)}function T(e,t,n=100){const r=setInterval((function(){e()&&(clearInterval(r),t())}),n);return r}function A(e,t=100){let n,r;const i=()=>{clearTimeout(n),r&&r("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(i(),new Promise(((i,s)=>{r=s,n=T(e,(()=>i()),t)}))),reset:i}}!function(e){e[e.watching=1]="watching",e[e.completed=2]="completed",e[e.onhold=3]="onhold",e[e.dropped=4]="dropped",e[e.planToWatch=6]="planToWatch"}(v||(v={}));const N=Math.random();function C(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(e){$(this).text()!==N.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(r.html(`<div class="mal-sync-double-detect" style="display: none;">${N.toString()}</div>`))}function O(e){return/malSync::[\d\D]+::/.test(e)?t(e.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(e)?t(e.split("last::")[1].split("::")[0]):void 0;function t(e){try{return atob(e)}catch(t){return e}}}function I(e,t){if(""===e)return t.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!i.settings.get("malTags"))return t;const n=`malSync::${btoa(e)}::`;return/(last|malSync)::[\d\D]+::/.test(t)?t.replace(/(last|malSync)::[^^]*?::/,n):`${t},${n}`}function R(e,t,n,r){return o(this,void 0,void 0,(function*(){return i.storage.set(`resume/${n}/${r}`,{url:e,ep:t})}))}function L(e,t){return o(this,void 0,void 0,(function*(){if(i.settings.get("malResume"))return i.storage.get(`resume/${e}/${t}`)}))}function P(e,t,n,r){return o(this,void 0,void 0,(function*(){return i.storage.set(`continue/${n}/${r}`,{url:e,ep:t})}))}function M(e,t){return o(this,void 0,void 0,(function*(){if(i.settings.get("malContinue"))return i.storage.get(`continue/${e}/${t}`)}))}function D(e,t,n,r=""){return o(this,void 0,void 0,(function*(){const s={};if(n){for(const e in n)switch(e){case"u":case"p":s[e]=n[e]}i.settings.get("malTags")?r=I(JSON.stringify(s),r):yield i.storage.set(`tagSettings/${e}/${t}`,JSON.stringify(s))}return Object.values(s).find((e=>Boolean(e)))||(r=I("",r),i.settings.get("malTags")||(yield i.storage.remove(`tagSettings/${e}/${t}`))),r}))}function U(e,t,n=""){return o(this,void 0,void 0,(function*(){const r={u:null,c:null,r:null,p:""};if(i.settings.get("malTags")){const e=O(n);if(e)if("{"===e[0])try{const t=JSON.parse(e);for(const e in r)t[e]&&(r[e]=t[e])}catch(e){s.error(e)}else r.u=e}else{let n=yield i.storage.get(`tagSettings/${e}/${t}`);if(n){n=JSON.parse(n);for(const e in r)n[e]&&(r[e]=n[e])}}const a=yield M(e,t);a&&(r.c=a);const o=yield L(e,t);return o&&(r.r=o),i.settings.get("usedPage")||(r.u=null),r}))}function j(e){return-1!==e.indexOf("questionmark")?i.storage.assetUrl("questionmark.gif"):e}function B(e,t="",n="top"){const r=Math.floor(1e3*Math.random()+1);return`<div id="tt${r}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${t}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${r}">${e}</div>`}function F(e){let t="";e/=1e3;const n=Math.floor(e/31536e3);e-=31536e3*n,n&&(t+=`${n}y `);const r=Math.floor(e/86400);e-=86400*r,r&&(t+=`${r}d `);const i=Math.floor(e/3600)%24;e-=3600*i,i&&r<2&&(t+=`${i}h `);const s=Math.floor(e/60)%60;return e-=60*s,s&&!r&&i<3&&(t+=`${s}min `),t}function V(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function G(e,t,n){const r={anime:{1:{class:"watching",text:"CW",title:i.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:i.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:i.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:i.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:i.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:i.storage.lang(`UI_Status_Rewatching_${t}`)}},manga:{1:{class:"reading",text:"CR",title:i.storage.lang(`UI_Status_watching_${t}`)},2:{class:"completed",text:"CMPL",title:i.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:i.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:i.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:i.storage.lang(`UI_Status_planTo_${t}`)},23:{class:"rewatching",text:"RE",title:i.storage.lang(`UI_Status_Rewatching_${t}`)}}};if($.each([1,2,3,4,6,23],(function(e,t){r.anime[r.anime[t].title]=r.anime[t],r.manga[r.manga[t].title]=r.manga[t]})),e&&r[t][e]){const i=r[t][e];return` <a href="https://myanimelist.net/ownlist/${t}/${n}/edit?hideLayout=1" title="${i.title}" class="Lightbox_AddEdit button_edit ${i.class}">${i.text}</a>`}return!1}function q(e,t){switch(t){case 1:return i.storage.lang(`UI_Status_watching_${e}`);case 2:return i.storage.lang("UI_Status_Completed");case 3:return i.storage.lang("UI_Status_OnHold");case 4:return i.storage.lang("UI_Status_Dropped");case 6:return i.storage.lang(`UI_Status_planTo_${e}`);case 7:return i.storage.lang("UI_Status_All");case 23:return i.storage.lang(`UI_Status_Rewatching_${e}`);default:return""}}function H(e,t,n,r=""){const a={type:"basic",title:t,message:n,iconUrl:r};s.log("Notification",e,a),i.storage.get("notificationHistory").then((t=>{void 0===t&&(t=[]),"object"==typeof t&&(t.length>=10&&t.shift(),t.push({url:e,title:a.title,message:a.message,iconUrl:a.iconUrl,timestamp:Date.now()}),i.storage.set("notificationHistory",t))}));try{return chrome.notifications.create(e,a)}catch(e){s.error(e)}}function W(e,t,n){return o(this,void 0,void 0,(function*(){const r=yield i.storage.get(e);if("object"==typeof r&&(new Date).getTime()<r.timestamp)return r.data;const s=yield t();return i.storage.set(e,{data:s,timestamp:(new Date).getTime()+n}).then((()=>s))}))}function z(e,t){r.$("#flash-div-top").length||function(){i.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let e="";i.settings.get("floatButtonStealth")&&(e="mini-stealth"),r.$("body").after(r.html(`<div id="flash-div-top" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" class="${e}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),s.log("[Flash] Message:",e);let n="#323232";void 0!==t&&void 0!==t.error&&t.error&&(n="#3e0808");let a="#flash-div-bottom";void 0!==t&&void 0!==t.position&&t.position&&(a=`#flash-div-${t.position}`);let o="flash";if(void 0!==t&&void 0!==t.type&&t.type){const e=`type-${t.type}`;r.$(`${a} .${e}, #flashinfo-div .${e}`).removeClass(e).fadeOut({duration:1e3,queue:!1,complete(){r.$(this).remove()}}),o+=` ${e}`}let l,c=`<div class="${o}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${e}        </div>      </div>`;return void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?(o+=" flashinfo",c=`<div class="${o}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${e}</div></div></div>`,r.$("#flashinfo-div").addClass("hover"),l=r.$(r.html(c)).appendTo("#flashinfo-div"),void 0!==t&&void 0!==t.minimized&&t.minimized&&l.css("max-height","8px")):l=r.$(r.html(c)).appendTo(a),void 0!==t&&void 0!==t.permanent&&t.permanent?l.slideDown(800):void 0!==t&&void 0!==t.hoverInfo&&t.hoverInfo?l.slideDown(800).delay(4e3).queue((function(){r.$("#flashinfo-div").removeClass("hover"),l.css("max-height","8px")})):l.slideDown(800).delay(4e3).slideUp(800,(()=>{r.$(this).remove()})),l}function Y(e,t,n=(()=>{}),s=(()=>{}),a=!1){return o(this,void 0,void 0,(function*(){return new Promise((function(o,l){let c=i.storage.lang("Ok"),u=i.storage.lang("Cancel");a&&(c=i.storage.lang("Yes"),u=i.storage.lang("No"));const d=z(e=`<div style="text-align: center;">${e}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${c}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${u}</button></div>`,{permanent:!0,position:"top",type:t});d.find(".Yes").click((function(e){o(!0),r.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){r.$(this).remove()})),n()})),d.find(".Cancel").click((function(e){o(!1),r.$(e.target).parentsUntil(".flash").fadeOut(300,(function(){r.$(this).remove()})),s()}))}))}))}let K=!1,J=[];function X(e,t=".mdl-layout__content"){function n(e,t){if(!r.$(e).is(":visible"))return!1;if(r.$(e).hasClass("lazyBack"))r.$(e).css("background-image",`url(${e.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,r=e.getAttribute("data-src");n.onload=function(){e.parent?e.parent.replaceChild(n,e):e.src=r,t&&t()},n.src=r}}for(let e=0;e<J.length;e++)$(J[e]).addClass("init");J=[];const i=e.find("img.lazy.init, .lazyBack.init"),s=function(){for(let e=0;e<J.length;e++)a.elementInViewport(J[e],600)&&n(J[e],(function(){J.splice(e,e)})),$(J[e]).length||J.splice(e,e)};for(let e=0;e<i.length;e++)J.push(i[e]),$(i[e]).removeClass("init");s(),K||(K=!0,e.find(t).scroll((function(){s()})))}function Z(e,t=0){const n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-t<=(window.innerHeight||document.documentElement.clientHeight)}function Q(e){return new Promise((t=>{setTimeout(t,e)}))}function ee(e,t,n){switch(e){case"mal":return`https://myanimelist.net/${t}/${n}`;case"anilist":return`https://anilist.co/${t}/${n}`;case"kitsu":return`https://kitsu.io/${t}/${n}`;case"simkl":return`https://simkl.com/${t}/${n}`;default:throw`${e} not a valid page`}}function te(e=0){const t=new Date;t.setDate(t.getDate()+e);const n=t.getMonth()<9?`0${t.getMonth()+1}`:t.getMonth()+1,r=t.getDate()<10?`0${t.getDate()}`:t.getDate();return`${t.getFullYear()}-${n}-${r}`}function ne(e){return $("<textarea/>").html(r.html(e)).text()}function re(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function ie(){const e=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(e())return Promise.resolve();s.log("Page in background");const{asyncWaitUntilTrue:t}=A((()=>e()));return t().then((()=>{s.log("Page is visible")}))}function se(e){return e.split("/").length<4&&(e+="/"),e.replace(/\?.*/,"?")}function ae(){return o(this,void 0,void 0,(function*(){const e=yield i.storage.list();let t=0;r.$.each(e,(function(e,n){a.syncRegex.test(String(e))||/(^tagSettings\/.*)/.test(String(e))||(i.storage.remove(String(e)),t++)})),a.flashm(`Cache Cleared [${t}]`)}))}function oe(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}function le(e,t){const n=new URL(e),{host:r}=n;return r===t||r.endsWith(`.${t}`)}function ce(e){return!e||e.length<2?e:e.charAt(0).toUpperCase()+e.slice(1)}},19947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$:()=>i,html:()=>s});var r=n(27856);const i=jQuery;function s(e){return r.sanitize(e,{SAFE_FOR_JQUERY:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}},83744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}},16245:e=>{"use strict";e.exports=JSON.parse('[{"name":"9anime","domain":"https://9anime.to","database":"9anime","search":{"anime":"https://9anime.to/filter?keyword={searchtermPlus}","manga":null}},{"name":"Crunchyroll","domain":"https://www.crunchyroll.com","database":"Crunchyroll","search":{"anime":"https://www.crunchyroll.com/search?q={searchtermPlus}","manga":null}},{"name":"Vrv","domain":"https://vrv.co","database":"Vrv","search":{"anime":"https://vrv.co/?q={searchterm}","manga":null}},{"name":"Mangadex","domain":"https://www.mangadex.org","database":"Mangadex","search":{"anime":null,"manga":"https://mangadex.org/titles?q={searchterm}"}},{"name":"Gogoanime","domain":"https://gogoanime.tv","database":"Gogoanime","search":{"anime":"https://www1.gogoanime.ai/search.html?keyword={searchterm}","manga":null}},{"name":"Twistmoe","domain":"https://twist.moe","database":"Twistmoe","search":{"anime":"home","manga":null}},{"name":"TurkAnime","domain":"https://www.turkanime.co","database":null,"search":{"anime":"home","manga":null}},{"name":"animepahe","domain":"https://animepahe.com","database":"animepahe","search":{"anime":"home","manga":null}},{"name":"Netflix","domain":"https://www.netflix.com","database":"Netflix","search":{"anime":"https://www.netflix.com/search?q={searchterm}","manga":null}},{"name":"Animeflv","domain":"https://animeflv.net","database":null,"search":{"anime":"https://www3.animeflv.net/browse?q={searchtermPlus}","manga":null}},{"name":"Jkanime","domain":"https://jkanime.net","database":null,"search":{"anime":"https://jkanime.net/buscar/{searchterm}","manga":null}},{"name":"Proxer","domain":"https://proxer.me","database":null,"search":{"anime":"https://proxer.me/search?s=search&name={searchterm}&typ=all-anime&tags=&notags=#top","manga":"https://proxer.me/search?s=search&name={searchterm}&typ=all-manga&tags=&notags=#top"}},{"name":"Wakanim","domain":"https://www.wakanim.tv","database":null,"search":{"anime":"https://www.wakanim.tv/de/v2/catalogue/search?search={searchterm}","manga":null}},{"name":"Emby","domain":"http://app.emby.media","database":null,"search":{"anime":"home","manga":null}},{"name":"Plex","domain":"http://app.plex.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"Aniflix","domain":"https://www1.aniflix.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"KickAssAnime","domain":"https://www.kickassanime.ro","database":null,"search":{"anime":"https://www2.kickassanime.ro/search?q={searchterm}","manga":null}},{"name":"Shinden","domain":"https://shinden.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"Voiranime","domain":"https://voiranime.com","database":null,"search":{"anime":"https://voiranime.com/?s={searchtermPlus}","manga":null}},{"name":"MangaNato","domain":"https://manganato.com","database":"MangaNato","search":{"anime":null,"manga":"https://manganato.com/search/story/{searchterm(_)[noSpecial]}"}},{"name":"VIZ","domain":"https://www.viz.com","database":"VIZ","search":{"anime":null,"manga":"https://www.viz.com/search?search={searchtermPlus}"}},{"name":"NekoSama","domain":"https://neko-sama.fr","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeOdcinki","domain":"https://anime-odcinki.pl","database":null,"search":{"anime":"https://anime-odcinki.pl/szukaj/{searchtermPlus}","manga":null}},{"name":"AnimeZone","domain":"https://www.animezone.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"serimanga","domain":"https://serimanga.com","database":null,"search":{"anime":null,"manga":"https://serimanga.com/mangalar?search={searchtermPlus}"}},{"name":"mangadenizi","domain":"https://mangadenizi.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"moeclip","domain":"https://moeclip.com","database":null,"search":{"anime":"https://moeclip.com/search/{searchtermPlus}","manga":null}},{"name":"mangalivre","domain":"https://mangalivre.net","database":null,"search":{"anime":null,"manga":"home"}},{"name":"tmofans","domain":"https://lectortmo.com","database":null,"search":{"anime":null,"manga":"https://lectortmo.com/library?_pg=1&title={searchtermPlus}"}},{"name":"unionmangas","domain":"https://unionleitor.top","database":null,"search":{"anime":null,"manga":"home"}},{"name":"MangaPlus","domain":"https://mangaplus.shueisha.co.jp","database":"MangaPlus","search":{"anime":null,"manga":"https://mangaplus.shueisha.co.jp/search_result?keyword={searchterm}"}},{"name":"JapScan","domain":"https://www.japscan.ws","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Goyabu","domain":"https://goyabu.com","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimesVision","domain":"https://animes.vision","database":null,"search":{"anime":"home","manga":null}},{"name":"Hulu","domain":"https://www.hulu.com","database":"Hulu","search":{"anime":"home","manga":null}},{"name":"Hidive","domain":"https://www.hidive.com","database":"Hidive","search":{"anime":"https://www.hidive.com/search?q={searchtermPlus}","manga":null}},{"name":"FallenAngels","domain":"https://manga.fascans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Amazon Prime Video","domain":"https://www.primevideo.com","database":null,"search":{"anime":"home","manga":null}},{"name":"MangaKatana","domain":"http://mangakatana.com","database":null,"search":{"anime":null,"manga":"http://mangakatana.com/?search={searchtermPlus}&search_by=book_name"}},{"name":"manga4life","domain":"https://manga4life.com","database":null,"search":{"anime":null,"manga":"https://manga4life.com/search/?name={searchterm}"}},{"name":"bato","domain":"https://bato.to","database":null,"search":{"anime":null,"manga":"https://bato.to/search?word={searchtermPlus}"}},{"name":"MangaPark","domain":"https://mangapark.net","database":null,"search":{"anime":null,"manga":"https://mangapark.net/search?word={searchterm}"}},{"name":"AnimesHouse","domain":"https://animeshouse.net","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeXin","domain":"https://animexinax.com","database":null,"search":{"anime":"https://animexinax.com/?s={searchtermPlus}","manga":null}},{"name":"MonosChinos","domain":"https://monoschinos2.com","database":null,"search":{"anime":"https://monoschinos2.com/buscar?q={searchtermPlus}","manga":null}},{"name":"AnimeFire","domain":"https://animefire.net","database":null,"search":{"anime":"home","manga":null}},{"name":"OtakuFR","domain":"https://otakufr.co","database":null,"search":{"anime":"https://otakufr.co/toute-la-liste-affiches/?q={searchtermPlus}","manga":null}},{"name":"Samehadaku","domain":"https://samehadaku.vip","database":null,"search":{"anime":"https://samehadaku.vip/?s={searchtermPlus}","manga":null}},{"name":"Tsuki Mangás","domain":"https://www.tsukimangas.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"mangatx","domain":"https://mangatx.com","database":null,"search":{"anime":null,"manga":"https://mangatx.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"name":"manhuafast","domain":"https://manhuafast.com","database":null,"search":{"anime":null,"manga":"https://manhuafast.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"name":"TRanimeizle","domain":"https://www.tranimeizle.net/","database":null,"search":{"anime":"home","manga":null}},{"name":"Anihub","domain":"https://anihub.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeStreamingFR","domain":"https://beta.animestreamingfr.fr","database":null,"search":{"anime":"https://beta.animestreamingfr.fr/catalogue/search?query={searchtermPlus}","manga":null}},{"name":"Scantrad","domain":"https://scantrad.net","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Furyosquad","domain":"https://furyosquad.com/","database":null,"search":{"anime":null,"manga":"home"}},{"name":"AnimeId","domain":"https://www.animeid.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"MyAnimeList","domain":"https://myanimelist.net","database":null,"search":{"anime":"https://myanimelist.net/anime.php?q={searchterm}","manga":"https://myanimelist.net/manga.php?q={searchterm}"}},{"name":"AnimeUnity","domain":"https://animeunity.it","database":null,"search":{"anime":"home","manga":null}},{"name":"MangaHere","domain":"http://www.mangahere.cc","database":null,"search":{"anime":null,"manga":"http://www.mangahere.cc/search?title={searchtermPlus}"}},{"name":"MangaFox","domain":"http://fanfox.net","database":"MangaFox","search":{"anime":null,"manga":"http://fanfox.net/search?title={searchtermPlus}"}},{"name":"YayAnimes","domain":"https://yayanimes.net","database":null,"search":{"anime":"https://yayanimes.net/?s={searchtermPlus}","manga":null}},{"name":"DesuOnline","domain":"https://desu-online.pl","database":null,"search":{"anime":"https://desu-online.pl/?s={searchtermPlus}","manga":null}},{"name":"Simplyaweeb","domain":"https://simplyaweeb.to","database":null,"search":{"anime":"home","manga":null}},{"name":"WuxiaWorld","domain":"https://wuxiaworld.site","database":null,"search":{"anime":null,"manga":"https://wuxiaworld.site/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"LeviatanScans","domain":"https://en.leviatanscans.com","database":null,"search":{"anime":null,"manga":"https://en.leviatanscans.com/?s={searchtermPlus}"}},{"name":"ReaperScans","domain":"https://reaperscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"LynxScans","domain":"https://lynxscans.com","database":null,"search":{"anime":null,"manga":"https://lynxscans.com/comics?query={searchtermPlus}"}},{"name":"SKScans","domain":"https://skscans.com","database":null,"search":{"anime":null,"manga":"https://skscans.com/?s={searchtermPlus}"}},{"name":"ZeroScans","domain":"https://zeroscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"DeathTollScans","domain":"https://reader.deathtollscans.net","database":null,"search":{"anime":null,"manga":"home"}},{"name":"SenseScans","domain":"https://sensescans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"ManhuaPlus","domain":"https://manhuaplus.com","database":null,"search":{"anime":null,"manga":"https://manhuaplus.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Readm","domain":"https://readm.org","database":null,"search":{"anime":null,"manga":"home"}},{"name":"tioanime","domain":"https://tioanime.com","database":null,"search":{"anime":"https://tioanime.com/directorio?q={searchtermPlus}","manga":null}},{"name":"YugenAnime","domain":"https://yugen.to","database":"YugenAnime","search":{"anime":"https://yugen.to/search/?q={searchtermPlus}","manga":null}},{"name":"MangaSee","domain":"https://mangasee123.com","database":"MangaSee","search":{"anime":null,"manga":"https://mangasee123.com/search/?name={searchterm}"}},{"name":"AnimeTribes","domain":"https://animetribes.ru","database":null,"search":{"anime":"home","manga":null}},{"name":"Okanime","domain":"https://okanime.tv","database":null,"search":{"anime":"https://okanime.tv/search?search={searchtermPlus}","manga":null}},{"name":"bs.to","domain":"https://bs.to","database":null,"search":{"anime":"home","manga":null}},{"name":"AsuraScans","domain":"https://asura.gg","database":null,"search":{"anime":null,"manga":"https://www.asurascans.com/?s={searchtermPlus}"}},{"name":"NaniScans","domain":"https://naniscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Jellyfin","domain":"https://jellyfin.org/","database":null,"search":{"anime":"home","manga":null}},{"name":"An1me","domain":"https://an1me.nl","database":null,"search":{"anime":"https://an1me.nl/?s={searchtermPlus}&post_type=wp-manga","manga":null}},{"name":"MangaJar","domain":"https://mangajar.com","database":null,"search":{"anime":null,"manga":"https://mangajar.com/search?q={searchtermPlus}"}},{"name":"AnimeDao","domain":"https://animedao.to","database":null,"search":{"anime":"https://animedao.to/search/?search={searchtermPlus}","manga":null}},{"name":"Otakustv","domain":"https://www.otakustv.com","database":null,"search":{"anime":"https://www.otakustv.com/buscador.php?buscador={searchterm}","manga":null}},{"name":"Komga","domain":"https://komga.org","database":null,"search":{"anime":null,"manga":"home"}},{"name":"AnimeWho","domain":"https://animewho.com","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeSuge","domain":"https://animesuge.to","database":null,"search":{"anime":"home","manga":null}},{"name":"Toonily","domain":"https://toonily.net","database":null,"search":{"anime":null,"manga":"https://toonily.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Fumetsu","domain":"https://fumetsu.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"NonstopScans","domain":"https://www.nonstopscans.com","database":null,"search":{"anime":null,"manga":"https://www.nonstopscans.com/?s={searchtermPlus}"}},{"name":"FrixySubs","domain":"https://frixysubs.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"Guya & Cubari","domain":"https://guya.moe","database":null,"search":{"anime":null,"manga":"home"}},{"name":"MangaHub","domain":"https://mangahub.io","database":null,"search":{"anime":null,"manga":"https://mangahub.io/search?q={searchterm}"}},{"name":"ComicK","domain":"https://comick.app","database":"Comick","search":{"anime":null,"manga":"https://comick.app/search?q={searchterm}"}},{"name":"Japanread","domain":"https://www.japanread.cc/","database":null,"search":{"anime":null,"manga":"https://www.japanread.cc/manga-list?q={searchterm}"}},{"name":"Bentomanga","domain":"https://www.bentomanga.com","database":null,"search":{"anime":null,"manga":"https://www.bentomanga.com/manga_list?search={searchterm}"}},{"name":"MangaSushi","domain":"https://mangasushi.net","database":null,"search":{"anime":null,"manga":"https://mangasushi.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"HunlightScans","domain":"https://hunlight-scans.info/","database":null,"search":{"anime":null,"manga":"https://hunlight-scans.info/comics?query={searchtermPlus}"}},{"name":"TritiniaScans","domain":"https://tritinia.com","database":null,"search":{"anime":null,"manga":"https://tritinia.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"ReadManhua","domain":"https://readmanhua.net","database":null,"search":{"anime":null,"manga":"https://readmanhua.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"FlameScans","domain":"https://flamescans.org","database":null,"search":{"anime":null,"manga":"https://flamescans.org/?s={searchtermPlus}"}},{"name":"ImmortalUpdates","domain":"https://immortalupdates.com","database":null,"search":{"anime":null,"manga":"https://immortalupdates.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Zoro","domain":"https://zoro.to","database":"Zoro","search":{"anime":"https://zoro.to/search?keyword={searchtermPlus}","manga":null}},{"name":"Funimation","domain":"https://www.funimation.com","database":"Funimation","search":{"anime":"https://www.funimation.com/search/?q={searchterm}","manga":null}},{"name":"Kitsune","domain":"https://beta.kitsune.tv","database":null,"search":{"anime":"https://kitsune.tv/shows?q={searchterm}","manga":null}},{"name":"AnimesOnline","domain":"https://animesonline.org","database":null,"search":{"anime":"https://animesonline.org/?s={searchtermPlus}","manga":null}},{"name":"LHTranslation","domain":"https://lhtranslation.net","database":null,"search":{"anime":null,"manga":"https://lhtranslation.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"MangasOrigines","domain":"https://mangas-origines.fr/","database":null,"search":{"anime":null,"manga":"https://mangas-origines.fr/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"shiro","domain":"https://shiro.is","database":null,"search":{"anime":"https://shiro.is/browse/?title={searchterm}","manga":null}},{"name":"BlueSolo","domain":"https://www.bluesolo.org","database":null,"search":{"anime":null,"manga":"home"}},{"name":"DisasterScans","domain":"https://disasterscans.com","database":null,"search":{"anime":null,"manga":"https://disasterscans.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"DynastyScans","domain":"https://dynasty-scans.com","database":null,"search":{"anime":null,"manga":"https://dynasty-scans.com/search?q={searchtermPlus}"}},{"name":"SugarBabies","domain":"https://sugarbbscan.com/","database":null,"search":{"anime":null,"manga":"https://sugarbbscan.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Aniworld","domain":"https://aniworld.to","database":null,"search":{"anime":"https://aniworld.to/search?q={searchterm}","manga":null}},{"name":"BetterAnime","domain":"https://betteranime.net","database":null,"search":{"anime":"https://betteranime.net/pesquisa?titulo={searchtermPlus}","manga":null}},{"name":"BilibiliComics","domain":"https://www.bilibilicomics.com","database":null,"search":{"anime":null,"manga":"https://www.bilibilicomics.com/search?keyword={searchterm( )[noLowercase]}"}},{"name":"MangaReader","domain":"https://mangareader.to","database":"MangaReader","search":{"anime":null,"manga":"https://mangareader.to/search?keyword={searchtermPlus}"}},{"name":"AnimeOnsen","domain":"https://animeonsen.xyz","database":null,"search":{"anime":"https://www.animeonsen.xyz/search/{searchterm}","manga":null}},{"name":"Puray","domain":"https://puray.moe","database":null,"search":{"anime":"home","manga":null}},{"name":"Animetoast","domain":"https://www.animetoast.cc","database":null,"search":{"anime":"https://www.animetoast.cc/?s={searchterm}","manga":null}},{"name":"MuitoMangá","domain":"https://muitomanga.com","database":null,"search":{"anime":null,"manga":"https://muitomanga.com/buscar?q={searchtermPlus}"}},{"name":"RealmScans","domain":"https://realmscans.com","database":null,"search":{"anime":null,"manga":"https://realmscans.com/?s={searchtermPlus}"}},{"name":"LuminousScans","domain":"https://luminousscans.com","database":null,"search":{"anime":null,"manga":"https://luminousscans.com/?s={searchtermPlus}"}},{"name":"Animeworld","domain":"https://www.animeworld.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"MangaBuddy","domain":"https://mangabuddy.com","database":null,"search":{"anime":null,"manga":"https://mangabuddy.com/search?q={searchtermPlus}"}},{"name":"Vostfree","domain":"https://vostfree.cx","database":null,"search":{"anime":"https://vostfree.tv/index.php?do=search&subaction=search&story={searchterm}","manga":null}},{"name":"VoidScans","domain":"https://void-scans.com","database":null,"search":{"anime":null,"manga":"https://void-scans.com/?s={searchtermPlus}"}},{"name":"ToonAnime","domain":"https://vvww.toonanime.cc","database":null,"search":{"anime":"https://vvww.toonanime.cc/?story={searchtermPlus}&do=search&subaction=search","manga":null}},{"name":"ADKami","domain":"https://www.adkami.com/","database":null,"search":{"anime":"https://www.adkami.com/video?search={searchtermPlus}","manga":null}},{"name":"Kaguya","domain":"https://kaguya.live","database":null,"search":{"anime":"https://kaguya.live/browse?keyword={searchtermPlus}","manga":null}},{"name":"Hdrezka","domain":"https://hdrezka.ag","database":null,"search":{"anime":"https://hdrezka.ag/search/?do=search&subaction=search&q={searchterm}","manga":null}},{"name":"ADN","domain":"https://animationdigitalnetwork.fr","database":null,"search":{"anime":"https://animationdigitalnetwork.fr/video?search={searchterm}","manga":null}},{"name":"Aniyan","domain":"https://aniyan.net","database":"Aniyan","search":{"anime":"https://aniyan.net/?s={searchtermPlus}","manga":null}},{"name":"marin","domain":"https://marin.moe","database":"Marin","search":{"anime":"https://marin.moe/anime?search={searchterm}","manga":null}},{"name":"Isekaiscan","domain":"https://isekaiscan.com","database":null,"search":{"anime":null,"manga":"https://isekaiscan.com/?s={searchtermPlus}&post_type=wp-manga"}}]')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FunctionToString:()=>oo,InboundFilters:()=>io});var t={};n.r(t),n.d(t,{Breadcrumbs:()=>Bo,Dedupe:()=>fl,GlobalHandlers:()=>ol,HttpContext:()=>bl,LinkedErrors:()=>pl,TryCatch:()=>nl});var r=n(3577),i=n(2262);function s(e,t,n,r){let i;try{i=r?e(...r):e()}catch(e){o(e,t,n)}return i}function a(e,t,n,i){if((0,r.mf)(e)){const a=s(e,t,n,i);return a&&(0,r.tI)(a)&&a.catch((e=>{o(e,t,n)})),a}const l=[];for(let r=0;r<e.length;r++)l.push(a(e[r],t,n,i));return l}function o(e,t,n,r=!0){if(t&&t.vnode,t){let r=t.parent;const i=t.proxy,a=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,a))return;r=r.parent}const o=t.appContext.config.errorHandler;if(o)return void s(o,null,10,[e,i,a])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let l=!1,c=!1;const u=[];let d=0;const h=[];let p=null,m=0;const f=Promise.resolve();let g=null;function y(e){const t=g||f;return e?t.then(this?e.bind(this):e):t}function _(e){u.length&&u.includes(e,l&&e.allowRecurse?d+1:d)||(null==e.id?u.push(e):u.splice(function(e){let t=d+1,n=u.length;for(;t<n;){const r=t+n>>>1;E(u[r])<e?t=r+1:n=r}return t}(e.id),0,e),v())}function v(){l||c||(c=!0,g=f.then(x))}function b(e,t=(l?d+1:0)){for(;t<u.length;t++){const e=u[t];e&&e.pre&&(u.splice(t,1),t--,e())}}function w(e){if(h.length){const e=[...new Set(h)];if(h.length=0,p)return void p.push(...e);for(p=e,p.sort(((e,t)=>E(e)-E(t))),m=0;m<p.length;m++)p[m]();p=null,m=0}}const E=e=>null==e.id?1/0:e.id,S=(e,t)=>{const n=E(e)-E(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function x(e){c=!1,l=!0,u.sort(S),r.dG;try{for(d=0;d<u.length;d++){const e=u[d];e&&!1!==e.active&&s(e,null,14)}}finally{d=0,u.length=0,w(),l=!1,g=null,(u.length||h.length)&&x(e)}}function k(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r.kT;let s=n;const o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in i){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:a}=i[e]||r.kT;a&&(s=n.map((e=>(0,r.HD)(e)?e.trim():e))),t&&(s=n.map(r.He))}let c,u=i[c=(0,r.hR)(t)]||i[c=(0,r.hR)((0,r._A)(t))];!u&&o&&(u=i[c=(0,r.hR)((0,r.rs)(t))]),u&&a(u,e,6,s);const d=i[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,a(d,e,6,s)}}function T(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(void 0!==s)return s;const a=e.emits;let o={},l=!1;if(!(0,r.mf)(e)){const i=e=>{const n=T(e,t,!0);n&&(l=!0,(0,r.l7)(o,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return a||l?((0,r.kJ)(a)?a.forEach((e=>o[e]=null)):(0,r.l7)(o,a),(0,r.Kn)(e)&&i.set(e,o),o):((0,r.Kn)(e)&&i.set(e,null),null)}function A(e,t){return!(!e||!(0,r.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,r.RI)(e,(0,r.rs)(t))||(0,r.RI)(e,t))}new Set,new Map;let N=null,C=null;function O(e){const t=N;return N=e,C=e&&e.type.__scopeId||null,t}function I(e,t=N,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&ft(-1);const i=O(t);let s;try{s=e(...n)}finally{O(i),r._d&&ft(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function R(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:a,propsOptions:[l],slots:c,attrs:u,emit:d,render:h,renderCache:p,data:m,setupState:f,ctx:g,inheritAttrs:y}=e;let _,v;const b=O(e);try{if(4&n.shapeFlag){const e=s||i;_=Ct(h.call(e,e,p,a,f,m,g)),v=u}else{const e=t;_=Ct(e.length>1?e(a,{attrs:u,slots:c,emit:d}):e(a,null)),v=t.props?u:L(u)}}catch(t){dt.length=0,o(t,e,1),_=kt(ct)}let w=_;if(v&&!1!==y){const e=Object.keys(v),{shapeFlag:t}=w;e.length&&7&t&&(l&&e.some(r.tR)&&(v=P(v,l)),w=Tt(w,v))}return n.dirs&&(w=Tt(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),_=w,O(b),_}const L=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.F7)(n))&&((t||(t={}))[n]=e[n]);return t},P=(e,t)=>{const n={};for(const i in e)(0,r.tR)(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function M(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!A(n,s))return!0}return!1}function D(e,t,n=!1){const i=Pt||N;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&(0,r.mf)(t)?t.call(i.proxy):t}}const U={};function j(e,t,n){return B(e,t,n)}function B(e,t,{immediate:n,deep:o,flush:l,onTrack:c,onTrigger:u}=r.kT){const d=Pt;let h,p,m=!1,f=!1;if((0,i.dq)(e)?(h=()=>e.value,m=(0,i.yT)(e)):(0,i.PG)(e)?(h=()=>e,o=!0):(0,r.kJ)(e)?(f=!0,m=e.some((e=>(0,i.PG)(e)||(0,i.yT)(e))),h=()=>e.map((e=>(0,i.dq)(e)?e.value:(0,i.PG)(e)?G(e):(0,r.mf)(e)?s(e,d,2):void 0))):h=(0,r.mf)(e)?t?()=>s(e,d,2):()=>{if(!d||!d.isUnmounted)return p&&p(),a(e,d,3,[y])}:r.dG,t&&o){const e=h;h=()=>G(e())}let g,y=e=>{p=E.onStop=()=>{s(e,d,4)}};if(Bt){if(y=r.dG,t?n&&a(t,d,3,[h(),f?[]:void 0,y]):h(),"sync"!==l)return r.dG;{const e=Wt();g=e.__watcherHandles||(e.__watcherHandles=[])}}let v=f?new Array(e.length).fill(U):U;const b=()=>{if(E.active)if(t){const e=E.run();(o||m||(f?e.some(((e,t)=>(0,r.aU)(e,v[t]))):(0,r.aU)(e,v)))&&(p&&p(),a(t,d,3,[e,v===U?void 0:f&&v[0]===U?[]:v,y]),v=e)}else E.run()};let w;b.allowRecurse=!!t,"sync"===l?w=b:"post"===l?w=()=>rt(b,d&&d.suspense):(b.pre=!0,d&&(b.id=d.uid),w=()=>_(b));const E=new i.qq(h,w);t?n?b():v=E.run():"post"===l?rt(E.run.bind(E),d&&d.suspense):E.run();const S=()=>{E.stop(),d&&d.scope&&(0,r.Od)(d.scope.effects,E)};return g&&g.push(S),S}function F(e,t,n){const i=this.proxy,s=(0,r.HD)(e)?e.includes(".")?V(i,e):()=>i[e]:e.bind(i,i);let a;(0,r.mf)(t)?a=t:(a=t.handler,n=t);const o=Pt;Dt(this);const l=B(s,a.bind(i),n);return o?Dt(o):Ut(),l}function V(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function G(e,t){if(!(0,r.Kn)(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),(0,i.dq)(e))G(e.value,t);else if((0,r.kJ)(e))for(let n=0;n<e.length;n++)G(e[n],t);else if((0,r.DM)(e)||(0,r._N)(e))e.forEach((e=>{G(e,t)}));else if((0,r.PO)(e))for(const n in e)G(e[n],t);return e}const q=[Function,Array],H={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:q,onEnter:q,onAfterEnter:q,onEnterCancelled:q,onBeforeLeave:q,onLeave:q,onAfterLeave:q,onLeaveCancelled:q,onBeforeAppear:q,onAppear:q,onAfterAppear:q,onAppearCancelled:q},setup(e,{slots:t}){const n=Mt(),r=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return le((()=>{e.isMounted=!0})),de((()=>{e.isUnmounting=!0})),e}();let s;return()=>{const a=t.default&&Z(t.default(),!0);if(!a||!a.length)return;let o=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==ct){o=t,e=!0;break}}const l=(0,i.IU)(e),{mode:c}=l;if(r.isLeaving)return K(o);const u=J(o);if(!u)return K(o);const d=Y(u,l,r,n);X(u,d);const h=n.subTree,p=h&&J(h);let m=!1;const{getTransitionKey:f}=u.type;if(f){const e=f();void 0===s?s=e:e!==s&&(s=e,m=!0)}if(p&&p.type!==ct&&(!bt(u,p)||m)){const e=Y(p,l,r,n);if(X(p,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},K(o);"in-out"===c&&u.type!==ct&&(e.delayLeave=(e,t,n)=>{z(r,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return o}}},W=H;function z(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Y(e,t,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:p,onLeave:m,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:y,onAppear:_,onAfterAppear:v,onAppearCancelled:b}=t,w=String(e.key),E=z(n,e),S=(e,t)=>{e&&a(e,i,9,t)},x=(e,t)=>{const n=t[1];S(e,t),(0,r.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},k={mode:o,persisted:l,beforeEnter(t){let r=c;if(!n.isMounted){if(!s)return;r=y||c}t._leaveCb&&t._leaveCb(!0);const i=E[w];i&&bt(e,i)&&i.el._leaveCb&&i.el._leaveCb(),S(r,[t])},enter(e){let t=u,r=d,i=h;if(!n.isMounted){if(!s)return;t=_||u,r=v||d,i=b||h}let a=!1;const o=e._enterCb=t=>{a||(a=!0,S(t?i:r,[e]),k.delayedLeave&&k.delayedLeave(),e._enterCb=void 0)};t?x(t,[e,o]):o()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();S(p,[t]);let s=!1;const a=t._leaveCb=n=>{s||(s=!0,r(),S(n?g:f,[t]),t._leaveCb=void 0,E[i]===e&&delete E[i])};E[i]=e,m?x(m,[t,a]):a()},clone:e=>Y(e,t,n,i)};return k}function K(e){if(ee(e))return(e=Tt(e)).children=null,e}function J(e){return ee(e)?e.children?e.children[0]:void 0:e}function X(e,t){6&e.shapeFlag&&e.component?X(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Z(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const o=null==n?a.key:String(n)+String(null!=a.key?a.key:s);a.type===ot?(128&a.patchFlag&&i++,r=r.concat(Z(a.children,t,o))):(t||a.type!==ct)&&r.push(null!=o?Tt(a,{key:o}):a)}if(i>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}const Q=e=>!!e.type.__asyncLoader,ee=e=>e.type.__isKeepAlive;function te(e,t){re(e,"a",t)}function ne(e,t){re(e,"da",t)}function re(e,t,n=Pt){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(se(t,r,n),n){let e=n.parent;for(;e&&e.parent;)ee(e.parent.vnode)&&ie(r,t,n,e),e=e.parent}}function ie(e,t,n,i){const s=se(t,e,i,!0);he((()=>{(0,r.Od)(i[t],s)}),n)}function se(e,t,n=Pt,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),Dt(n);const s=a(t,n,e,r);return Ut(),(0,i.lk)(),s});return r?s.unshift(o):s.push(o),o}}RegExp,RegExp;const ae=e=>(t,n=Pt)=>(!Bt||"sp"===e)&&se(e,((...e)=>t(...e)),n),oe=ae("bm"),le=ae("m"),ce=ae("bu"),ue=ae("u"),de=ae("bum"),he=ae("um"),pe=ae("sp"),me=ae("rtg"),fe=ae("rtc");function ge(e,t=Pt){se("ec",e,t)}function ye(e,t){const n=N;if(null===n)return e;const i=Gt(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,a,o,l=r.kT]=t[e];n&&((0,r.mf)(n)&&(n={mounted:n,updated:n}),n.deep&&G(a),s.push({dir:n,instance:i,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function _e(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let u=c.dir[r];u&&((0,i.Jd)(),a(u,n,8,[e.el,c,e,t]),(0,i.lk)())}}const ve="components";function be(e,t){return Ee(ve,e,!0,t)||e}const we=Symbol();function Ee(e,t,n=!0,i=!1){const s=N||Pt;if(s){const n=s.type;if(e===ve){const e=function(e,t=!0){return(0,r.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}(n,!1);if(e&&(e===t||e===(0,r._A)(t)||e===(0,r.kC)((0,r._A)(t))))return n}const a=Se(s[e]||n[e],t)||Se(s.appContext[e],t);return!a&&i?n:a}}function Se(e,t){return e&&(e[t]||e[(0,r._A)(t)]||e[(0,r.kC)((0,r._A)(t))])}function xe(e,t,n,i){let s;const a=n&&n[i];if((0,r.kJ)(e)||(0,r.HD)(e)){s=new Array(e.length);for(let n=0,r=e.length;n<r;n++)s[n]=t(e[n],n,void 0,a&&a[n])}else if("number"==typeof e){s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,a&&a[n])}else if((0,r.Kn)(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];s[r]=t(e[i],i,r,a&&a[r])}}else s=[];return n&&(n[i]=s),s}function ke(e,t,n={},r,i){if(N.isCE||N.parent&&Q(N.parent)&&N.parent.isCE)return"default"!==t&&(n.name=t),kt("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),pt();const a=s&&Te(s(n)),o=_t(ot,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&1===e._?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Te(e){return e.some((e=>!vt(e)||e.type!==ct&&!(e.type===ot&&!Te(e.children))))?e:null}const Ae=e=>e?jt(e)?Gt(e)||e.proxy:Ae(e.parent):null,Ne=(0,r.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ae(e.parent),$root:e=>Ae(e.root),$emit:e=>e.emit,$options:e=>Le(e),$forceUpdate:e=>e.f||(e.f=()=>_(e.update)),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>F.bind(e)}),Ce=(e,t)=>e!==r.kT&&!e.__isScriptSetup&&(0,r.RI)(e,t),$e={get({_:e},t){const{ctx:n,setupState:s,data:a,props:o,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 1:return s[t];case 2:return a[t];case 4:return n[t];case 3:return o[t]}else{if(Ce(s,t))return l[t]=1,s[t];if(a!==r.kT&&(0,r.RI)(a,t))return l[t]=2,a[t];if((d=e.propsOptions[0])&&(0,r.RI)(d,t))return l[t]=3,o[t];if(n!==r.kT&&(0,r.RI)(n,t))return l[t]=4,n[t];Oe&&(l[t]=0)}}const h=Ne[t];let p,m;return h?("$attrs"===t&&(0,i.j)(e,"get",t),h(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==r.kT&&(0,r.RI)(n,t)?(l[t]=4,n[t]):(m=u.config.globalProperties,(0,r.RI)(m,t)?m[t]:void 0)},set({_:e},t,n){const{data:i,setupState:s,ctx:a}=e;return Ce(s,t)?(s[t]=n,!0):i!==r.kT&&(0,r.RI)(i,t)?(i[t]=n,!0):!((0,r.RI)(e.props,t)||"$"===t[0]&&t.slice(1)in e||(a[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:a}},o){let l;return!!n[o]||e!==r.kT&&(0,r.RI)(e,o)||Ce(t,o)||(l=a[0])&&(0,r.RI)(l,o)||(0,r.RI)(i,o)||(0,r.RI)(Ne,o)||(0,r.RI)(s.config.globalProperties,o)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Oe=!0;function Ie(e,t,n){a((0,r.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Re(e,t,n,i){const s=i.includes(".")?V(n,i):()=>n[i];if((0,r.HD)(e)){const n=t[e];(0,r.mf)(n)&&j(s,n)}else if((0,r.mf)(e))j(s,e.bind(n));else if((0,r.Kn)(e))if((0,r.kJ)(e))e.forEach((e=>Re(e,t,n,i)));else{const i=(0,r.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.mf)(i)&&j(s,i,e)}}function Le(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,l=a.get(t);let c;return l?c=l:s.length||n||i?(c={},s.length&&s.forEach((e=>Pe(c,e,o,!0))),Pe(c,t,o)):c=t,(0,r.Kn)(t)&&a.set(t,c),c}function Pe(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Pe(e,s,n,!0),i&&i.forEach((t=>Pe(e,t,n,!0)));for(const i in t)if(r&&"expose"===i);else{const r=Me[i]||n&&n[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const Me={data:De,props:Be,emits:Be,methods:Be,computed:Be,beforeCreate:je,created:je,beforeMount:je,mounted:je,beforeUpdate:je,updated:je,beforeDestroy:je,beforeUnmount:je,destroyed:je,unmounted:je,activated:je,deactivated:je,errorCaptured:je,serverPrefetch:je,components:Be,directives:Be,watch:function(e,t){if(!e)return t;if(!t)return e;const n=(0,r.l7)(Object.create(null),e);for(const r in t)n[r]=je(e[r],t[r]);return n},provide:De,inject:function(e,t){return Be(Ue(e),Ue(t))}};function De(e,t){return t?e?function(){return(0,r.l7)((0,r.mf)(e)?e.call(this,this):e,(0,r.mf)(t)?t.call(this,this):t)}:t:e}function Ue(e){if((0,r.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function je(e,t){return e?[...new Set([].concat(e,t))]:t}function Be(e,t){return e?(0,r.l7)((0,r.l7)(Object.create(null),e),t):t}function Fe(e,t,n,s){const[a,o]=e.propsOptions;let l,c=!1;if(t)for(let i in t){if((0,r.Gg)(i))continue;const u=t[i];let d;a&&(0,r.RI)(a,d=(0,r._A)(i))?o&&o.includes(d)?(l||(l={}))[d]=u:n[d]=u:A(e.emitsOptions,i)||i in s&&u===s[i]||(s[i]=u,c=!0)}if(o){const t=(0,i.IU)(n),s=l||r.kT;for(let i=0;i<o.length;i++){const l=o[i];n[l]=Ve(a,t,l,s[l],e,!(0,r.RI)(s,l))}}return c}function Ve(e,t,n,i,s,a){const o=e[n];if(null!=o){const e=(0,r.RI)(o,"default");if(e&&void 0===i){const e=o.default;if(o.type!==Function&&(0,r.mf)(e)){const{propsDefaults:r}=s;n in r?i=r[n]:(Dt(s),i=r[n]=e.call(null,t),Ut())}else i=e}o[0]&&(a&&!e?i=!1:!o[1]||""!==i&&i!==(0,r.rs)(n)||(i=!0))}return i}function Ge(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const a=e.props,o={},l=[];let c=!1;if(!(0,r.mf)(e)){const i=e=>{c=!0;const[n,i]=Ge(e,t,!0);(0,r.l7)(o,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!a&&!c)return(0,r.Kn)(e)&&i.set(e,r.Z6),r.Z6;if((0,r.kJ)(a))for(let e=0;e<a.length;e++){const t=(0,r._A)(a[e]);qe(t)&&(o[t]=r.kT)}else if(a)for(const e in a){const t=(0,r._A)(e);if(qe(t)){const n=a[e],i=o[t]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:Object.assign({},n);if(i){const e=ze(Boolean,i.type),n=ze(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||(0,r.RI)(i,"default"))&&l.push(t)}}}const u=[o,l];return(0,r.Kn)(e)&&i.set(e,u),u}function qe(e){return"$"!==e[0]}function He(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function We(e,t){return He(e)===He(t)}function ze(e,t){return(0,r.kJ)(t)?t.findIndex((t=>We(t,e))):(0,r.mf)(t)&&We(t,e)?0:-1}const Ye=e=>"_"===e[0]||"$stable"===e,Ke=e=>(0,r.kJ)(e)?e.map(Ct):[Ct(e)],Je=(e,t,n)=>{if(t._n)return t;const r=I(((...e)=>Ke(t(...e))),n);return r._c=!1,r},Xe=(e,t,n)=>{const i=e._ctx;for(const n in e){if(Ye(n))continue;const s=e[n];if((0,r.mf)(s))t[n]=Je(0,s,i);else if(null!=s){const e=Ke(s);t[n]=()=>e}}},Ze=(e,t)=>{const n=Ke(t);e.slots.default=()=>n};function Qe(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let et=0;function tt(e,t){return function(n,i=null){(0,r.mf)(n)||(n=Object.assign({},n)),null==i||(0,r.Kn)(i)||(i=null);const s=Qe(),a=new Set;let o=!1;const l=s.app={_uid:et++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:zt,get config(){return s.config},set config(e){},use:(e,...t)=>(a.has(e)||(e&&(0,r.mf)(e.install)?(a.add(e),e.install(l,...t)):(0,r.mf)(e)&&(a.add(e),e(l,...t))),l),mixin:e=>(s.mixins.includes(e)||s.mixins.push(e),l),component:(e,t)=>t?(s.components[e]=t,l):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,l):s.directives[e],mount(r,a,c){if(!o){const u=kt(n,i);return u.appContext=s,a&&t?t(u,r):e(u,r,c),o=!0,l._container=r,r.__vue_app__=l,Gt(u.component)||u.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,l)};return l}}function nt(e,t,n,a,o=!1){if((0,r.kJ)(e))return void e.forEach(((e,i)=>nt(e,t&&((0,r.kJ)(t)?t[i]:t),n,a,o)));if(Q(a)&&!o)return;const l=4&a.shapeFlag?Gt(a.component)||a.component.proxy:a.el,c=o?null:l,{i:u,r:d}=e,h=t&&t.r,p=u.refs===r.kT?u.refs={}:u.refs,m=u.setupState;if(null!=h&&h!==d&&((0,r.HD)(h)?(p[h]=null,(0,r.RI)(m,h)&&(m[h]=null)):(0,i.dq)(h)&&(h.value=null)),(0,r.mf)(d))s(d,u,12,[c,p]);else{const t=(0,r.HD)(d),s=(0,i.dq)(d);if(t||s){const i=()=>{if(e.f){const n=t?(0,r.RI)(m,d)?m[d]:p[d]:d.value;o?(0,r.kJ)(n)&&(0,r.Od)(n,l):(0,r.kJ)(n)?n.includes(l)||n.push(l):t?(p[d]=[l],(0,r.RI)(m,d)&&(m[d]=p[d])):(d.value=[l],e.k&&(p[e.k]=d.value))}else t?(p[d]=c,(0,r.RI)(m,d)&&(m[d]=c)):s&&(d.value=c,e.k&&(p[e.k]=c))};c?(i.id=-1,rt(i,n)):i()}}}const rt=function(e,t){var n;t&&t.pendingBranch?(0,r.kJ)(e)?t.effects.push(...e):t.effects.push(e):(n=e,(0,r.kJ)(n)?h.push(...n):p&&p.includes(n,n.allowRecurse?m+1:m)||h.push(n),v())};function it(e,t){(0,r.E9)().__VUE__=!0;const{insert:n,remove:a,patchProp:l,createElement:c,createText:h,createComment:p,setText:m,setElementText:f,parentNode:g,nextSibling:y,setScopeId:v=r.dG,insertStaticContent:E}=e,S=(e,t,n,r=null,i=null,s=null,a=!1,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!bt(e,t)&&(r=ne(e),K(e,i,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case lt:x(e,t,n,r);break;case ct:N(e,t,n,r);break;case ut:null==e&&C(t,n,r,a);break;case ot:j(e,t,n,r,i,s,a,o,l);break;default:1&d?$(e,t,n,r,i,s,a,o,l):6&d?B(e,t,n,r,i,s,a,o,l):(64&d||128&d)&&c.process(e,t,n,r,i,s,a,o,l,ie)}null!=u&&i&&nt(u,e&&e.ref,s,t||e,!t)},x=(e,t,r,i)=>{if(null==e)n(t.el=h(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&m(n,t.children)}},N=(e,t,r,i)=>{null==e?n(t.el=p(t.children||""),r,i):t.el=e.el},C=(e,t,n,r)=>{[e.el,e.anchor]=E(e.children,t,n,r,e.el,e.anchor)},$=(e,t,n,r,i,s,a,o,l)=>{a=a||"svg"===t.type,null==e?O(t,n,r,i,s,a,o,l):P(e,t,i,s,a,o,l)},O=(e,t,i,s,a,o,u,d)=>{let h,p;const{type:m,props:g,shapeFlag:y,transition:_,dirs:v}=e;if(h=e.el=c(e.type,o,g&&g.is,g),8&y?f(h,e.children):16&y&&L(e.children,h,null,s,a,o&&"foreignObject"!==m,u,d),v&&_e(e,null,s,"created"),g){for(const t in g)"value"===t||(0,r.Gg)(t)||l(h,t,null,g[t],o,e.children,s,a,te);"value"in g&&l(h,"value",null,g.value),(p=g.onVnodeBeforeMount)&&It(p,s,e)}I(h,e,e.scopeId,u,s),v&&_e(e,null,s,"beforeMount");const b=(!a||a&&!a.pendingBranch)&&_&&!_.persisted;b&&_.beforeEnter(h),n(h,t,i),((p=g&&g.onVnodeMounted)||b||v)&&rt((()=>{p&&It(p,s,e),b&&_.enter(h),v&&_e(e,null,s,"mounted")}),a)},I=(e,t,n,r,i)=>{if(n&&v(e,n),r)for(let t=0;t<r.length;t++)v(e,r[t]);if(i&&t===i.subTree){const t=i.vnode;I(e,t,t.scopeId,t.slotScopeIds,i.parent)}},L=(e,t,n,r,i,s,a,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?$t(e[c]):Ct(e[c]);S(null,l,t,n,r,i,s,a,o)}},P=(e,t,n,i,s,a,o)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:h}=t;u|=16&e.patchFlag;const p=e.props||r.kT,m=t.props||r.kT;let g;n&&st(n,!1),(g=m.onVnodeBeforeUpdate)&&It(g,n,t,e),h&&_e(t,e,n,"beforeUpdate"),n&&st(n,!0);const y=s&&"foreignObject"!==t.type;if(d?D(e.dynamicChildren,d,c,n,i,y,a):o||H(e,t,c,null,n,i,y,a,!1),u>0){if(16&u)U(c,t,p,m,n,i,s);else if(2&u&&p.class!==m.class&&l(c,"class",null,m.class,s),4&u&&l(c,"style",p.style,m.style,s),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const a=r[t],o=p[a],u=m[a];u===o&&"value"!==a||l(c,a,o,u,s,e.children,n,i,te)}}1&u&&e.children!==t.children&&f(c,t.children)}else o||null!=d||U(c,t,p,m,n,i,s);((g=m.onVnodeUpdated)||h)&&rt((()=>{g&&It(g,n,t,e),h&&_e(t,e,n,"updated")}),i)},D=(e,t,n,r,i,s,a)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],u=l.el&&(l.type===ot||!bt(l,c)||70&l.shapeFlag)?g(l.el):n;S(l,c,u,null,r,i,s,a,!0)}},U=(e,t,n,i,s,a,o)=>{if(n!==i){if(n!==r.kT)for(const c in n)(0,r.Gg)(c)||c in i||l(e,c,n[c],null,o,t.children,s,a,te);for(const c in i){if((0,r.Gg)(c))continue;const u=i[c],d=n[c];u!==d&&"value"!==c&&l(e,c,d,u,o,t.children,s,a,te)}"value"in i&&l(e,"value",n.value,i.value)}},j=(e,t,r,i,s,a,o,l,c)=>{const u=t.el=e?e.el:h(""),d=t.anchor=e?e.anchor:h("");let{patchFlag:p,dynamicChildren:m,slotScopeIds:f}=t;f&&(l=l?l.concat(f):f),null==e?(n(u,r,i),n(d,r,i),L(t.children,r,d,s,a,o,l,c)):p>0&&64&p&&m&&e.dynamicChildren?(D(e.dynamicChildren,m,r,s,a,o,l),(null!=t.key||s&&t===s.subTree)&&at(e,t,!0)):H(e,t,r,d,s,a,o,l,c)},B=(e,t,n,r,i,s,a,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,l):F(t,n,r,i,s,a,l):V(e,t,l)},F=(e,t,n,a,l,c,u)=>{const d=e.component=function(e,t,n){const s=e.type,a=(t?t.appContext:e.appContext)||Rt,o={uid:Lt++,vnode:e,type:s,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ge(s,a),emitsOptions:T(s,a),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:s.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=k.bind(null,o),e.ce&&e.ce(o),o}(e,a,l);if(ee(e)&&(d.ctx.renderer=ie),function(e,t=!1){Bt=t;const{props:n,children:a}=e.vnode,l=jt(e);!function(e,t,n,s=!1){const a={},o={};(0,r.Nj)(o,wt,1),e.propsDefaults=Object.create(null),Fe(e,t,a,o);for(const t in e.propsOptions[0])t in a||(a[t]=void 0);n?e.props=s?a:(0,i.Um)(a):e.type.props?e.props=a:e.props=o,e.attrs=o}(e,n,l,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,i.IU)(t),(0,r.Nj)(t,"_",n)):Xe(t,e.slots={})}else e.slots={},t&&Ze(e,t);(0,r.Nj)(e.slots,wt,1)})(e,a);const c=l?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,i.Xl)(new Proxy(e.ctx,$e));const{setup:a}=n;if(a){const n=e.setupContext=a.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>((0,i.j)(e,"get","$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;Dt(e),(0,i.Jd)();const l=s(a,e,0,[e.props,n]);if((0,i.lk)(),Ut(),(0,r.tI)(l)){if(l.then(Ut,Ut),t)return l.then((n=>{Ft(e,n,t)})).catch((t=>{o(t,e,0)}));e.asyncDep=l}else Ft(e,l,t)}else Vt(e,t)}(e,t):void 0;Bt=!1}(d),d.asyncDep){if(l&&l.registerDep(d,G),!e.el){const e=d.subTree=kt(ct);N(null,e,t,n)}}else G(d,e,t,n,l,c,u)},V=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:o,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!o||o&&o.$stable)||r!==a&&(r?!a||M(r,a,c):!!a);if(1024&l)return!0;if(16&l)return r?M(r,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!A(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void q(r,t,n);r.next=t,function(e){const t=u.indexOf(e);t>d&&u.splice(t,1)}(r.update),r.update()}else t.el=e.el,r.vnode=t},G=(e,t,n,s,a,o,l)=>{const c=e.effect=new i.qq((()=>{if(e.isMounted){let t,{next:n,bu:i,u:s,parent:c,vnode:u}=e,d=n;st(e,!1),n?(n.el=u.el,q(e,n,l)):n=u,i&&(0,r.ir)(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&It(t,c,n,u),st(e,!0);const h=R(e),p=e.subTree;e.subTree=h,S(p,h,g(p.el),ne(p),e,a,o),n.el=h.el,null===d&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,h.el),s&&rt(s,a),(t=n.props&&n.props.onVnodeUpdated)&&rt((()=>It(t,c,n,u)),a)}else{let i;const{el:l,props:c}=t,{bm:u,m:d,parent:h}=e,p=Q(t);if(st(e,!1),u&&(0,r.ir)(u),!p&&(i=c&&c.onVnodeBeforeMount)&&It(i,h,t),st(e,!0),l&&ae){const n=()=>{e.subTree=R(e),ae(l,e.subTree,e,a,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const r=e.subTree=R(e);S(null,r,n,s,e,a,o),t.el=r.el}if(d&&rt(d,a),!p&&(i=c&&c.onVnodeMounted)){const e=t;rt((()=>It(i,h,e)),a)}(256&t.shapeFlag||h&&Q(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&rt(e.a,a),e.isMounted=!0,t=n=s=null}}),(()=>_(u)),e.scope),u=e.update=()=>c.run();u.id=e.uid,st(e,!0),u()},q=(e,t,n)=>{t.component=e;const s=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,s){const{props:a,attrs:o,vnode:{patchFlag:l}}=e,c=(0,i.IU)(a),[u]=e.propsOptions;let d=!1;if(!(s||l>0)||16&l){let i;Fe(e,t,a,o)&&(d=!0);for(const s in c)t&&((0,r.RI)(t,s)||(i=(0,r.rs)(s))!==s&&(0,r.RI)(t,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(a[s]=Ve(u,c,s,void 0,e,!0)):delete a[s]);if(o!==c)for(const e in o)t&&(0,r.RI)(t,e)||(delete o[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(A(e.emitsOptions,s))continue;const l=t[s];if(u)if((0,r.RI)(o,s))l!==o[s]&&(o[s]=l,d=!0);else{const t=(0,r._A)(s);a[t]=Ve(u,c,t,l,e,!1)}else l!==o[s]&&(o[s]=l,d=!0)}}d&&(0,i.X$)(e,"set","$attrs")}(e,t.props,s,n),((e,t,n)=>{const{vnode:i,slots:s}=e;let a=!0,o=r.kT;if(32&i.shapeFlag){const e=t._;e?n&&1===e?a=!1:((0,r.l7)(s,t),n||1!==e||delete s._):(a=!t.$stable,Xe(t,s)),o=t}else t&&(Ze(e,t),o={default:1});if(a)for(const e in s)Ye(e)||e in o||delete s[e]})(e,t.children,n),(0,i.Jd)(),b(),(0,i.lk)()},H=(e,t,n,r,i,s,a,o,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void z(c,d,n,r,i,s,a,o,l);if(256&h)return void W(c,d,n,r,i,s,a,o,l)}8&p?(16&u&&te(c,i,s),d!==c&&f(n,d)):16&u?16&p?z(c,d,n,r,i,s,a,o,l):te(c,i,s,!0):(8&u&&f(n,""),16&p&&L(d,n,r,i,s,a,o,l))},W=(e,t,n,i,s,a,o,l,c)=>{e=e||r.Z6,t=t||r.Z6;const u=e.length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const r=t[p]=c?$t(t[p]):Ct(t[p]);S(e[p],r,n,null,s,a,o,l,c)}u>d?te(e,s,a,!0,!1,h):L(t,n,i,s,a,o,l,c,h)},z=(e,t,n,i,s,a,o,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const r=e[u],i=t[u]=c?$t(t[u]):Ct(t[u]);if(!bt(r,i))break;S(r,i,n,null,s,a,o,l,c),u++}for(;u<=h&&u<=p;){const r=e[h],i=t[p]=c?$t(t[p]):Ct(t[p]);if(!bt(r,i))break;S(r,i,n,null,s,a,o,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,r=e<d?t[e].el:i;for(;u<=p;)S(null,t[u]=c?$t(t[u]):Ct(t[u]),n,r,s,a,o,l,c),u++}}else if(u>p)for(;u<=h;)K(e[u],s,a,!0),u++;else{const m=u,f=u,g=new Map;for(u=f;u<=p;u++){const e=t[u]=c?$t(t[u]):Ct(t[u]);null!=e.key&&g.set(e.key,u)}let y,_=0;const v=p-f+1;let b=!1,w=0;const E=new Array(v);for(u=0;u<v;u++)E[u]=0;for(u=m;u<=h;u++){const r=e[u];if(_>=v){K(r,s,a,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(y=f;y<=p;y++)if(0===E[y-f]&&bt(r,t[y])){i=y;break}void 0===i?K(r,s,a,!0):(E[i-f]=u+1,i>=w?w=i:b=!0,S(r,t[i],n,null,s,a,o,l,c),_++)}const x=b?function(e){const t=e.slice(),n=[0];let r,i,s,a,o;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,e[n[o]]<l?s=o+1:a=o;l<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}(E):r.Z6;for(y=x.length-1,u=v-1;u>=0;u--){const e=f+u,r=t[e],h=e+1<d?t[e+1].el:i;0===E[u]?S(null,r,n,h,s,a,o,l,c):b&&(y<0||u!==x[y]?Y(r,n,h,2):y--)}}},Y=(e,t,r,i,s=null)=>{const{el:a,type:o,transition:l,children:c,shapeFlag:u}=e;if(6&u)Y(e.component.subTree,t,r,i);else if(128&u)e.suspense.move(t,r,i);else if(64&u)o.move(e,t,r,ie);else if(o!==ot)if(o!==ut)if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(a),n(a,t,r),rt((()=>l.enter(a)),s);else{const{leave:e,delayLeave:i,afterLeave:s}=l,o=()=>n(a,t,r),c=()=>{e(a,(()=>{o(),s&&s()}))};i?i(a,o,c):c()}else n(a,t,r);else(({el:e,anchor:t},r,i)=>{let s;for(;e&&e!==t;)s=y(e),n(e,r,i),e=s;n(t,r,i)})(e,t,r);else{n(a,t,r);for(let e=0;e<c.length;e++)Y(c[e],t,r,i);n(e.anchor,t,r)}},K=(e,t,n,r=!1,i=!1)=>{const{type:s,props:a,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=o&&nt(o,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&h,m=!Q(e);let f;if(m&&(f=a&&a.onVnodeBeforeUnmount)&&It(f,t,e),6&u)Z(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);p&&_e(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,ie,r):c&&(s!==ot||d>0&&64&d)?te(c,t,n,!1,!0):(s===ot&&384&d||!i&&16&u)&&te(l,t,n),r&&J(e)}(m&&(f=a&&a.onVnodeUnmounted)||p)&&rt((()=>{f&&It(f,t,e),p&&_e(e,null,t,"unmounted")}),n)},J=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===ot)return void X(n,r);if(t===ut)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=y(e),a(e),e=n;a(t)})(e);const s=()=>{a(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,a=()=>t(n,s);r?r(e.el,s,a):a()}else s()},X=(e,t)=>{let n;for(;e!==t;)n=y(e),a(e),e=n;a(t)},Z=(e,t,n)=>{const{bum:i,scope:s,update:a,subTree:o,um:l}=e;i&&(0,r.ir)(i),s.stop(),a&&(a.active=!1,K(o,e,t,n)),l&&rt(l,t),rt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},te=(e,t,n,r=!1,i=!1,s=0)=>{for(let a=s;a<e.length;a++)K(e[a],t,n,r,i)},ne=e=>6&e.shapeFlag?ne(e.component.subTree):128&e.shapeFlag?e.suspense.next():y(e.anchor||e.el),re=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):S(t._vnode||null,e,t,null,null,null,n),b(),w(),t._vnode=e},ie={p:S,um:K,m:Y,r:J,mt:F,mc:L,pc:H,pbc:D,n:ne,o:e};let se,ae;return t&&([se,ae]=t(ie)),{render:re,hydrate:se,createApp:tt(re,se)}}function st({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function at(e,t,n=!1){const i=e.children,s=t.children;if((0,r.kJ)(i)&&(0,r.kJ)(s))for(let e=0;e<i.length;e++){const t=i[e];let r=s[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=s[e]=$t(s[e]),r.el=t.el),n||at(t,r)),r.type===lt&&(r.el=t.el)}}const ot=Symbol(void 0),lt=Symbol(void 0),ct=Symbol(void 0),ut=Symbol(void 0),dt=[];let ht=null;function pt(e=!1){dt.push(ht=e?null:[])}let mt=1;function ft(e){mt+=e}function gt(e){return e.dynamicChildren=mt>0?ht||r.Z6:null,dt.pop(),ht=dt[dt.length-1]||null,mt>0&&ht&&ht.push(e),e}function yt(e,t,n,r,i,s){return gt(xt(e,t,n,r,i,s,!0))}function _t(e,t,n,r,i){return gt(kt(e,t,n,r,i,!0))}function vt(e){return!!e&&!0===e.__v_isVNode}function bt(e,t){return e.type===t.type&&e.key===t.key}const wt="__vInternal",Et=({key:e})=>null!=e?e:null,St=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,r.HD)(e)||(0,i.dq)(e)||(0,r.mf)(e)?{i:N,r:e,k:t,f:!!n}:e:null;function xt(e,t=null,n=null,i=0,s=null,a=(e===ot?0:1),o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Et(t),ref:t&&St(t),scopeId:C,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:N};return l?(Ot(c,n),128&a&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.HD)(n)?8:16),mt>0&&!o&&ht&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&ht.push(c),c}const kt=function(e,t=null,n=null,s=0,a=null,o=!1){if(e&&e!==we||(e=ct),vt(e)){const r=Tt(e,t,!0);return n&&Ot(r,n),mt>0&&!o&&ht&&(6&r.shapeFlag?ht[ht.indexOf(e)]=r:ht.push(r)),r.patchFlag|=-2,r}if(function(e){return(0,r.mf)(e)&&"__vccOpts"in e}(e)&&(e=e.__vccOpts),t){t=function(e){return e?(0,i.X3)(e)||wt in e?(0,r.l7)({},e):e:null}(t);let{class:e,style:n}=t;e&&!(0,r.HD)(e)&&(t.class=(0,r.C_)(e)),(0,r.Kn)(n)&&((0,i.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),t.style=(0,r.j5)(n))}return xt(e,t,n,s,a,(0,r.HD)(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:(0,r.Kn)(e)?4:(0,r.mf)(e)?2:0,o,!0)};function Tt(e,t,n=!1){const{props:i,ref:s,patchFlag:a,children:o}=e,l=t?function(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=(0,r.C_)([t.class,i.class]));else if("style"===e)t.style=(0,r.j5)([t.style,i.style]);else if((0,r.F7)(e)){const n=t[e],s=i[e];!s||n===s||(0,r.kJ)(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=i[e])}return t}(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Et(l),ref:t&&t.ref?n&&s?(0,r.kJ)(s)?s.concat(St(t)):[s,St(t)]:St(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ot?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Tt(e.ssContent),ssFallback:e.ssFallback&&Tt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function At(e=" ",t=0){return kt(lt,null,e,t)}function Nt(e="",t=!1){return t?(pt(),_t(ct,null,e)):kt(ct,null,e)}function Ct(e){return null==e||"boolean"==typeof e?kt(ct):(0,r.kJ)(e)?kt(ot,null,e.slice()):"object"==typeof e?$t(e):kt(lt,null,String(e))}function $t(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Tt(e)}function Ot(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if((0,r.kJ)(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),Ot(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||wt in t?3===r&&N&&(1===N.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=N}}else(0,r.mf)(t)?(t={default:t,_ctx:N},n=32):(t=String(t),64&i?(n=16,t=[At(t)]):n=8);e.children=t,e.shapeFlag|=n}function It(e,t,n,r=null){a(e,t,7,[n,r])}const Rt=Qe();let Lt=0;let Pt=null;const Mt=()=>Pt||N,Dt=e=>{Pt=e,e.scope.on()},Ut=()=>{Pt&&Pt.scope.off(),Pt=null};function jt(e){return 4&e.vnode.shapeFlag}let Bt=!1;function Ft(e,t,n){(0,r.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.Kn)(t)&&(e.setupState=(0,i.WL)(t)),Vt(e,n)}function Vt(e,t,n){const s=e.type;e.render||(e.render=s.render||r.dG),Dt(e),(0,i.Jd)(),function(e){const t=Le(e),n=e.proxy,s=e.ctx;Oe=!1,t.beforeCreate&&Ie(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:p,mounted:m,beforeUpdate:f,updated:g,activated:y,deactivated:_,beforeDestroy:v,beforeUnmount:b,destroyed:w,unmounted:E,render:S,renderTracked:x,renderTriggered:k,errorCaptured:T,serverPrefetch:A,expose:N,inheritAttrs:C,components:$,directives:O,filters:I}=t;if(d&&function(e,t,n=r.dG,s=!1){(0,r.kJ)(e)&&(e=Ue(e));for(const n in e){const a=e[n];let o;o=(0,r.Kn)(a)?"default"in a?D(a.from||n,a.default,!0):D(a.from||n):D(a),(0,i.dq)(o)&&s?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[n]=o}}(d,s,null,e.appContext.config.unwrapInjectedRef),l)for(const e in l){const t=l[e];(0,r.mf)(t)&&(s[e]=t.bind(n))}if(a){const t=a.call(n,n);(0,r.Kn)(t)&&(e.data=(0,i.qj)(t))}if(Oe=!0,o)for(const e in o){const t=o[e],i=(0,r.mf)(t)?t.bind(n,n):(0,r.mf)(t.get)?t.get.bind(n,n):r.dG,a=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(n):r.dG,l=qt({get:i,set:a});Object.defineProperty(s,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)Re(c[e],s,n,e);if(u){const e=(0,r.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(Pt){let n=Pt.provides;const r=Pt.parent&&Pt.parent.provides;r===n&&(n=Pt.provides=Object.create(r)),n[e]=t}}(t,e[t])}))}function R(e,t){(0,r.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&Ie(h,e,"c"),R(oe,p),R(le,m),R(ce,f),R(ue,g),R(te,y),R(ne,_),R(ge,T),R(fe,x),R(me,k),R(de,b),R(he,E),R(pe,A),(0,r.kJ)(N))if(N.length){const t=e.exposed||(e.exposed={});N.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===r.dG&&(e.render=S),null!=C&&(e.inheritAttrs=C),$&&(e.components=$),O&&(e.directives=O)}(e),(0,i.lk)(),Ut()}function Gt(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Ne?Ne[n](e):void 0,has:(e,t)=>t in e||t in Ne}))}const qt=(e,t)=>(0,i.Fl)(e,t,Bt),Ht=Symbol(""),Wt=()=>D(Ht),zt="3.2.45",Yt="undefined"!=typeof document?document:null,Kt=Yt&&Yt.createElement("template"),Jt={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Yt.createElementNS("http://www.w3.org/2000/svg",e):Yt.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>Yt.createTextNode(e),createComment:e=>Yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==s&&(i=i.nextSibling););else{Kt.innerHTML=r?`<svg>${e}</svg>`:e;const i=Kt.content;if(r){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Xt=/\s*!important$/;function Zt(e,t,n){if((0,r.kJ)(n))n.forEach((n=>Zt(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=function(e,t){const n=en[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return en[t]=i;i=(0,r.kC)(i);for(let n=0;n<Qt.length;n++){const r=Qt[n]+i;if(r in e)return en[t]=r}return t}(e,t);Xt.test(n)?e.setProperty((0,r.rs)(i),n.replace(Xt,""),"important"):e[i]=n}}const Qt=["Webkit","Moz","ms"],en={},tn="http://www.w3.org/1999/xlink";function nn(e,t,n,r){e.addEventListener(t,n,r)}const rn=/(?:Once|Passive|Capture)$/;let sn=0;const an=Promise.resolve(),on=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const ln="transition",cn="animation",un=(e,{slots:t})=>function(e,t,n){const i=arguments.length;return 2===i?(0,r.Kn)(t)&&!(0,r.kJ)(t)?vt(t)?kt(e,null,[t]):kt(e,t):kt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&vt(n)&&(n=[n]),kt(e,t,n))}(W,function(e){const t={};for(const n in e)n in dn||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:i,duration:s,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:u=o,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,f=function(e){if(null==e)return null;if((0,r.Kn)(e))return[mn(e.enter),mn(e.leave)];{const t=mn(e);return[t,t]}}(s),g=f&&f[0],y=f&&f[1],{onBeforeEnter:_,onEnter:v,onEnterCancelled:b,onLeave:w,onLeaveCancelled:E,onBeforeAppear:S=_,onAppear:x=v,onAppearCancelled:k=b}=t,T=(e,t,n)=>{gn(e,t?d:l),gn(e,t?u:o),n&&n()},A=(e,t)=>{e._isLeaving=!1,gn(e,h),gn(e,m),gn(e,p),t&&t()},N=e=>(t,n)=>{const r=e?x:v,s=()=>T(t,e,n);hn(r,[t,s]),yn((()=>{gn(t,e?c:a),fn(t,e?d:l),pn(r)||vn(t,i,g,s)}))};return(0,r.l7)(t,{onBeforeEnter(e){hn(_,[e]),fn(e,a),fn(e,o)},onBeforeAppear(e){hn(S,[e]),fn(e,c),fn(e,u)},onEnter:N(!1),onAppear:N(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>A(e,t);fn(e,h),document.body.offsetHeight,fn(e,p),yn((()=>{e._isLeaving&&(gn(e,h),fn(e,m),pn(w)||vn(e,i,y,n))})),hn(w,[e,n])},onEnterCancelled(e){T(e,!1),hn(b,[e])},onAppearCancelled(e){T(e,!0),hn(k,[e])},onLeaveCancelled(e){A(e),hn(E,[e])}})}(e),t);un.displayName="Transition";const dn={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hn=(un.props=(0,r.l7)({},W.props,dn),(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)}),pn=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function mn(e){return(0,r.He)(e)}function fn(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function gn(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function yn(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let _n=0;function vn(e,t,n,r){const i=e._endId=++_n,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=function(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r("transitionDelay"),s=r("transitionDuration"),a=bn(i,s),o=r("animationDelay"),l=r("animationDuration"),c=bn(o,l);let u=null,d=0,h=0;return t===ln?a>0&&(u=ln,d=a,h=s.length):t===cn?c>0&&(u=cn,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?ln:cn:null,h=u?u===ln?s.length:l.length:0),{type:u,timeout:d,propCount:h,hasTransform:u===ln&&/\b(transform|all)(,|$)/.test(r("transitionProperty").toString())}}(e,t);if(!a)return r();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,h),s()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),o+1),e.addEventListener(c,h)}function bn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>wn(t)+wn(e[n]))))}function wn(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}new WeakMap,new WeakMap;const En=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,r.kJ)(t)?e=>(0,r.ir)(t,e):t};function Sn(e){e.target.composing=!0}function xn(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const kn={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=En(s);const a=i||s.props&&"number"===s.props.type;nn(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),a&&(i=(0,r.He)(i)),e._assign(i)})),n&&nn(e,"change",(()=>{e.value=e.value.trim()})),t||(nn(e,"compositionstart",Sn),nn(e,"compositionend",xn),nn(e,"change",xn))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},a){if(e._assign=En(a),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((s||"number"===e.type)&&(0,r.He)(e.value)===t)return}const o=null==t?"":t;e.value!==o&&(e.value=o)}},Tn={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=(0,r.DM)(t);nn(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,r.He)(Nn(e)):Nn(e)));e._assign(e.multiple?s?new Set(t):t:t[0])})),e._assign=En(i)},mounted(e,{value:t}){An(e,t)},beforeUpdate(e,t,n){e._assign=En(n)},updated(e,{value:t}){An(e,t)}};function An(e,t){const n=e.multiple;if(!n||(0,r.kJ)(t)||(0,r.DM)(t)){for(let i=0,s=e.options.length;i<s;i++){const s=e.options[i],a=Nn(s);if(n)(0,r.kJ)(t)?s.selected=(0,r.hq)(t,a)>-1:s.selected=t.has(a);else if((0,r.WV)(Nn(s),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Nn(e){return"_value"in e?e._value:e.value}const Cn={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):$n(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),$n(e,!0),r.enter(e)):r.leave(e,(()=>{$n(e,!1)})):$n(e,t))},beforeUnmount(e,{value:t}){$n(e,t)}};function $n(e,t){e.style.display=t?e._vod:"none"}const On=(0,r.l7)({patchProp:(e,t,n,i,s=!1,o,l,c,u)=>{"class"===t?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,s):"style"===t?function(e,t,n){const i=e.style,s=(0,r.HD)(n);if(n&&!s){for(const e in n)Zt(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&Zt(i,e,"")}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||function(e,t,n,i,s=null){const o=e._vei||(e._vei={}),l=o[t];if(i&&l)l.value=i;else{const[n,c]=function(e){let t;if(rn.test(e)){let n;for(t={};n=e.match(rn);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):(0,r.rs)(e.slice(2)),t]}(t);if(i){const l=o[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();a(function(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=sn||(an.then((()=>sn=0)),sn=Date.now()),n}(i,s);nn(e,n,l,c)}else l&&(function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,l,c),o[t]=void 0)}}(e,t,0,i,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&on.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!on.test(t)||!(0,r.HD)(n))&&t in e))))}(e,t,i,s))?function(e,t,n,i,s,a,o){if("innerHTML"===t||"textContent"===t)return i&&o(i,s,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(e){}l&&e.removeAttribute(t)}(e,t,i,o,l,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,n,i,s){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(tn,t.slice(6,t.length)):e.setAttributeNS(tn,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}(e,t,i,s))}},Jt);let In;var Rn=n(27856);function Ln(){return Rn()}const Pn={install(e,t={},n=Ln){e.directive("dompurify-html",function(e={},t=Ln){const n=t();!function(e,t){const n=e.hooks??{};let r;for(r in n){const e=n[r];void 0!==e&&t.addHook(r,e)}}(e,n);const r=function(t,r){const i=r.value;if(r.oldValue===i)return;const s=`${i}`,a=r.arg,o=e.namedConfigurations,l=e.default??{};t.innerHTML=o&&void 0!==a?n.sanitize(s,o[a]??l):n.sanitize(s,l)};return{mounted:r,updated:r}}(t,n))}};var Mn=n(58339);function Dn(e,t,n){const i=((...e)=>{const t=(In||(In=it(On))).createApp(...e),{mount:n}=t;return t.mount=e=>{const i=function(e){return(0,r.HD)(e)?document.querySelector(e):e}(e);if(!i)return;const s=t._component;(0,r.mf)(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t})(e);i.use(Pn,{default:{ADD_ATTR:["target"]}}),n&&n.use&&n.use(i);let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error("Can't find root element");if(n&&n.shadowDom){let e;s.shadowRoot?(e=s.shadowRoot,e.innerHTML=""):e=s.attachShadow({mode:"open"}),s=e.appendChild(document.createElement("div"))}const a={};return i.mixin({beforeCreate(){this.$options.styles&&!a[this.$options.__file]&&(s.appendChild(function(e,t=""){const n=document.createElement("style");n.type="text/css",n.setAttribute("data-name",t);const r=document.createTextNode(e);return n.appendChild(r),n}(this.$options.styles.join("\n"),this.$options.__file)),a[this.$options.__file]=!0)},methods:{lang:Mn.storage.lang,getOption:e=>Mn.settings.get(e)}}),i.directive("visible",((e,t)=>{e.style.visibility=t.value?"visible":"hidden"})),i.mount(s)}var Un,jn,Bn,Fn=n(9375),Vn=n(58339),Gn=n(9e4);function qn(e,t){const n={id:e,type:t.toUpperCase()};return Vn.request.xhr("POST",{url:"https://graphql.anilist.co",headers:{"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify({query:"\n  query ($id: Int, $type: MediaType) {\n    Media (id: $id, type: $type) {\n      id\n      idMal\n    }\n  }\n  ",variables:n})}).then((e=>{const t=JSON.parse(e.responseText);return Gn.log(t),function(e,t=!1){if(void 0!==e.errors)for(let n=0,r=e.errors.length;n<r;n++){const r=e.errors[n];switch(r.status){case 400:if(!t)return Fn.flashm(Vn.storage.lang("Anilist_Authenticate"),{error:!0,type:"error"}),"noLogin";case 404:if(!t){Fn.flashm(`anilist: ${r.message}`,{error:!0,type:"error"});break}default:throw t||Fn.flashm(`anilist: ${r.message}`,{error:!0,type:"error"}),r.message}}}(t),t.data.Media.idMal}))}(jn=Un||(Un={}))[jn.NoState=0]="NoState",jn[jn.Watching=1]="Watching",jn[jn.Completed=2]="Completed",jn[jn.Onhold=3]="Onhold",jn[jn.Dropped=4]="Dropped",jn[jn.PlanToWatch=6]="PlanToWatch",jn[jn.All=7]="All",jn[jn.Rewatching=23]="Rewatching",function(e){e[e.NoScore=0]="NoScore",e[e.R1=1]="R1",e[e.R2=2]="R2",e[e.R3=3]="R3",e[e.R4=4]="R4",e[e.R5=5]="R5",e[e.R6=6]="R6",e[e.R7=7]="R7",e[e.R8=8]="R8",e[e.R9=9]="R9",e[e.R10=10]="R10"}(Bn||(Bn={}));var Hn=n(9e4);let Wn;if(function(){try{return localStorage.getItem("x"),!0}catch(e){return Hn.info("Local storage is not available",e),!1}}())Wn=localStorage;else{let e={};Wn={getItem:t=>t in e?e[t]:null,setItem(t,n){e[t]=n},removeItem(t){t in e&&delete e[t]},clear(){e={}}}}const zn=Wn;var Yn=n(58339),Kn=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};class Jn{constructor(e,t,n=!0,r=0){return this.key=e,this.ttl=t,this.localStorage=n,this.refetchTtl=r,this}containsValue(e){return null!=e}valueValid(e,t){return!(!e||!e.timestamp)&&(new Date).getTime()<e.timestamp+t}ttlValid(e){return this.valueValid(e,this.ttl)}refetchTtlValid(e){return this.valueValid(e,this.refetchTtl)}hasValue(){return Kn(this,void 0,void 0,(function*(){const e=yield this.getStorage();return!(!this.containsValue(e)||!this.ttlValid(e))}))}hasValueAndIsNotEmpty(){return Kn(this,void 0,void 0,(function*(){const e=yield this.getStorage();return!!(this.containsValue(e)&&void 0!==e.data&&null!==e.data&&Object.keys(e.data).length&&this.ttlValid(e))}))}fullState(){return Kn(this,void 0,void 0,(function*(){const e=yield this.getStorage(),t=this.containsValue(e)&&this.refetchTtlValid(e),n=this.ttlValid(e);return{value:e,hasValue:t,isValid:n,refetch:t&&!n}}))}getValue(){return Kn(this,void 0,void 0,(function*(){return(yield this.getStorage()).data}))}setValue(e){return Kn(this,void 0,void 0,(function*(){const t={data:e,timestamp:(new Date).getTime()};return this.localStorage?zn.setItem(this.key,JSON.stringify(t)):Yn.storage.set(this.key,t)}))}clearValue(){return Kn(this,void 0,void 0,(function*(){return this.localStorage?zn.removeItem(this.key):Yn.storage.remove(this.key)}))}getStorage(){return Kn(this,void 0,void 0,(function*(){return this.localStorage?JSON.parse(zn.getItem(this.key)):Yn.storage.get(this.key)}))}}n(58339);var Xn=n(56387),Zn=n(9e4),Qn=n(58339);const er=Math.floor(1e9*Math.random()),tr=new Xn.EventEmitter2({wildcard:!0});function nr(e,...t){Zn.m("Global").m("Emit").debug(e,...t),tr.emit(`${e}`,...t),void 0!==Qn&&Qn&&"webextension"===Qn.type&&chrome.runtime.sendMessage({name:"emitter",item:{event:e,params:t,id:er}})}void 0!==Qn&&Qn&&"webextension"===Qn.type&&chrome.runtime.onMessage.addListener(((e,t,n)=>{e.name&&"emitter"===e.name&&(Zn.m("Global").m("Event").debug(e.item.id,e.item.event,e.item.params),e.item.id!==er&&tr.emit(e.item.event,...e.item.params))}));var rr=n(58339);class ir extends Error{constructor(e){super(e),this.name="NotAutenticatedError"}}class sr extends Error{constructor(e){super(e),this.name="UrlNotSupportedError"}}class ar extends Error{constructor(e){super(e),this.name="ServerOfflineError"}}class or extends Error{constructor(e){super(e),this.name="NotFoundError"}}class lr extends Error{constructor(e){super(e),this.name="UnexpectedResponseError"}}function cr(e,t){return e instanceof ir?rr.storage.lang("Error_Authenticate",[t]):e instanceof ar?"Server Offline":e instanceof sr?`Incorrect url provided [${e.message}]`:e instanceof or?"Could not find this entry":e.message}var ur,dr,hr=n(58339),pr=n(9e4),mr=n(9375),fr=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};Object.seal(tr),n(19947),n(9375),n(58339),n(58339),function(e){e[e.watching=Un.Watching]="watching",e[e.completed=Un.Completed]="completed",e[e.on_hold=Un.Onhold]="on_hold",e[e.dropped=Un.Dropped]="dropped",e[e.plan_to_watch=Un.PlanToWatch]="plan_to_watch"}(ur||(ur={})),function(e){e[e.reading=Un.Watching]="reading",e[e.completed=Un.Completed]="completed",e[e.on_hold=Un.Onhold]="on_hold",e[e.dropped=Un.Dropped]="dropped",e[e.plan_to_read=Un.PlanToWatch]="plan_to_read"}(dr||(dr={})),n(58339),n(9e4);var gr=n(9e4),yr=n(58339);const _r=gr.m("anilist","#3db4f2");function vr(e,t=null){const n={CURRENT:1,PLANNING:6,COMPLETED:2,DROPPED:4,PAUSED:3,REPEATING:1};return null!==t?Object.keys(n).find((e=>n[e]===t)):n[e]}var br;function wr(e,t){return Number.isNaN(e)||!e?`anilist:${t}`:e}function Er(e,t,n=!0){const r={"Content-Type":"application/json",Accept:"application/json"};return n&&(r.Authorization=`Bearer ${yr.settings.get("anilistToken")}`),yr.request.xhr("POST",{url:"https://graphql.anilist.co",headers:r,data:JSON.stringify({query:e,variables:t})}).then((e=>{if(e.status>499&&e.status<600||0===e.status)throw new ar(`Server Offline status: ${e.status}`);if(403===e.status)throw new Error("Your IP has been banned on ANILIST, change your IP or wait for it to get unbanned");const t=function(e){try{return JSON.parse(e)}catch(e){throw new lr(e.message)}}(e.responseText);if(void 0!==t.errors&&t.errors.length){_r.error("[SINGLE]","Error",t.errors);const e=t.errors[0];switch(e.status){case 400:if("validation"===e.message)throw new Error("Wrong request format");if(e.message.includes("invalid"))throw new Error("Wrong request format");throw new ir(e.message);case 404:throw new or(e.message);default:throw new Error(e.message)}}return t}))}!function(e){e[e.CURRENT=Un.Watching]="CURRENT",e[e.PLANNING=Un.PlanToWatch]="PLANNING",e[e.COMPLETED=Un.Completed]="COMPLETED",e[e.DROPPED=Un.Dropped]="DROPPED",e[e.PAUSED=Un.Onhold]="PAUSED",e[e.REPEATING=Un.Rewatching]="REPEATING"}(br||(br={}));var Sr=n(58339),xr=n(9e4),kr=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};class Tr extends class{constructor(e=1,t="anime",n="default"){return this.status=e,this.listType=t,this.sort=n,this.done=!1,this.loading=!1,this.firstLoaded=!1,this.seperateRewatching=!1,this.modes={frontend:!1,sortAiring:!1,initProgress:!1,cached:!1},this.username="",this.offset=0,this.templist=[],this.api=hr,this.cacheObj=void 0,this.status=Number(this.status),this.logger=pr.m("[S]","#348fff"),this}setTemplist(e){return this.templist=e,this}getTemplist(){return this.templist}setSort(e){if(this.firstLoaded||this.loading)throw"To late to change sort";this.sort=e}isDone(){return this.done}isLoading(){return this.loading}isFirstLoaded(){return this.firstLoaded}getCompleteList(){return fr(this,void 0,void 0,(function*(){do{yield this.getNext()}while(!this.done);return this.modes.sortAiring&&(yield this.sortAiringList()),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,18)),this.firstLoaded=!0,this.templist}))}getNextPage(){return fr(this,void 0,void 0,(function*(){return this.done?this.templist:!this.modes.frontend||1!==this.status||"default"!==this.sort&&"unread"!==this.sort?(yield this.getNext(),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,24)),this.firstLoaded=!0,this.templist):(this.modes.sortAiring=!0,this.getCompleteList())}))}getNext(){return fr(this,void 0,void 0,(function*(){this.loading=!0;const e=yield this.getPart();this.templist=this.templist.concat(e),this.loading=!1}))}getCached(){return fr(this,void 0,void 0,(function*(){if(yield this.getCache().hasValue()){const e=yield this.getCache().getValue();return e.forEach((e=>{(e=this.fn(e)).watchedEp="",e.score=""})),e}return[]}))}initFrontendMode(){this.modes.frontend=!0,this.updateListener=tr.on("update.*",(e=>{if(pr.log("update",e),e.cacheKey){const t=this.templist.find((t=>t.cacheKey===e.cacheKey));pr.log(t),t&&e.state&&(t.watchedEp=e.state.episode,t.score=e.state.score,t.status=e.state.status)}}),{objectify:!0})}destroy(){this.updateListener&&this.updateListener.off()}getUsername(){return this.getUserObject().then((e=>e.username))}getSortingOptions(e=!1){const t=[{icon:"filter_list",title:"Default",value:"default"}];return 1===this.status&&"manga"===this.listType&&t.push({icon:"adjust",title:"Unread",value:"unread"}),this._getSortingOptions().forEach((n=>{if(!e){if(n.asc){const e=Object.assign({},n);delete e.asc,e.value+="_asc",e.title+=" Ascending",t.push(e)}delete n.asc}t.push(n)})),t}flashmError(e){mr.flashm(this.errorMessage(e),{error:!0,type:"error"})}errorMessage(e){return cr(e,this.authenticationUrl)}fn(e,t=""){return fr(this,void 0,void 0,(function*(){let n=null;return e.fn={continueUrl:()=>null!==n?n:mr.getContinueWaching(e.type,e.cacheKey).then((t=>{const r=parseInt(e.watchedEp.toString());return void 0===t||t.ep!==r+1?"":(n=t.url,n)})),initProgress:()=>new jr(e.cacheKey,e.type).init().then((t=>{e.fn.progress=t})),progress:!1},e.options=yield mr.getEntrySettings(e.type,e.cacheKey,e.tags),t&&(e.options.u=t),(this.modes.sortAiring||this.modes.initProgress)&&(yield e.fn.initProgress()),e}))}initProgress(){return fr(this,void 0,void 0,(function*(){const e=[];this.templist.forEach((t=>{e.push(t.fn.initProgress())})),yield Promise.all(e)}))}sortAiringList(){return fr(this,void 0,void 0,(function*(){if("unread"===this.sort)return void this.sortUnread();const e=[];let t=[],n=[];function r(e,t){let n=e.fn.progress.getPredictionTimestamp(),r=t.fn.progress.getPredictionTimestamp();return n||(n=999999999999),r||(r=n),n-r}this.templist.forEach((r=>{const i=r.fn.progress;"anime"===this.listType?i&&i.isAiring()&&i.getPredictionTimestamp()?r.watchedEp<i.getCurrentEpisode()?t.push(r):n.push(r):e.push(r):i&&i.isAiring()&&i.getCurrentEpisode()&&r.watchedEp&&r.watchedEp<i.getCurrentEpisode()&&r.watchedEp+6>i.getCurrentEpisode()?t.push(r):e.push(r)})),t=t.sort(r).reverse(),n=n.sort(r),this.templist=t.concat(n,e)}))}sortUnread(){this.templist=this.templist.sort((function(e,t){let n=1e4,r=1e4;if(e.fn.progress&&e.fn.progress.getCurrentEpisode()){const t=e.fn.progress.getCurrentEpisode()-e.watchedEp;t>0&&(n=t)}if(t.fn.progress&&t.fn.progress.getCurrentEpisode()){const e=t.fn.progress.getCurrentEpisode()-t.watchedEp;e>0&&(r=e)}return n-r}))}getCache(){return this.cacheObj||(this.cacheObj=new Jn(`list/${this.name}/${this.listType}/${this.status}/${this.sort}`,1728e5)),this.cacheObj}}{constructor(){super(...arguments),this.name="AniList",this.compact=!1,this.seperateRewatching=!0,this.authenticationUrl="https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token"}getUserObject(){return Er("\n    query {\n      Viewer {\n        name\n        id\n        avatar {\n          large\n        }\n        options {\n          displayAdultContent\n        }\n        mediaListOptions {\n          scoreFormat\n        }\n      }\n    }\n    ",[],!0).then((e=>{if(e.data.Viewer.options&&e.data.Viewer.mediaListOptions){const t=Sr.settings.get("anilistOptions");t.displayAdultContent=e.data.Viewer.options.displayAdultContent,t.scoreFormat=e.data.Viewer.mediaListOptions.scoreFormat,Sr.settings.set("anilistOptions",t)}return{username:e.data.Viewer.name,picture:e.data.Viewer.avatar.large||"",href:`https://anilist.co/user/${e.data.Viewer.id}`}}))}deauth(){return Sr.settings.set("anilistToken","")}accessToken(){return this.api.settings.get("anilistToken")}_getSortingOptions(){return[{icon:"sort_by_alpha",title:"Alphabetic",value:"alpha"},{icon:"history",title:"Last Updated",value:"updated",asc:!0},{icon:"score",title:"Score",value:"score",asc:!0}]}getOrder(e){switch(e){case"alpha":return"MEDIA_TITLE_ENGLISH";case"updated":return"UPDATED_TIME_DESC";case"updated_asc":return"UPDATED_TIME";case"score":return"SCORE_DESC";case"score_asc":return"SCORE";default:return 1===this.status||this.status,this.getOrder("updated")}}getPart(){return kr(this,void 0,void 0,(function*(){this.offset<1&&(this.offset=1),xr.log("[UserList][AniList]",`username: ${this.username}`,`status: ${this.status}`,`offset: ${this.offset}`),this.username||(this.username=yield this.getUsername());let e="\n    query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort] ) {\n      Page (page: $page, perPage: 100) {\n        pageInfo {\n          hasNextPage\n        }\n        mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n          status\n          score(format: POINT_100)\n          progress\n          progressVolumes\n          notes\n          media {\n            siteUrl\n            id\n            idMal\n            episodes\n            chapters\n            volumes\n            status\n            averageScore\n            coverImage{\n              large\n              extraLarge\n            }\n            bannerImage\n            title {\n              userPreferred\n            }\n          }\n        }\n      }\n    }\n    ";this.compact&&(e="\n      query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort]) {\n        Page (page: $page, perPage: 100) {\n          pageInfo {\n            hasNextPage\n          }\n          mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n            progress\n            media {\n              id\n              idMal\n            }\n          }\n        }\n      }\n      ");const t={page:this.offset,userName:this.username,type:this.listType.toUpperCase(),status:br[parseInt(this.status.toString())],sort:null},n=this.getOrder(this.sort);return n&&(t.sort=n),Er(e,t,!0).then((e=>{xr.log("res",e);const t=e.data.Page.mediaList;return this.offset+=1,e.data.Page.pageInfo.hasNextPage||(this.done=!0),this.prepareData(t,this.listType)}))}))}prepareData(e,t){var n,r;return kr(this,void 0,void 0,(function*(){const i=[];for(let s=0;s<e.length;s++){const a=e[s];let o;o="anime"===t?yield this.fn({uid:a.media.id,malId:a.media.idMal,apiCacheKey:null!==(n=a.media.idMal)&&void 0!==n?n:`anilist:${a.media.id}`,cacheKey:wr(a.media.idMal,a.media.id),type:t,title:a.media.title.userPreferred,url:a.media.siteUrl,watchedEp:a.progress,totalEp:a.media.episodes,status:vr(a.status),score:Math.round(a.score/10),image:a.media.coverImage.large,imageLarge:a.media.coverImage.extraLarge,imageBanner:a.media.bannerImage,tags:a.notes,airingState:a.anime_airing_status}):yield this.fn({uid:a.media.id,malId:a.media.idMal,apiCacheKey:null!==(r=a.media.idMal)&&void 0!==r?r:`anilist:${a.media.id}`,cacheKey:wr(a.media.idMal,a.media.id),type:t,title:a.media.title.userPreferred,url:a.media.siteUrl,watchedEp:a.progress,totalEp:a.media.chapters,status:vr(a.status),score:Math.round(a.score/10),image:a.media.coverImage.large,imageLarge:a.media.coverImage.extraLarge,imageBanner:a.media.bannerImage,tags:a.notes,airingState:a.anime_airing_status}),null===o.totalEp&&(o.totalEp=0),i.push(o)}return i}))}prepareCompact(e,t){const n=[];for(let t=0;t<e.length;t++){const r=e[t];n.push({malid:r.media.idMal,id:r.media.id,watchedEp:r.progress,cacheKey:wr(r.media.idMal,r.media.id)})}return n}}var Ar,Nr=n(9e4);n(58339),Nr.m("kitsu","#d65e43"),n(58339),n(9e4),n(9e4),n(58339),n(58339),n(9e4),n(58339),function(e){e[e.watching=Un.Watching]="watching",e[e.planned=Un.PlanToWatch]="planned",e[e.completed=Un.Completed]="completed",e[e.dropped=Un.Dropped]="dropped",e[e.on_hold=Un.Onhold]="on_hold",e[e.rewatching=Un.Rewatching]="rewatching"}(Ar||(Ar={})),n(58339),n(9e4),n(58339),n(9e4),n(9375),n(58339);var Cr=n(58339),$r=n(9e4),Or=n(9375),Ir=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};function Rr(e,t){return Ir(this,void 0,void 0,(function*(){if(!t)return{};const n=yield Cr.request.xhr("GET",`https://api.malsync.moe/nc/mal/${e}/${t}/pr`);return JSON.parse(n.responseText)}))}var Lr=n(58339);function Pr(e,t=!0){if(!e)return"";const n=Date.now();let r,i;if(n>e?(i=!1,r=n-e):(i=!0,r=e-n),r<3e4)return Lr.storage.lang("bookmarksItem_now");let s=function(e){let t="";return 1===e.y?t+=` ${e.y} ${Lr.storage.lang("bookmarksItem_Year")}`:e.y>1&&(t+=` ${e.y} ${Lr.storage.lang("bookmarksItem_Years")}`),1===e.d?t+=` ${e.d} ${Lr.storage.lang("bookmarksItem_Day")}`:e.d>1&&(t+=` ${e.d} ${Lr.storage.lang("bookmarksItem_Days")}`),1===e.h?t+=` ${e.h} ${Lr.storage.lang("bookmarksItem_Hour")}`:e.h>1&&(t+=` ${e.h} ${Lr.storage.lang("bookmarksItem_Hours")}`),1===e.m?t+=` ${e.m} ${Lr.storage.lang("bookmarksItem_min")}`:e.m>1&&(t+=` ${e.m} ${Lr.storage.lang("bookmarksItem_mins")}`),1===e.s?t+=` ${e.s} ${Lr.storage.lang("bookmarksItem_sec")}`:e.s>1&&(t+=` ${e.s} ${Lr.storage.lang("bookmarksItem_secs")}`),t.trim()}((a=function(e){let t,n,r,i;i=Math.floor(e/1e3),r=Math.floor(i/60),i%=60,n=Math.floor(r/60),r%=60,t=Math.floor(n/24),n%=24;const s=Math.floor(t/365);return t%=365,{y:s,d:t,h:n,m:r,s:i}}(r)).y>1?a.d>182?{y:a.y+1,d:0,h:0,m:0,s:0}:{y:a.y,d:0,h:0,m:0,s:0}:a.y?{y:a.y,d:a.d,h:0,m:0,s:0}:a.d>3?a.h>11?{y:0,d:a.d+1,h:0,m:0,s:0}:{y:0,d:a.d,h:0,m:0,s:0}:a.d?{y:0,d:a.d,h:a.h,m:0,s:0}:a.h>5?a.m>29?{y:0,d:0,h:a.h+1,m:0,s:0}:{y:0,d:0,h:a.h,m:0,s:0}:a.h?{y:0,d:0,h:a.h,m:a.m,s:0}:a.m>14?{y:0,d:0,h:0,m:a.m,s:0}:{y:0,d:0,h:0,m:a.m,s:a.s});var a;return!i&&t&&(s=Lr.storage.lang("bookmarksItem_ago",[s])),s}var Mr=n(9e4),Dr=n(58339),Ur=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};class jr{constructor(e,t){return this.cacheKey=e,this.type=t,this.releaseItem=void 0,this.logger=Mr.m("progress").m(e.toString()),this}initReleaseProgress(e){return Ur(this,void 0,void 0,(function*(){e&&(yield function(e,t,n="default",r=$r.m("release")){return Ir(this,void 0,void 0,(function*(){if(n||(n="default"),(r=r.m(e.uid.toString())).log(e.title,e.cacheKey,e.apiCacheKey,`Mode: ${n}`),!e.apiCacheKey)return void r.log("No Api Cache Id");if(!Cr.settings.get("epPredictions"))return void r.log("epPredictions disabled");const i=yield Cr.storage.get(`release/${t}/${e.cacheKey}`);r.m("Load").log(i);let s,a=!1;if(i&&i.mode&&i.mode!==n&&(a=!0),i&&i.timestamp&&Date.now()-i.timestamp<12e4&&!a)return void r.log("Up to date");if(i&&i.finished&&i.timestamp&&Date.now()-i.timestamp<6048e5&&!a)return void r.log("Fininshed");if(i&&!i.value&&i.timestamp&&Date.now()-i.timestamp<864e5&&!a)return void r.log("Nulled");a&&r.log("Update forced"),"off"===n&&(r.log("Disabled"),e.xhr=[]),void 0!==e.xhr?s=e.xhr:(s=yield Rr(t,e.apiCacheKey),yield Or.wait(500)),r.log(s);const o=function(e,t,n){const r={};if(!e.length)return null;let i;if("default"===t?(r.mainId="anime"===n?Cr.settings.get("progressIntervalDefaultAnime"):Cr.settings.get("progressIntervalDefaultManga"),r.fallback="en/sub"):r.mainId=t,r.fallbackPrediction="jp/dub",r.mainId){const t=e.find((e=>e.id===r.mainId));t&&(i=t)}if(r.fallback&&!i){const t=e.find((e=>e.id===r.fallback));t&&(i=t)}if(r.fallbackPrediction&&i&&!i.predicition&&i.lastEp&&i.lastEp.timestamp){const t=e.find((e=>e.id===r.fallbackPrediction)),n=i.lastEp.timestamp+6048e5;n&&t&&t.predicition&&(i.lastEp.total===t.lastEp.total?Math.abs(n-t.predicition.timestamp)<108e6&&(i.predicition={timestamp:n,probability:"medium"}):t.lastEp.total&&i.lastEp.total===t.lastEp.total-1&&Math.abs(n-(t.predicition.timestamp-6048e5))<108e6&&(i.predicition={timestamp:n,probability:"medium"}))}if(r.fallbackPrediction&&!i){const t=e.find((e=>e.id===r.fallbackPrediction));t&&t.lastEp&&t.predicition&&0===t.lastEp.total&&(i=t,i.predicition.probability="medium")}return i||null}(s,n,t);o||r.log("No value for the selected mode");let l=!1;o&&o.state&&"complete"===o.state&&(l=!0),r.m("Save").log(o),i&&i.value&&function(e,t,n,r){Ir(this,void 0,void 0,(function*(){try{if("anime"===r&&!Cr.settings.get("progressNotificationsAnime")||"manga"===r&&!Cr.settings.get("progressNotificationsManga"))return;if(e&&n&&n&&t.lastEp&&void 0!==t.lastEp.total&&n.lastEp&&n.lastEp.total&&t.lang===n.lang&&t.type===n.type&&t.lastEp.total<n.lastEp.total&&e.watchedEp+1===n.lastEp.total){let t;t=e.single?{title:e.title,text:Cr.storage.lang(`syncPage_malObj_nextEp_${r}`,[n.lastEp.total]),sticky:!0,image:yield e.single.getImage(),url:e.single.getStreamingUrl()?e.single.getStreamingUrl():e.single.getUrl()}:{title:e.title,text:Cr.storage.lang(`syncPage_malObj_nextEp_${r}`,[n.lastEp.total]),sticky:!0,image:e.image,url:e.options&&e.options.u?e.options.u:e.url},Cr.request.notification(t)}}catch(e){$r.error("Could not check notification Progress",e)}}))}(e,i.value,o,t),yield Cr.storage.set(`release/${t}/${e.cacheKey}`,{timestamp:Date.now(),value:o,mode:n,finished:l})}))}(e,this.type,e.progressMode));const t=yield Dr.storage.get(`release/${this.type}/${this.cacheKey}`);this.logger.m("Init Release").log(t),t&&(function(e){if(e&&e.timestamp){const t=(new Date).getTime()-e.timestamp;if(e.finished&&t<6048e5)return!1;if(!e.value&&t<864e5)return!1;if(t<864e5)return!1}return!0}(t)?this.logger.log("Too old"):this.releaseItem=t)}))}getProgressCurrentEpisode(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.total?e.value.lastEp.total:null}isProgressFinished(){const e=this.releaseItem;return!(!e||!e.finished)}getProgressPrediction(){const e=this.releaseItem;return e&&e.value&&e.value.predicition&&e.value.predicition.timestamp?e.value.predicition.timestamp:null}getProgressLastTimestamp(){const e=this.releaseItem;return e&&e.value&&e.value.lastEp&&e.value.lastEp.timestamp?e.value.lastEp.timestamp:null}init(e=!1){return Ur(this,void 0,void 0,(function*(){return yield Promise.all([this.initReleaseProgress(e)]),this}))}getCurrentEpisode(){return Dr.settings.get("epPredictions")?this.getProgressCurrentEpisode():null}isFinished(){return this.isProgressFinished()}isAiring(){return!this.isFinished()}getPredictionTimestamp(){return!this.getProgressPrediction()||(new Date).getTime()>this.getProgressPrediction()?NaN:this.getProgressPrediction()}getPrediction(){return Pr(this.getPredictionTimestamp())}getPredictionText(){const e=this.getPrediction();return e?Dr.storage.lang(`prediction_Episode_${this.type}`,[e]):""}getLastTimestamp(){return this.getProgressLastTimestamp()}getLast(e=!0){return Pr(this.getLastTimestamp(),e)}getLastText(){const e=this.getLast(!1);return e?Dr.storage.lang(`prediction_Last_${this.type}`,[e]):""}getAuto(){const e=this.getPrediction();if(e)return e;return this.getLast()||""}getAutoText(){const e=this.getPredictionText();if(e)return e;return this.getLastText()||""}getColor(){return"#f57c00"}getBars(e,t){const n=this.getCurrentEpisode(),r={totalWidth:100,epWidth:0,predWidth:0};if(!t)if(r.totalWidth=0,e&&(!n||e>=n))t=Math.ceil(1.2*e);else{if(!n||e&&!(e<n))return r;t=Math.ceil(1.2*n)}return e&&(r.epWidth=e/t*100,r.epWidth>100&&(r.epWidth=100)),n&&(r.predWidth=n/t*100,r.predWidth>100&&(r.predWidth=100)),r}}Error;class Br extends Error{constructor(e){super(e),this.name="SafeError"}}Error,Error;var Fr=n(58339);const Vr={ui:{module:"dropdown"},getOptions:()=>[{value:0,label:Fr.storage.lang("UI_Score_Not_Rated")},{value:100,label:Fr.storage.lang("UI_Score_Masterpiece")},{value:90,label:Fr.storage.lang("UI_Score_Great")},{value:80,label:Fr.storage.lang("UI_Score_VeryGood")},{value:70,label:Fr.storage.lang("UI_Score_Good")},{value:60,label:Fr.storage.lang("UI_Score_Fine")},{value:50,label:Fr.storage.lang("UI_Score_Average")},{value:40,label:Fr.storage.lang("UI_Score_Bad")},{value:30,label:Fr.storage.lang("UI_Score_VeryBad")},{value:20,label:Fr.storage.lang("UI_Score_Horrible")},{value:10,label:Fr.storage.lang("UI_Score_Appalling")}],valueToOptionValue:e=>e?e<10?10:10*Math.round(e/10):0,optionValueToValue:e=>e?Number(e):0};var Gr=n(9e4),qr=n(58339),Hr=n(9375),Wr=n(19947),zr=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};Object.seal(tr);var Yr=n(58339);const Kr={ui:{module:"input",pattern:"^([0-9]{1,2}|100)$"},getOptions(){const e=[{value:0,label:Yr.storage.lang("UI_Score_Not_Rated")}];for(let t=1;t<101;t++)e.push({value:t,label:String(t)});return e},valueToOptionValue:e=>e?Number(e):0,optionValueToValue:e=>e?Number(e):0};var Jr=n(58339);const Xr={ui:{module:"click",type:"smiley"},getOptions:()=>[{value:0,label:Jr.storage.lang("UI_Score_Not_Rated")},{value:85,label:"🙂"},{value:60,label:"😐"},{value:35,label:"🙁"}],valueToOptionValue:e=>e?e>=73?85:e<=47?35:60:0,optionValueToValue:e=>e?Number(e):0};var Zr=n(58339);const Qr={ui:{module:"click",type:"star"},getOptions:()=>[{value:0,label:Zr.storage.lang("UI_Score_Not_Rated")},{value:90,label:"★★★★★"},{value:70,label:"★★★★"},{value:50,label:"★★★"},{value:30,label:"★★"},{value:10,label:"★"}],valueToOptionValue:e=>e?e<20?10:e<40?30:e<60?50:e<80?70:90:0,optionValueToValue:e=>e?Number(e):0};var ei=n(58339);const ti={ui:{module:"input",pattern:"^([0-9](\\.[0-9]?)?|10(.0)?)$"},getOptions(){const e=[{value:0,label:ei.storage.lang("UI_Score_Not_Rated")}];for(let t=1;t<101;t++)e.push({value:t/10,label:(t/10).toFixed(1)});return e},valueToOptionValue:e=>e?Number(e/10):0,optionValueToValue:e=>e?Number(10*e):0};var ni=n(9e4),ri=n(9375),ii=n(58339),si=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};class ai extends class{constructor(e){return this.url=e,this.type=null,this.rewatchingSupport=!0,this.ids={mal:NaN,ani:NaN,kitsu:{id:NaN,slug:""},simkl:NaN},this.options=null,this.progress=!1,this.updateProgress=!1,this._onList=!1,this._authenticated=!1,this.handleUrl(e),this.logger=Gr.m("[S]","#348fff"),this}getType(){return this.type}getUrl(){return this.url}supportsRewatching(){return this.rewatchingSupport}getApiCacheKey(){return this.getKey(["ANILIST"])}getRulesCacheKey(){return this.getKey(["ANILIST","KITSU"],!1)}setStatus(e){return e=Number(e),this._setStatus(e),this}getStatus(){return this.isOnList()?this._getStatus():Un.NoState}getScoreMode(){return Vr}setScore(e){return(e=parseInt(`${e}`))||(e=0),this._setScore(e),this}getScore(){return this._getScore()||0}setAbsoluteScore(e){return e=parseInt(`${e}`),this._setAbsoluteScore(e),this}getAbsoluteScore(){return this._getAbsoluteScore()||0}setEpisode(e){return e=parseInt(`${e}`),this.getTotalEpisodes()&&e>this.getTotalEpisodes()&&(e=this.getTotalEpisodes()),this._setEpisode(e),this}getEpisode(){return this._getEpisode()}setVolume(e){return this._setVolume(e),this}getVolume(){return this._getVolume()}setStreamingUrl(e){return this.options&&(this.options.u=e),this}getStreamingUrl(){if(this.options&&this.options.u)return this.options.u}cleanTags(){this.options=null}initProgress(){return zr(this,void 0,void 0,(function*(){const e=yield Rr(this.getType(),this.getApiCacheKey());return new jr(this.getCacheKey(),this.getType()).init({uid:this.getCacheKey(),apiCacheKey:this.getApiCacheKey(),title:this.getTitle(),cacheKey:this.getCacheKey(),progressMode:this.getProgressMode(),watchedEp:this.getEpisode(),single:this,xhr:e}).then((t=>{this.updateProgress=!1,this.progress=t,this.progressXhr=e}))}))}getProgress(){return!!this.progress&&this.progress}getProgressFormated(){const e=[],t=new Intl.DisplayNames("en",{type:"language"});return Gr.log(this.progressXhr),this.progressXhr&&Object.keys(this.progressXhr).length&&this.progressXhr.forEach((n=>{e.push({type:n.type,key:n.id,state:n.state,label:t.of(n.lang.replace(/^jp$/,"ja"))||n.lang,dropped:"dropped"===n.state||"discontinued"===n.state,episode:n.lastEp&&n.lastEp.total?n.lastEp.total:0,lastEp:n.lastEp,predicition:n.prediction})})),e}getProgressOptions(){return this.getProgressFormated().filter((e=>"complete"!==e.state))}getProgressCompleted(){return this.getProgressFormated().filter((e=>"complete"===e.state))}getProgressMode(){return this.options&&this.options.p?this.options.p:""}setProgressMode(e){this.options&&(this.options.p=e,this.updateProgress=!0),qr.settings.get("malTags")||Hr.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags()).then((()=>this.initProgress()))}getProgressKey(){let e=this.getProgressMode();if(e||(e="anime"===this.getType()?qr.settings.get("progressIntervalDefaultAnime"):qr.settings.get("progressIntervalDefaultManga")),!e)return null;const t=/^([^/]*)\/(.*)$/.exec(e);return t?{key:e,lang:t[1],type:t[2]}:null}getPageRelations(){const e=this.shortName,t=[];return this.ids.mal&&"MAL"!==e&&t.push({name:"MAL",icon:"https://cdn.myanimelist.net/images/favicon.ico",link:`https://myanimelist.net/${this.type}/${this.ids.mal}`}),this.ids.ani&&"AniList"!==e&&t.push({name:"AniList",icon:"https://anilist.co/img/icons/favicon-32x32.png",link:`https://anilist.co/${this.type}/${this.ids.ani}`}),this.ids.kitsu.id&&"Kitsu"!==e&&t.push({name:"Kitsu",icon:"https://kitsu.io/favicon-32x32-3e0ecb6fc5a6ae681e65dcbc2bdf1f17.png",link:`https://kitsu.io/${this.type}/${this.ids.kitsu.id}`}),this.ids.simkl&&"Simkl"!==e&&t.push({name:"Simkl",icon:"https://eu.simkl.in/img_favicon/v2/favicon-32x32.png",link:`https://simkl.com/${this.type}/${this.ids.simkl}`}),t}fillRelations(){return Promise.resolve()}update(){return this.logger.log("[SINGLE]","Update info",this.ids),this.lastError=null,this._update().catch((e=>{throw this.lastError=e,e})).then((()=>(this.persistanceState=this.getStateEl(),Hr.getEntrySettings(this.type,this.getCacheKey(),this._getTags())))).then((e=>{this.options=e,this.registerEvent(),this.emitUpdate("state")}))}sync(){return zr(this,void 0,void 0,(function*(){return this.logger.log("[SINGLE]","Sync",this.ids),this.lastError=null,this._setTags(yield Hr.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags())),this._sync().catch((e=>{throw this.lastError=e,e})).then((()=>{this.undoState=this.persistanceState,this.updateProgress&&this.initProgress(),this._onList=!0,this.emitUpdate()}))}))}emitUpdate(e="update"){nr(`${e}.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey(),state:this.getStateEl(),meta:{title:this.getTitle(),image:this.getImage(),malId:this.getMalId(),totalEp:this.getTotalEpisodes(),url:this.getUrl()}})}delete(){return zr(this,void 0,void 0,(function*(){return this._delete().then((()=>{this._onList=!1,nr(`delete.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey()})}))}))}registerEvent(){this.globalUpdateEvent||(this.globalUpdateEvent=tr.on(`update.${this.getCacheKey()}`,(e=>this.updateEvent(e))))}updateEvent(e){this.isDirty()?this.logger.log("Ignore event"):e&&e.state&&(this.setStateEl(e.state),this.persistanceState=this.getStateEl(),tr.emit("syncPage_fillUi"))}isDirty(){return JSON.stringify(this.persistanceState)!==JSON.stringify(this.getStateEl())||this.updateProgress}undo(){if(this.logger.log("[SINGLE]","Undo",this.undoState),!this.undoState)throw new Br("No undo state found");if(!this.undoState.onList){if(void 0===this.delete)throw new Error("Deleting an entry is not supported");return this.delete().then((()=>{this.setStateEl(this.undoState),this.undoState=null}))}return this.setStateEl(this.undoState),this.sync().then((()=>{this.undoState=null}))}getTitle(e=!1){return this._getTitle(e)}getTotalEpisodes(){let e=this._getTotalEpisodes();return e||(e=0),e}getTotalVolumes(){return this._getTotalVolumes()}isOnList(){return this._onList}isAuthenticated(){return this._authenticated}getDisplayUrl(){return this._getDisplayUrl()}getMalUrl(){return Number.isNaN(this.ids.mal)?null:`https://myanimelist.net/${this.getType()}/${this.ids.mal}`}getMalId(){return Number.isNaN(this.ids.mal)?null:this.ids.mal}getIds(){return this.ids}getImage(){return this._getImage()}getRating(){return this._getRating().then((e=>e||"N/A"))}setResumeWatching(e,t){return Hr.setResumeWaching(e,t,this.type,this.getCacheKey())}getResumeWatching(){return this.options&&this.options.r?this.options.r:null}setContinueWatching(e,t){return Hr.setContinueWaching(e,t,this.type,this.getCacheKey())}getContinueWatching(){return this.options&&this.options.c?this.options.c:null}increaseRewatchCount(){}getStateEl(){return{onList:this.isOnList(),episode:this.getEpisode(),volume:this.getVolume(),status:this.getStatus(),score:this.getScore(),absoluteScore:this.getAbsoluteScore()}}setStateEl(e){this._onList=e.onList,this.setEpisode(e.episode),this.setVolume(e.volume),this.setStatus(e.status),this.setScore(e.score),e.absoluteScore&&this.setAbsoluteScore(e.absoluteScore)}getStateDiff(){const e=this.getStateEl();if(e&&this.undoState){const t={};for(const n in e)e[n]!==this.undoState[n]&&(t[n]=e[n]);return t}}checkSync(e,t){return zr(this,void 0,void 0,(function*(){const n=this.getEpisode(),r=this.getStatus(),i=this.getVolume();return r===Un.Completed?1===e&&this.startRewatchingMessage():!(n>=e&&!(void 0!==t&&(i||t>1||!e)&&t>i))&&(e&&e===this.getTotalEpisodes()?(r===Un.Rewatching?yield this.finishRewatchingMessage():yield this.finishWatchingMessage(),!0):r===Un.Watching||r===Un.Rewatching||this.startWatchingMessage())}))}startWatchingMessage(){return zr(this,void 0,void 0,(function*(){return Hr.flashConfirm(qr.storage.lang(`syncPage_flashConfirm_start_${this.getType()}`),"add").then((e=>(e&&this.setStatus(Un.Watching),e)))}))}finishWatchingMessage(){return zr(this,void 0,void 0,(function*(){const e=this.getScoreCheckboxValue();let t='<div><select id="finish_score" style="margin-top:5px; color:white; background-color:#4e4e4e; border: none;">';return this.getScoreCheckbox().forEach((n=>{t+=`<option value="${n.value}" ${e===n.value?"selected":""}>${n.label}</option>`})),t+="</select></div>",Hr.flashConfirm(qr.storage.lang("syncPage_flashConfirm_complete")+t,"complete").then((e=>(e&&(this.setStatus(Un.Completed),Number(Wr.$("#finish_score").val())>0&&(this.logger.log(`finish_score: ${Wr.$("#finish_score :selected").val()}`),this.handleScoreCheckbox(Wr.$("#finish_score :selected").val()))),e)))}))}startRewatchingMessage(){return zr(this,void 0,void 0,(function*(){return Hr.flashConfirm(qr.storage.lang(`syncPage_flashConfirm_rewatch_start_${this.getType()}`),"add").then((e=>(e&&this.setStatus(Un.Rewatching),e)))}))}finishRewatchingMessage(){return zr(this,void 0,void 0,(function*(){return Hr.flashConfirm(qr.storage.lang(`syncPage_flashConfirm_rewatch_finish_${this.getType()}`),"complete").then((e=>(e&&(this.setStatus(Un.Completed),this.increaseRewatchCount()),e)))}))}getScoreCheckbox(){return this.getScoreMode().getOptions()}getScoreCheckboxValue(){return this.getScoreMode().valueToOptionValue(this.getAbsoluteScore())}handleScoreCheckbox(e){this.setAbsoluteScore(this.getScoreMode().optionValueToValue(e))}getDisplayScoreCheckbox(){const e=this.getScoreCheckboxValue(),t=this.getScoreCheckbox().filter((t=>t.value===e));return t.length?t[0].label:""}getStatusCheckbox(){const e=[{value:"1",label:qr.storage.lang(`UI_Status_watching_${this.getType()}`)},{value:"2",label:qr.storage.lang("UI_Status_Completed")},{value:"3",label:qr.storage.lang("UI_Status_OnHold")},{value:"4",label:qr.storage.lang("UI_Status_Dropped")},{value:"6",label:qr.storage.lang(`UI_Status_planTo_${this.getType()}`)}];return this.rewatchingSupport&&e.push({value:"23",label:qr.storage.lang(`UI_Status_Rewatching_${this.getType()}`)}),e}handleStatusCheckbox(e){this.setStatus(e)}getStatusCheckboxValue(){return this.getStatus()}getKey(e,t=!0){return t&&this.ids.mal?this.ids.mal:this.ids.ani&&e.includes("ANILIST")?`anilist:${this.ids.ani}`:this.ids.kitsu.id&&e.includes("KITSU")?`kitsu:${this.ids.kitsu.id}`:this.ids.simkl&&e.includes("SIMKL")?`simkl:${this.ids.simkl}`:this.ids.mal}getLastError(){return this.lastError}getLastErrorMessage(){return this.errorMessage(this.getLastError())}flashmError(e){Hr.flashm(this.errorMessage(e),{error:!0,type:"error"})}errorMessage(e){return cr(e,this.authenticationUrl)}}{constructor(e){return super(e),this.url=e,this.displayUrl="",this.shortName="AniList",this.authenticationUrl="https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token",this.logger=ni.m(this.shortName,"#3db4f2"),this}handleUrl(e){if(e.match(/anilist\.co\/(anime|manga)\/\d*/i))return this.type="anime"===ri.urlPart(e,3)?"anime":"manga",void(this.ids.ani=Number(ri.urlPart(e,4)));if(e.match(/myanimelist\.net\/(anime|manga)\/\d*/i))return this.type="anime"===ri.urlPart(e,3)?"anime":"manga",void(this.ids.mal=Number(ri.urlPart(e,4)));throw new sr(e)}getCacheKey(){return this.getKey(["ANILIST"])}getPageId(){return this.ids.ani}_getStatus(){return parseInt(br[this.animeInfo.mediaListEntry.status])}_setStatus(e){this.animeInfo.mediaListEntry.status=br[e]}_getScore(){if(0===Number(this.animeInfo.mediaListEntry.score))return 0;const e=Math.round(Number(this.animeInfo.mediaListEntry.score)/10);return 0===e?1:e}_setScore(e){this.animeInfo.mediaListEntry.score=10*e}_getAbsoluteScore(){return Number(this.animeInfo.mediaListEntry.score)}_setAbsoluteScore(e){this.animeInfo.mediaListEntry.score=Number(e)}_getEpisode(){return this.animeInfo.mediaListEntry.progress}_setEpisode(e){this.animeInfo.mediaListEntry.progress=parseInt(`${e}`)}_getVolume(){return this.animeInfo.mediaListEntry.progressVolumes}_setVolume(e){this.animeInfo.mediaListEntry.progressVolumes=e}_getTags(){let e=this.animeInfo.mediaListEntry.notes;return null!==e&&"null"!==e||(e=""),e}_setTags(e){this.animeInfo.mediaListEntry.notes=e}_getTitle(){return this.animeInfo.title.userPreferred}_getTotalEpisodes(){const e=this.animeInfo.episodes?this.animeInfo.episodes:this.animeInfo.chapters;return null===e?0:e}_getTotalVolumes(){return this.animeInfo.volumes||0}_getDisplayUrl(){return""!==this.displayUrl&&null!==this.displayUrl?this.displayUrl:this.url}_getImage(){return this.animeInfo.coverImage.large}_getRating(){return Promise.resolve(this.animeInfo.averageScore)}_update(){return si(this,void 0,void 0,(function*(){let e=this.ids.mal,t="idMal";Number.isNaN(this.ids.mal)&&(e=this.ids.ani,t="id");const n=`\n    query ($id: Int, $type: MediaType) {\n      Media (${t}: $id, type: $type) {\n        id\n        idMal\n        siteUrl\n        episodes\n        chapters\n        volumes\n        averageScore\n        coverImage{\n          large\n        }\n        title {\n          userPreferred\n        }\n        mediaListEntry {\n          id\n          status\n          progress\n          progressVolumes\n          score(format: POINT_100)\n          repeat\n          notes\n        }\n      }\n    }\n    `,r={id:e,type:this.type.toUpperCase()};return this._authenticated=!0,this.apiCall(n,r).catch((e=>{if(e instanceof ir)return this._authenticated=!1,this.apiCall(n,r,!1);throw e})).then((e=>{if(this.logger.log("[SINGLE]","Data",e),this.animeInfo=e.data.Media,this.ids.ani=this.animeInfo.id,Number.isNaN(this.ids.mal)&&this.animeInfo.idMal&&(this.ids.mal=this.animeInfo.idMal),this.displayUrl=this.animeInfo.siteUrl,this._onList=!0,null===this.animeInfo.mediaListEntry&&(this._onList=!1,this.animeInfo.mediaListEntry={notes:"",progress:0,progressVolumes:0,repeat:0,score:0,status:"PLANNING"}),!this._authenticated)throw new ir("Not Authenticated")}))}))}_sync(){return si(this,void 0,void 0,(function*(){let e="\n      mutation ($mediaId: Int, $status: MediaListStatus, $progress: Int, $scoreRaw: Int, $notes: String) {\n        SaveMediaListEntry (mediaId: $mediaId, status: $status, progress: $progress, scoreRaw: $scoreRaw, notes: $notes) {\n          id\n          status\n          progress\n        }\n      }\n    ";const t={mediaId:this.ids.ani,status:this.animeInfo.mediaListEntry.status,progress:this.animeInfo.mediaListEntry.progress,scoreRaw:this.animeInfo.mediaListEntry.score,notes:this.animeInfo.mediaListEntry.notes,volumes:null};return"manga"===this.type&&(e="\n        mutation ($mediaId: Int, $status: MediaListStatus, $progress: Int, $scoreRaw: Int, $notes: String, $volumes: Int) {\n          SaveMediaListEntry (mediaId: $mediaId, status: $status, progress: $progress, scoreRaw: $scoreRaw, notes: $notes, progressVolumes: $volumes) {\n            id\n            status\n            progress\n            progressVolumes\n          }\n        }\n      ",t.volumes=this.animeInfo.mediaListEntry.progressVolumes),this.apiCall(e,t).then((e=>(e&&e.data&&e.data.SaveMediaListEntry&&e.data.SaveMediaListEntry.id&&(this.animeInfo.mediaListEntry.id=e.data.SaveMediaListEntry.id),e)))}))}apiCall(e,t,n=!0){return Er(e,t,n)}getScoreMode(){switch(ii.settings.get("anilistOptions").scoreFormat){case"POINT_100":return Kr;case"POINT_3":return Xr;case"POINT_5":return Qr;case"POINT_10_DECIMAL":return ti;default:return Vr}}_delete(){const e={mediaId:this.animeInfo.mediaListEntry.id};return this.apiCall("\n      mutation ($mediaId: Int) {\n        DeleteMediaListEntry(id: $mediaId) {\n          deleted\n        }\n      }\n    ",e)}}var oi=n(58339),li=n(9e4),ci=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const ui=n(16245);function di(e,t,n){return function(e,t){let n=t.trim(),r=[];const i=e.match(/{searchterm(\(.\))?(\[[^[\]]*\])?}/);if(!i)return e;const[s,a,o]=i;return o&&(r=o.substring(1,o.length-1).split(",")),r.includes("noLowercase")||(n=n.toLowerCase()),r.includes("noSpecial")?n=n.replace(/[^a-zA-Z\d ]/g,"").replace(/ +/g," ").trim():r.includes("specialReplace")&&(n=n.replace(/[^a-zA-Z\d ]/g," ").replace(/ +/g," ").trim()),n=r.includes("noEncode")?n.replace(/\//g," "):encodeURIComponent(n),a&&(n=n.replace(/(%20| )/g,a[1])),e.replace(s,n)}(e.replace("{searchtermPlus}","{searchterm(+)}").replace("{searchtermMinus}","{searchterm(-)}").replace("{searchtermUnderscore}","{searchterm(_)}").replace("{searchtermRaw}","{searchterm[noEncode,noLowercase]}").replace("{cacheId}",n),t)}function hi(e,t,n){return ci(this,void 0,void 0,(function*(){let r=function(){const e=oi.settings.get("quicklinks").map((e=>{return(t=e)?t.custom?t:ui.find((e=>e.name===t)):null;var t})).filter((e=>e));return JSON.parse(JSON.stringify(e))}();if(t)try{r=yield function(e,t,n){return ci(this,void 0,void 0,(function*(){const r=yield function(e,t){return ci(this,void 0,void 0,(function*(){const n=`https://api.malsync.moe/mal/${e}/${t}`;return oi.request.xhr("GET",n).then((e=>ci(this,void 0,void 0,(function*(){if(li.log("malSync response",e),400===e.status)return{};if(200===e.status){const t=JSON.parse(e.responseText);return t&&t.Sites?t.Sites:{}}throw new Error("malsync offline")}))))}))}(t,n);return e.map((e=>(e.database&&r[e.database]&&(e.databaseLinks=r[e.database]),e)))}))}(r,e,t)}catch(e){li.m("API Problem").error(e)}return function(e,t,n,r){return e.filter((e=>e.search&&e.search[t])).map((e=>{const i=[];let s;return e.databaseLinks?(s="link",Object.values(e.databaseLinks).forEach((e=>{i.push({name:e.title,url:e.url})}))):"home"===e.search[t]?(s="home",i.push({name:"Homepage",url:e.domain})):(s="search",i.push({name:"Quicksearch",url:di(e.search[t],n,r),fn:n=>di(e.search[t],n,r)})),{name:e.name,domain:e.domain,group:s,links:i}}))}(r,e,n,t)}))}const pi={class:"ms-data"},mi={class:"ms-loading"},fi={class:"ms-data-inner"},gi=["title"],yi={key:1,class:"errorMessageText"},_i=xt("span",{class:"powered-malsync"},"Provided by MAL-Sync",-1),vi={class:"form progress"},bi={class:"input-title"},wi={class:"ms-input-wrapper"},Ei={class:"el-input-number is-controls-right"},Si=[xt("i",{class:"el-icon-arrow-down"},null,-1)],xi=[xt("i",{class:"el-icon-arrow-up"},null,-1)],ki={class:"el-input"},Ti=["pattern"],Ai={key:0,class:"ms-input-ep"},Ni={props:{value:{default:0,type:Number},total:{default:0,type:Number},label:{default:"",type:String},pattern:{default:"^[0-9]*$",type:String},additionalSlot:{default:!1,type:Boolean}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e,t){!e||String(e).match(new RegExp(this.pattern))?this.$emit("update:value",Number(e)):this.modelValue=t}}},methods:{increase(){(!this.total||this.modelValue<this.total)&&(this.modelValue=Math.floor(this.modelValue+1))},decrease(){this.modelValue>0&&(this.modelValue=Math.ceil(this.modelValue-1))}}};var Ci=n(83744);const $i=(0,Ci.Z)(Ni,[["render",function(e,t,n,i,s,a){return pt(),yt("div",vi,[xt("div",bi,(0,r.zw)(n.label),1),xt("div",wi,[xt("div",Ei,[ye(xt("span",{role:"button",class:"el-input-number__decrease ms-button",onClick:t[0]||(t[0]=e=>a.decrease())},Si,512),[[Cn,n.value]]),ye(xt("span",{role:"button",class:"el-input-number__increase ms-button",onClick:t[1]||(t[1]=e=>a.increase())},xi,512),[[Cn,!(n.total&&n.value===n.total)]]),xt("div",ki,[ye(xt("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.modelValue=t),type:"text",autocomplete:"off",class:"el-input__inner",pattern:n.pattern},null,8,Ti),[[kn,e.modelValue]])])]),n.additionalSlot||n.total?(pt(),yt("div",Ai,[n.total?(pt(),yt(ot,{key:0},[At(" / "),ke(e.$slots,"default"),At(" "+(0,r.zw)(n.total),1)],64)):ke(e.$slots,"default",{key:1})])):Nt("v-if",!0)])])}],["__file","input-number.vue"]]),Oi={key:0},Ii={class:"form progress"},Ri={class:"input-title"},Li={class:"ms-input-wrapper"},Pi={class:"el-select"},Mi={class:"el-input el-input--suffix"},Di=["value"],Ui=xt("span",{class:"el-input__suffix"},[xt("span",{class:"el-input__suffix-inner"},[xt("i",{class:"el-select__caret el-input__icon el-icon-arrow-up"})])],-1),ji={props:{value:{default:0,type:Number},options:{default:()=>[],type:Array},label:{default:"",type:String}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e){this.$emit("update:value",Number(e))}}}},Bi={class:"form progress"},Fi={class:"input-title"},Vi={class:"ms-input-wrapper"},Gi={class:"el-select"},qi={class:"el-rate"},Hi=["onClick","onMouseover"],Wi=["data-value"],zi={key:1,class:"smile-score-wrap"},Yi={class:"el-rate"},Ki=["onClick","onMouseover"],Ji=["data-value"],Xi={props:{value:{default:0,type:Number},options:{default:()=>[],type:Array},label:{default:"",type:String},type:{default:"star",type:String}},emits:["update:value"],data:()=>({modelValue:0,hoverValue:null}),computed:{fillNumber(){return this.hoverValue?this.hoverValue:this.modelValue}},watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=e)},immediate:!0},modelValue:{handler(e){this.$emit("update:value",Number(e))}}},methods:{updateValue(e){e!==this.modelValue?this.modelValue=e:this.modelValue=0},hover(e){this.hoverValue=e}}},Zi={components:{inputDropdown:(0,Ci.Z)(ji,[["render",function(e,t,n,i,s,a){return pt(),yt("div",Ii,[xt("div",Ri,(0,r.zw)(n.label),1),xt("div",Li,[xt("div",Pi,[xt("div",Mi,[ye(xt("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.modelValue=t),autocomplete:"off",class:"el-input__inner"},[(pt(!0),yt(ot,null,xe(n.options,(e=>(pt(),yt("option",{key:e.value,value:e.value},(0,r.zw)(e.label),9,Di)))),128))],512),[[Tn,e.modelValue]]),Ui])])])])}],["__file","input-dropdown.vue"]]),inputNumber:$i,inputClicker:(0,Ci.Z)(Xi,[["render",function(e,t,n,i,s,a){return pt(),yt("div",Bi,[xt("div",Fi,(0,r.zw)(n.label),1),xt("div",Vi,[xt("div",Gi,["star"===n.type?(pt(),yt("div",{key:0,class:(0,r.C_)(["star-score-wrap","stars-"+a.fillNumber])},[xt("div",qi,[(pt(!0),yt(ot,null,xe(n.options.slice().reverse(),(n=>ye((pt(),yt("span",{key:n.value,class:"el-rate__item",onClick:e=>a.updateValue(n.value),onMouseover:e=>a.hover(n.value),onMouseout:t[0]||(t[0]=e=>a.hover(null))},[xt("i",{class:(0,r.C_)(["el-rate__icon",{"el-icon-star-on":n.value<=a.fillNumber,"el-icon-star-off":n.value>a.fillNumber,hover:n.value===e.hoverValue}]),"data-value":n.value},null,10,Wi)],40,Hi)),[[Cn,n.value]]))),128))])],2)):"smiley"===n.type?(pt(),yt("div",zi,[xt("div",Yi,[(pt(!0),yt(ot,null,xe(n.options.slice().reverse(),(n=>ye((pt(),yt("span",{key:n.value,class:"el-rate__items",onClick:e=>a.updateValue(n.value),onMouseover:e=>a.hover(n.value),onMouseout:t[1]||(t[1]=e=>a.hover(null))},[xt("div",{class:(0,r.C_)(["el-rate__icon",{"smiley-off":n.value!=a.fillNumber,hover:n.value===e.hoverValue}]),"data-value":n.value},(0,r.zw)(n.label),11,Ji)],40,Ki)),[[Cn,n.value]]))),128))])])):Nt("v-if",!0)])])])}],["styles",[".el-rate__icon[data-v-19f7151e]:hover {\n  cursor: pointer;\n}\n.stars-50 .el-rate__icon[data-v-19f7151e] {\n  color: #f7ba2a;\n}\n.stars-70 .el-rate__icon[data-v-19f7151e],\n.stars-90 .el-rate__icon[data-v-19f7151e] {\n  color: #ff9900;\n}\n.smiley-off[data-v-19f7151e] {\n  filter: grayscale(100%);\n}\n"]],["__scopeId","data-v-19f7151e"],["__file","input-clicker.vue"]])},props:{value:{default:0,type:Number},scoreModeStrategy:{default:null,type:Object},label:{default:"",type:String}},emits:["update:value"],data:()=>({modelValue:0}),watch:{value:{handler(e){this.modelValue!==e&&(this.modelValue=this.scoreModeStrategy.valueToOptionValue(e))},immediate:!0},modelValue:{handler(e){this.$emit("update:value",this.scoreModeStrategy.optionValueToValue(e))}}}},Qi=(0,Ci.Z)(Zi,[["render",function(e,t,n,r,i,s){const a=be("inputNumber"),o=be("inputClicker"),l=be("inputDropdown");return n.scoreModeStrategy?(pt(),yt("div",Oi,["input"===n.scoreModeStrategy.ui.module?(pt(),_t(a,{key:0,label:n.label,value:e.modelValue,pattern:n.scoreModeStrategy.ui.pattern,"onUpdate:value":t[0]||(t[0]=t=>e.modelValue=t)},null,8,["label","value","pattern"])):"click"===n.scoreModeStrategy.ui.module?(pt(),_t(o,{key:1,label:n.label,options:n.scoreModeStrategy.getOptions(),value:e.modelValue,type:n.scoreModeStrategy.ui.type,"onUpdate:value":t[1]||(t[1]=t=>e.modelValue=t)},null,8,["label","options","value","type"])):(pt(),_t(l,{key:2,label:n.label,options:n.scoreModeStrategy.getOptions(),value:e.modelValue,"onUpdate:value":t[2]||(t[2]=t=>e.modelValue=t)},null,8,["label","options","value"]))])):Nt("v-if",!0)}],["__file","score-mode.vue"]]);var es=n(58339),ts=n(9375),ns=n(9e4),rs=n(19947),is=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const ss={components:{inputNumber:$i,scoreMode:Qi},data:()=>({lang:es.storage.lang,utils:ts,malObj:null,episode:null,score:null,volume:null,loading:!1,forceUpdateState:!1}),computed:{malObjEpisode(){return this.malObj?this.malObj.getEpisode():null},malObjScore(){return this.malObj?this.malObj.getAbsoluteScore():null},malObjVolume(){return this.malObj?this.malObj.getVolume():null},progress(){return this.malObj&&this.malObj.getProgress()&&this.malObj.getProgress().isAiring()&&this.malObj.getProgress().getCurrentEpisode()?this.malObj.getProgress():""},errorMessage(){return this.malObj&&this.malObj.getLastError()?this.malObj.getLastErrorMessage():""},onList(){return this.malObj&&this.malObj.isOnList()?this.malObj.isOnList():null}},watch:{malObj:{handler(e){e&&e.initProgress()},immediate:!0},malObjEpisode:{immediate:!0,handler(e){this.episode=e}},malObjScore:{immediate:!0,handler(e){this.score=e}},malObjVolume:{immediate:!0,handler(e){this.volume=e}},episode:{handler(e,t){this.malObj&&(this.malObj.setEpisode(e),!this.malObj.getTotalEpisodes()||this.malObj.getEpisode()!==this.malObj.getTotalEpisodes()||this.malObj.getStatus()!==Un.Watching&&this.malObj.getStatus()!==Un.PlanToWatch&&this.malObj.getStatus()!==Un.NoState?this.malObj.getStatus()===Un.Completed&&this.malObj.getTotalEpisodes()&&this.malObj.getEpisode()<this.malObj.getTotalEpisodes()?(this.malObj.setStatus(Un.Watching),this.forceUpdateState=!0):t||!e||this.malObj.getStatus()!==Un.PlanToWatch&&this.malObj.getStatus()!==Un.NoState||(this.malObj.setStatus(Un.Watching),this.forceUpdateState=!0):(this.malObj.setStatus(Un.Completed),this.forceUpdateState=!0))}},score:{handler(e){this.malObj&&this.malObj.setAbsoluteScore(e)}},volume:{handler(e){this.malObj&&this.malObj.setVolume(e)}}},methods:{reload(){return is(this,void 0,void 0,(function*(){if(this.malObj){this.loading=!0;try{yield this.malObj.update()}catch(e){ns.error(e)}this.loading=!1}}))},update(){return is(this,void 0,void 0,(function*(){if(this.malObj){this.loading=!0;try{yield this.malObj.sync(),yield this.malObj.update()}catch(e){ns.error(e)}this.loading=!1,this.forceUpdateState&&(this.forceUpdateState=!1,rs.$(".cover-wrap-inner .list .add").click(),ts.waitUntilTrue((()=>rs.$(".list-editor .el-icon-close").length),(()=>rs.$(".list-editor .el-icon-close").click())))}}))},addUpdate(){return is(this,void 0,void 0,(function*(){this.forceUpdateState=!0,yield this.update()}))},hide(){this.$el.remove(),es.settings.set("anilistUpdateUi",!1)}}},as=(0,Ci.Z)(ss,[["render",function(e,t,n,i,s,a){const o=be("scoreMode"),l=be("inputNumber"),c=Ee("directives","dompurify-html");return e.malObj?(pt(),yt("div",{key:0,id:"malsync-update-ui",class:(0,r.C_)({"malsync-loading":e.loading,"malsync-error":a.errorMessage,"malsync-not-list":!a.onList})},[xt("div",pi,[ye(xt("div",mi,null,512),[[Cn,e.loading]]),xt("div",fi,[xt("span",{class:"remove-update-mal-sync",onClick:t[0]||(t[0]=e=>a.hide())},"x"),kt(o,{label:e.lang("UI_Score"),value:e.score,"score-mode-strategy":e.malObj?e.malObj.getScoreMode():null,"onUpdate:value":t[1]||(t[1]=t=>e.score=t)},null,8,["label","value","score-mode-strategy"]),kt(l,{label:e.utils.episode(e.malObj.getType()),total:e.malObj.getTotalEpisodes(),value:e.episode,"additional-slot":Boolean(a.progress),"onUpdate:value":t[2]||(t[2]=t=>e.episode=t)},{default:I((()=>[a.progress?(pt(),yt("span",{key:0,class:"mal-sync-ep",title:a.progress.getAutoText()},[At(" ["),xt("span",{style:(0,r.j5)(`border-bottom: 1px dotted ${a.progress.getColor()};`)},(0,r.zw)(a.progress.getCurrentEpisode()),5),At("] ")],8,gi)):Nt("v-if",!0)])),_:1},8,["label","total","value","additional-slot"]),e.malObj&&"manga"===e.malObj.getType()&&a.onList?(pt(),_t(l,{key:0,label:e.lang("UI_Volume"),total:e.malObj.getTotalVolumes(),value:e.volume,"onUpdate:value":t[3]||(t[3]=t=>e.volume=t)},null,8,["label","total","value"])):Nt("v-if",!0),a.errorMessage?ye((pt(),yt("span",yi,null,512)),[[c,a.errorMessage]]):Nt("v-if",!0),_i]),a.onList?!e.malObj.isDirty()||e.loading||a.errorMessage?Nt("v-if",!0):(pt(),yt("div",{key:1,class:"malsync-save",onClick:t[5]||(t[5]=e=>a.update())},(0,r.zw)(e.lang("Update")),1)):(pt(),yt("div",{key:0,class:(0,r.C_)(["malsync-add",{"ms-load":e.loading||a.errorMessage}]),onClick:t[4]||(t[4]=e=>a.addUpdate())},(0,r.zw)(e.lang("Add")),3))])],2)):Nt("v-if",!0)}],["styles",["#malsync-update-ui.malsync-loading,\n#malsync-update-ui.malsync-error {\n  pointer-events: none;\n}\n#malsync-update-ui.malsync-loading .ms-data-inner,\n#malsync-update-ui.malsync-error .ms-data-inner {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-not-list .ms-data-inner {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-not-list:hover .ms-data-inner {\n  opacity: 1 !important;\n}\n#malsync-update-ui.malsync-error {\n  pointer-events: none;\n}\n#malsync-update-ui.malsync-error .ms-data {\n  outline: solid 1px red;\n}\n#malsync-update-ui.malsync-error .ms-data-inner {\n  opacity: 1 !important;\n}\n#malsync-update-ui.malsync-error .powered-malsync {\n  opacity: 1 !important;\n  color: red !important;\n}\n#malsync-update-ui.malsync-error .ms-data-inner .progress {\n  opacity: 0.4 !important;\n}\n#malsync-update-ui.malsync-error .errorMessageText {\n  color: red;\n  margin-bottom: 15px;\n  text-align: center;\n}\n#malsync-update-ui .ms-data {\n  position: relative;\n  background: rgb(var(--color-foreground));\n  border-radius: 3px;\n  margin-bottom: 16px;\n  overflow: hidden;\n}\n#malsync-update-ui .ms-data .ms-data-inner {\n  opacity: 1;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 18px;\n  gap: 15px;\n  transition: opacity 0.1s ease-in-out;\n}\n#malsync-update-ui .ms-data .malsync-save,\n#malsync-update-ui .ms-data .malsync-add {\n  text-align: center;\n  background: rgb(var(--color-blue));\n  height: 28px;\n  vertical-align: middle;\n  line-height: 28px;\n  color: rgb(var(--color-white));\n  text-transform: uppercase;\n  font-size: 14px;\n  cursor: pointer;\n}\n#malsync-update-ui .ms-data .malsync-save.ms-load,\n#malsync-update-ui .ms-data .malsync-add.ms-load {\n  pointer-events: none;\n  opacity: 0.4;\n}\n#malsync-update-ui .ms-data .malsync-add {\n  background: rgb(var(--color-green));\n}\n#malsync-update-ui .ms-data:hover .powered-malsync {\n  opacity: 0.3;\n}\n#malsync-update-ui .ms-data .powered-malsync {\n  transition: opacity 0.2s ease-in-out;\n  opacity: 0.1;\n  position: absolute;\n  bottom: 5px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  font-size: 12px;\n  color: rgb(var(--color-text-secondary));\n}\n#malsync-update-ui .progress {\n  max-width: 229px;\n  margin-left: auto;\n  margin-right: auto;\n}\n#malsync-update-ui .el-input__inner,\n#malsync-update-ui .star-score-wrap,\n#malsync-update-ui .smile-score-wrap {\n  background: rgb(var(--color-background)) !important;\n  height: 27px;\n}\n#malsync-update-ui .star-score-wrap {\n  margin-top: 5px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#malsync-update-ui .star-score-wrap .el-rate__item {\n  cursor: pointer;\n}\n#malsync-update-ui .smile-score-wrap {\n  margin-top: 5px;\n  width: 100%;\n}\n#malsync-update-ui .smile-score-wrap .el-rate {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  height: 100%;\n}\n#malsync-update-ui .ms-button {\n  width: 20px;\n  height: 18px;\n}\n#malsync-update-ui .ms-button.el-input-number__increase {\n  line-height: 20px;\n}\n#malsync-update-ui .ms-button.el-input-number__decrease {\n  line-height: 16px;\n}\n#malsync-update-ui .el-input-number {\n  width: auto;\n}\n#malsync-update-ui .el-select {\n  width: 100%;\n}\n#malsync-update-ui .el-select .el-input__inner {\n  line-height: normal;\n}\n#malsync-update-ui .el-select .el-input__suffix {\n  pointer-events: none;\n  right: 0;\n  top: 6px;\n}\n#malsync-update-ui .el-select .el-input__suffix * {\n  pointer-events: none !important;\n}\n#malsync-update-ui .ms-input-wrapper {\n  display: flex;\n  align-items: center;\n}\n#malsync-update-ui .ms-input-wrapper .ms-input-ep {\n  white-space: nowrap;\n  margin-left: 10px;\n}\n#malsync-update-ui .ms-loading {\n  position: absolute;\n  height: 4px;\n  width: 100%;\n  overflow: hidden;\n}\n#malsync-update-ui .ms-loading::before {\n  display: block;\n  position: absolute;\n  content: '';\n  left: -200px;\n  width: 200px;\n  height: 4px;\n  background: rgb(var(--color-blue));\n  animation: loading-mal 2s linear infinite;\n}\n@keyframes loading-mal {\n0% {\n    left: -200px;\n    width: 30%;\n}\n50% {\n    width: 30%;\n}\n70% {\n    width: 70%;\n}\n80% {\n    left: 50%;\n}\n95% {\n    left: 120%;\n}\n100% {\n    left: 100%;\n}\n}\n#malsync-update-ui .remove-update-mal-sync {\n  cursor: pointer;\n  position: absolute;\n  opacity: 0.4;\n  right: 5px;\n  top: 2px;\n  font-size: 12px;\n}\n"]],["__file","updateUi.vue"]]);var os=n(9375),ls=n(9375),cs=n(19947),us=n(58339),ds=n(9e4),hs=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};class ps{constructor(e){this.url=e,this.page=null,this.tempAnimelist=null,this.tempMangalist=null;let t=!0;ls.changeDetect((()=>{this.url=window.location.href,this.init()}),(()=>{if(t)return void(t=!1);if(null!==this.page&&"bookmarks"===this.page.page&&$(".lists").length)return $(".lists").first().height();let e=$('meta[property="og:url"]').attr("content");return void 0!==e&&e.split("/").length>4?e.split("/").slice(0,6).join("/"):(e=window.location.href,e)})),cs.$(document).on("click",".save-btn",(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)})),cs.$(document).on("click",".delete-btn",(()=>{ls.waitUntilTrue((()=>!cs.$(".delete-btn").length),(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)}))})),ls.waitUntilTrue((()=>cs.$(".cover-wrap .list .el-dropdown-link").length),(()=>{const e=cs.$(".cover-wrap .list .el-dropdown-link").attr("aria-controls");cs.$(document).on("mousedown",`#${e} .el-dropdown-menu__item`,(()=>{setTimeout((()=>{this.vueEl&&this.vueEl.reload()}),500)}))})),this.url.indexOf("access_token=")>-1&&this.init(),us.storage.addStyle(n(57237).toString())}init(){return hs(this,void 0,void 0,(function*(){yield(0,os.waitForPageToBeVisible)(),this.url.indexOf("access_token=")>-1&&this.authentication();const e=ls.urlPart(this.url,3);"anime"!==e&&"manga"!==e||(this.page={page:"detail",id:ls.urlPart(this.url,4),apiCacheKey:NaN,type:e},this.streamingUI(),qn(this.page.id,this.page.type).then((e=>{this.page.apiCacheKey=e||`anilist:${this.page.id}`,ds.log("page",this.page),this.malToKiss()})));const t=ls.urlPart(this.url,5);"animelist"!==t&&"mangalist"!==t||(this.page={page:"bookmarks",type:t.substring(0,5)},this.bookmarks())}))}authentication(){return hs(this,void 0,void 0,(function*(){try{ls.checkDoubleExecution()}catch(e){ds.error(e)}const e=/access_token=[^&]+/gi.exec(this.url);if(null!==e&&void 0!==e[0]&&e[0]){const t=e[0].toString().replace(/access_token=/gi,"");ds.log("Token Found",t),yield us.settings.set("anilistToken",t),$(document).ready((function(){$(".page-content .container").html(cs.html(`\n          <div style="text-align: center; margin-top: 50px; background-color: white; border: 1px solid lightgrey; padding: 10px;">\n            <h1>MAL-Sync</h1>\n            <br>\n            ${us.storage.lang("anilistClass_authentication")}\n          </div>\n        `))}))}}))}getMalUrl(){return hs(this,void 0,void 0,(function*(){const e=ls.urlPart(this.url,3);if("anime"===e||"manga"===e){const t=ls.urlPart(this.url,4);return qn(Number(t),e).then((t=>t?`https://myanimelist.net/${e}/${t}/${ls.urlPart(this.url,5)}`:""))}return""}))}getImage(){return $(".header .cover").attr("src")||""}getTitle(){return $("h1").first().clone().children().remove().end().text().trim()}malToKiss(){$(document).ready((()=>{ds.log("malToKiss"),$(".mal_links").remove();const e=this.getTitle();hi(this.page.type,this.page.apiCacheKey,e).then((e=>{let t="";e.forEach((e=>{let n="";e.links.forEach((e=>{n+=`\n              <div class="mal_links" style="margin-top: 5px;">\n                <a target="_blank" href="${e.url}">\n                  ${e.name}\n                </a>\n              </div>`})),t+=`\n            <div id="${e.name}Links" class="mal_links" style="\n              background: rgb(var(--color-foreground));\n              border-radius: 3px;\n              display: block;\n              padding: 8px 12px;\n              width: 100%;\n              margin-bottom: 16px;\n              margin-top: 16px;\n              font-size: 1.2rem;\n              position: relative;\n              word-break: break-all;\n            ">\n              <img src="${ls.favicon(e.domain)}" height="16" width="16">\n              <span style="font-weight: 500; line-height: 16px; vertical-align: middle;">${e.name}</span>\n              <span title="${e.name}" class="remove-mal-sync" title="remove" style="position: absolute; top: 2px; right: 5px; cursor: pointer; opacity: 0.4;">x</span>\n              ${n}\n            </div>`})),$(".mal_links").remove(),"below"===us.settings.get("quicklinksPosition")?$(".sidebar .data").after(cs.html(t)):$(".sidebar .data").before(cs.html(t)),$(".remove-mal-sync").click((function(){const e=$(this).attr("title");!function(e){const t=oi.settings.get("quicklinks");oi.settings.set("quicklinks",function(e,t){return t?e.filter((e=>!(!e||e===t||"object"==typeof e&&e.name===t))):e}(t,e))}(String(e)),window.location.reload()}))}))}))}streamingUI(){return hs(this,void 0,void 0,(function*(){ds.log("Streaming UI"),$("#mal-sync-stream-div").remove(),$(".malsync-rel-link").remove(),this.vueEl&&(this.vueEl.loading=!0);const e=new ai(this.url);yield e.update(),this.initVue(e),this.pageRelation(e);const t=e.getStreamingUrl();t&&$(document).ready((function(){return hs(this,void 0,void 0,(function*(){$("#mal-sync-stream-div").remove(),$("h1").first().append(cs.html(`\n        <div class="data title progress" id="mal-sync-stream-div" style="margin-top: -2px; display: inline-block; position: relative; top: 2px;">\n          <a class="mal-sync-stream" title="${t?t.split("/")[2]:""}" target="_blank" style="margin: 0 0;" href="${t}">\n            <img src="${ls.favicon(t?t.split("/")[2]:"")}">\n          </a>\n        </div>`));const n=e.getResumeWatching(),r=e.getContinueWatching();ds.log("Resume",n,"Continue",r),r&&r.ep===e.getEpisode()+1?$("#mal-sync-stream-div").append(cs.html(`<a class="nextStream" title="${us.storage.lang(`overview_Continue_${e.getType()}`)}" target="_blank" style="margin: 0 5px 0 0; color: #BABABA;" href="${r.url}">\n              <img src="${us.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n            </a>`)):n&&n.ep===e.getEpisode()&&$("#mal-sync-stream-div").append(cs.html(`<a class="resumeStream" title="${us.storage.lang(`overview_Resume_Episode_${e.getType()}`)}" target="_blank" style="margin: 0 5px 0 0; color: #BABABA;" href="${n.url}">\n              <img src="${us.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n            </a>`))}))}))}))}pageRelation(e){return hs(this,void 0,void 0,(function*(){yield e.fillRelations(),$(".malsync-rel-link").remove(),$("h1").first().append(cs.html('<div class="malsync-rel-link" style="float: right;"></div>')),e.getPageRelations().forEach((e=>{$(".malsync-rel-link").append(cs.html(`\n          <a href="${e.link}" target="_blank" title="${e.name}" class="link">\n            <img src="${e.icon}" width="16" width="16">\n          </a>\n\n        `))}))}))}bookmarks(){const e=this;$(document).ready((()=>{if($(".list-entries .entry, .list-entries .entry-card").not(".malSyncDone").each(((e,t)=>{$(t).addClass("malSyncDone");let n=$(t).find(".notes").first().attr("label");void 0!==n&&(n=n.replace(/(malSync|last)::[\d\D]+::/,"").replace(/#,/,""),""===n.trim()||","===n.trim()?$(t).find(".notes").first().css("visibility","hidden"):$(t).find(".notes").first().attr("label",n))})),"anime"===this.page.type){if(null!==this.tempAnimelist)return void n(this.tempAnimelist)}else if(null!==this.tempMangalist)return void n(this.tempMangalist);const t=new Tr(1,this.page.type);function n(t){ds.log(t),$.each(t,((t,n)=>hs(this,void 0,void 0,(function*(){const t=$(`.entry:not(.malSyncDone2) a[href^="/${e.page.type}/${n.uid}/"], .entry-card:not(.malSyncDone2) a[href^="/${e.page.type}/${n.uid}/"]`);if(t.length){const e=t.first().parent();e.parent().addClass("malSyncDone2"),n.options&&n.options.u&&(ds.log(n.options.u),e.find("a").first().after(cs.html(`\n                <a class="mal-sync-stream mal-rem" title="${n.options.u.split("/")[2]}" target="_blank" style="margin: 0 0; max-height: 14px;" href="${n.options.u}">\n                  <img src="${ls.favicon(n.options.u.split("/")[2])}">\n                </a>`)));const r=n.options.r,i=n.options.c,s=n.watchedEp;ds.log("Resume",r,"Continue",i),i&&i.ep===s+1?e.prepend(cs.html(`<a class="nextStream mal-rem" title="Continue watching" target="_blank" style="margin: -2px 5px 0 0; color: #BABABA;" href="${i.url}">\n                  <img src="${us.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n                </a>`)):r&&r.ep===s&&e.prepend(cs.html(`<a class="resumeStream mal-rem" title="Resume watching" target="_blank" style="margin: -2px 5px 0 0; color: #BABABA;" href="${r.url}">\n                  <img src="${us.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n                </a>`)),yield n.fn.initProgress(),n.fn.progress&&n.fn.progress.isAiring()&&n.fn.progress.getCurrentEpisode()&&e.parent().find(".progress").first().append(cs.html(` <span class="mal-sync-ep-pre" title="${n.fn.progress.getAutoText()}">[<span style="border-bottom: 1px dotted ${n.fn.progress.getColor()};">${n.fn.progress.getCurrentEpisode()}</span>]</span>`))}}))))}t.getCompleteList().then((e=>{"anime"===this.page.type?this.tempAnimelist=e:this.tempMangalist=e,n(e)})).catch((e=>{ds.error(e),t.flashmError(e)}))}))}initVue(e){us.settings.get("anilistUpdateUi")&&($("#malsync-update-ui").length||$(".sidebar").first().prepend(cs.html('<div id="malsync-update-ui"></div>')),this.vueEl&&this.vueEl.$.appContext.app.unmount(),this.vueEl=Dn(as,"#malsync-update-ui"),this.vueEl.malObj=e)}}var ms=n(58339),fs=n(19947),gs=n(9e4),ys=n(9375),_s=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};function vs(){return _s(this,void 0,void 0,(function*(){const e=yield ms.storage.get("timestampUpdate/firebaseNotification");(void 0===e||fs.$.now()-e>6e5)&&(yield bs(),ms.storage.set("timestampUpdate/firebaseNotification",fs.$.now()))}))}function bs(){return _s(this,void 0,void 0,(function*(){gs.log("checkNotifications");const e=yield ms.request.xhr("GET","https://kissanimelist.firebaseio.com/Data2/Notification/Current.json"),t=parseInt(JSON.parse(e.responseText));Number.isNaN(t)&&gs.error("Could not read current Notification number"),gs.log("Current Notification",t);const n=parseInt(yield ms.storage.get("firebaseNotification")),r=n+1;if(void 0===n||Number.isNaN(n))return void ms.storage.set("firebaseNotification",t);if(t<r)return void gs.log("No new notifications");const i=`https://kissanimelist.firebaseio.com/Data2/Notification/list/N${r}.json`,s=yield ms.request.xhr("GET",i);if(!s)return;const a=JSON.parse(s.responseText);if(!a)return gs.info("Notification empty",s.responseText),void ms.storage.set("firebaseNotification",r).then((function(){bs()}));fs.$(document).ready((function(){const e=ys.flashm(`<div style="text-align: left;">${a}</div><button class="okChangelog" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px;cursor: pointer;">Close</button>`,{permanent:!0,position:"top"});e.find(".okChangelog").click((function(){e.remove(),ms.storage.set("firebaseNotification",r).then((function(){bs()}))}))}))}))}class ws extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const Es=Object.prototype.toString;function Ss(e){switch(Es.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Is(e,Error)}}function xs(e,t){return Es.call(e)===`[object ${t}]`}function ks(e){return xs(e,"ErrorEvent")}function Ts(e){return xs(e,"DOMError")}function As(e){return xs(e,"String")}function Ns(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function Cs(e){return xs(e,"Object")}function $s(e){return"undefined"!=typeof Event&&Is(e,Event)}function Os(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Is(e,t){try{return e instanceof t}catch(e){return!1}}var Rs;function Ls(e){return new Ms((t=>{t(e)}))}function Ps(e){return new Ms(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Rs||(Rs={}));class Ms{__init(){this._state=Rs.PENDING}__init2(){this._handlers=[]}constructor(e){Ms.prototype.__init.call(this),Ms.prototype.__init2.call(this),Ms.prototype.__init3.call(this),Ms.prototype.__init4.call(this),Ms.prototype.__init5.call(this),Ms.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Ms(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Ms(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(Rs.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(Rs.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===Rs.PENDING&&(Os(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===Rs.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Rs.RESOLVED&&e[1](this._value),this._state===Rs.REJECTED&&e[2](this._value),e[0]=!0)}))}}}const Ds=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Us(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:a,protocol:o,publicKey:l}=e;return`${o}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${a}`}function js(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}var Bs=n(71235);const Fs=(0,Bs.Rf)();function Vs(e,t={}){try{let n=e;const r=5,i=[];let s=0,a=0;const o=" > ",l=o.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<r&&(c=Gs(n,u),!("html"===c||s>1&&a+i.length*l+c.length>=d));)i.push(c),a+=c.length,n=n.parentNode;return i.reverse().join(o)}catch(e){return"<unknown>"}}function Gs(e,t){const n=e,r=[];let i,s,a,o,l;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&As(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)r.push(`.${s[l]}`);const u=["type","name","title","alt"];for(l=0;l<u.length;l++)a=u[l],o=n.getAttribute(a),o&&r.push(`[${a}="${o}"]`);return r.join("")}function qs(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}function Hs(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Ws(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!As(e)&&(xs(t,"RegExp")?t.test(e):!!As(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}function zs(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if("function"==typeof i)try{Ks(i,r)}catch(e){}e[t]=i}function Ys(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Ks(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,Ys(e,"__sentry_original__",t)}function Js(e){return e.__sentry_original__}function Xs(e){if(Ss(e))return{message:e.message,name:e.name,stack:e.stack,...Qs(e)};if($s(e)){const t={type:e.type,target:Zs(e.target),currentTarget:Zs(e.currentTarget),...Qs(e)};return"undefined"!=typeof CustomEvent&&Is(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Zs(e){try{return"undefined"!=typeof Element&&Is(e,Element)?Vs(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function Qs(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function ea(e,t=40){const n=Object.keys(Xs(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return qs(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:qs(r,t)}return""}function ta(e){return na(e,new Map)}function na(e,t){if(Cs(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=na(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(na(e,t))})),r}return e}function ra(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[];for(const i of e.split("\n").slice(n)){const e=i.replace(/\(error: (.*)\)/,"$1");for(const n of t){const t=n(e);if(t){r.push(t);break}}}return function(e){if(!e.length)return[];let t=e;const n=t[0].function||"",r=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(r)}}const ia="<anonymous>";function sa(e){try{return e&&"function"==typeof e&&e.name||ia}catch(e){return ia}}function aa(e,t=1/0,n=1/0){try{return la("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function oa(e,t=3,n=102400){const r=aa(e,t);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}(r)>n?oa(e,t-1,n):r}function la(e,t,r=1/0,i=1/0,s=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[a,o]=s;if(null===t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(l=t)||l==l))return t;var l;const c=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":function(e){return Cs(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${sa(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;if(0===r)return c.replace("object ","");if(a(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return la("",u.toJSON(),r-1,i,s)}catch(e){}const d=Array.isArray(t)?[]:{};let h=0;const p=Xs(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(h>=i){d[e]="[MaxProperties ~]";break}const t=p[e];d[e]=la(e,t,r-1,i,s),h++}return o(t),d}function ca(e,t=[]){return[e,t]}function ua(e,t){const[n,r]=e;return[n,[...r,t]]}function da(e,t){e[1].forEach((e=>{const n=e[0].type;t(e,n)}))}function ha(e,t){return(t||new TextEncoder).encode(e)}function pa(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(e){"string"==typeof i?i="string"==typeof e?i+e:[ha(i,t),e]:i.push("string"==typeof e?ha(e,t):e)}for(const e of r){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(aa(n))}s(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(i)}function ma(e,t){const n="string"==typeof e.data?ha(e.data,t):e.data;return[ta({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const fa={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay_event",replay_recording:"replay_recording"};function ga(e){return fa[e]}function ya(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}const _a=["debug","info","warn","error","log","assert","trace"];function va(e){if(!("console"in Bs.n2))return e();const t=Bs.n2.console,n={};_a.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function ba(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?_a.forEach((n=>{t[n]=(...t)=>{e&&va((()=>{Bs.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):_a.forEach((e=>{t[e]=()=>{}})),t}let wa;function Ea(e,t,n=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Ps(new ws("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new Ms(((n,r)=>{let i=t.length;if(!i)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{Ls(e).then((()=>{--i||(clearTimeout(s),n(!0))}),r)}))}))}}}(e.bufferSize||30)){let r={};return{send:function(i){const s=[];if(da(i,((t,n)=>{const i=ga(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)){const r=Sa(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else s.push(t)})),0===s.length)return Ls();const a=ca(i[0],s),o=t=>{da(a,((n,r)=>{const i=Sa(n,r);e.recordDroppedEvent(t,ga(r),i)}))};return n.add((()=>t({body:pa(a,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n]=e.split(":",2),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))i[e]=r+a;else i.all=r+a}else a?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(i.all=r+6e4);return i}(r,e)}),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error("Failed while sending event:",e),o("network_error")})))).then((e=>e),(e=>{if(e instanceof ws)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error("Skipped sending event because buffer is full."),o("queue_overflow"),Ls();throw e}))},flush:e=>n.drain(e)}}function Sa(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}wa="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,Bs.YO)("logger",ba):ba();const xa=(0,Bs.Rf)();function ka(){if(!("fetch"in xa))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Ta(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Aa(){const e=Bs.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Na(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ca(e){const{message:t,event_id:n}=e;if(t)return t;const r=Na(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function $a(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function Oa(e,t){const n=Na(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function Ia(e){if(e&&e.__sentry_captured__)return!0;try{Ys(e,"__sentry_captured__",!0)}catch(e){}return!1}function Ra(e){return Array.isArray(e)?e:[e]}var La=n(21170),Pa=n(72176);function Ma(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,La.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Aa()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class Da{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new Da;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Ma(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof Da?t:this}return e instanceof Da?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Cs(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,La.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ua(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new Ms(((i,s)=>{const a=e[r];if(null===t||"function"!=typeof a)i(t);else{const o=a({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.id&&null===o&&wa.log(`Event processor "${a.id}" dropped event`),Os(o)?o.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(i))).then(null,s):this._notifyEventProcessors(e,o,n,r+1).then(i).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Ra(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Ua(){return(0,Bs.YO)("globalEventProcessors",(()=>[]))}function ja(e){Ua().push(e)}const Ba=100;class Fa{__init(){this._stack=[{}]}constructor(e,t=new Da,n=4){this._version=n,Fa.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=Da.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Aa(),r=new Error("Sentry syntheticException");return this._withClient(((i,s)=>{i.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},s)})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:Aa(),i=new Error(e);return this._withClient(((s,a)=>{s.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},a)})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Aa();return"transaction"!==e.type&&(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(e,{...t,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!n||!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Ba}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const a={timestamp:(0,La.yW)(),...e},o=i?va((()=>i(a,t))):a;null!==o&&n.addBreadcrumb(o,s)}setUser(e){const t=this.getScope();t&&t.setUser(e)}setTags(e){const t=this.getScope();t&&t.setTags(e)}setExtras(e){const t=this.getScope();t&&t.setExtras(e)}setTag(e,t){const n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){const n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){const n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){const t=Ga(this);try{e(this)}finally{Ga(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&function(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),Ma(e,n)}(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i}=n&&n.getOptions()||{},{userAgent:s}=Bs.n2.navigator||{},a=function(e){const t=(0,La.ph)(),n={sid:Aa(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return ta({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&Ma(n,e),n}({release:r,environment:i,...t&&{user:t.getUser()},...s&&{userAgent:s},...e});if(t){const e=t.getSession&&t.getSession();e&&"ok"===e.status&&Ma(e,{status:"exited"}),this.endSession(),t.setSession(a)}return a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=Va().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Va(){return Bs.n2.__SENTRY__=Bs.n2.__SENTRY__||{extensions:{},hub:void 0},Bs.n2}function Ga(e){const t=Va(),n=Wa(t);return za(t,e),n}function qa(){const e=Va();return Ha(e)&&!Wa(e).isOlderThan(4)||za(e,new Fa),(0,Pa.KV)()?function(e){try{const t=Va().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return Wa(e);if(!Ha(n)||Wa(n).isOlderThan(4)){const t=Wa(e).getStackTop();za(n,new Fa(t.client,Da.clone(t.scope)))}return Wa(n)}catch(t){return Wa(e)}}(e):Wa(e)}function Ha(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Wa(e){return(0,Bs.YO)("hub",(()=>new Fa),e)}function za(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function Ya(e,t){return qa().captureException(e,{captureContext:t})}function Ka(e){qa().withScope(e)}const Ja=Bs.n2;let Xa,Za=0;function Qa(){return Za>0}function eo(){Za++,setTimeout((()=>{Za--}))}function to(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(Js(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const i=r.map((e=>to(e,t)));return e.apply(this,i)}catch(e){throw eo(),Ka((n=>{n.addEventProcessor((e=>(t.mechanism&&($a(e,void 0,void 0),Oa(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),Ya(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}Ks(r,e),Ys(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}function no(e,t=function(){if(Xa)return Xa;if(Ta(Ja.fetch))return Xa=Ja.fetch.bind(Ja);const e=Ja.document;let t=Ja.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Xa=t.bind(Ja)}()){return Ea(e,(function(n){const r={body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n.body.length<=65536,...e.fetchOptions};try{return t(e.url,r).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Xa=void 0,Ps(e)}}))}const ro=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class io{static __initStatic(){this.id="InboundFilters"}__init(){this.name=io.id}constructor(e={}){this._options=e,io.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(io);if(t){const r=n.getClient(),i=r?r.getOptions():{},s=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...ro],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,i);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Ca(e)}`),!0):function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error(`Cannot extract message for event ${Ca(e)}`),[]}return[]}(e).some((e=>Ws(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Ca(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=so(e);return!!n&&Ws(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Ca(e)}.\nUrl: ${so(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=so(e);return!n||Ws(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Ca(e)}.\nUrl: ${so(e)}`),!0)}(e,s)?null:e}}return e};n.id=this.name,e(n)}}function so(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error(`Cannot extract url for event ${Ca(e)}`),null}}let ao;io.__initStatic();class oo{constructor(){oo.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=oo.id}setupOnce(){ao=Function.prototype.toString,Function.prototype.toString=function(...e){const t=Js(this)||this;return ao.apply(t,e)}}}oo.__initStatic();const lo=[];function co(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Ra(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r),s=i.findIndex((e=>"Debug"===e.name));if(-1!==s){const[e]=i.splice(s,1);i.push(e)}return i}const uo=(0,Bs.Rf)(),ho={},po={};function mo(e,t){ho[e]=ho[e]||[],ho[e].push(t),function(e){if(!po[e])switch(po[e]=!0,e){case"console":"console"in uo&&_a.forEach((function(e){e in uo.console&&zs(uo.console,e,(function(t){return function(...n){fo("console",{args:n,level:e}),t&&t.apply(uo.console,n)}}))}));break;case"dom":!function(){if(!("document"in uo))return;const e=fo.bind(null,"dom"),t=wo(e,!0);uo.document.addEventListener("click",t,!1),uo.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=uo[t]&&uo[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(zs(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,s=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=s[n]=s[n]||{refCount:0};if(!a.handler){const r=wo(e);a.handler=r,t.call(this,n,r,i)}a.refCount++}catch(e){}return t.call(this,n,r,i)}})),zs(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in uo))return;const e=XMLHttpRequest.prototype;zs(e,"open",(function(e){return function(...t){const n=this,r=t[1],i=n.__sentry_xhr__={method:As(t[0])?t[0].toUpperCase():t[0],url:t[1]};As(r)&&"POST"===i.method&&r.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const s=function(){if(4===n.readyState){try{i.status_code=n.status}catch(e){}fo("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?zs(n,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(n,t)}})):n.addEventListener("readystatechange",s),e.apply(n,t)}})),zs(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),fo("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(function(){if(!ka())return!1;if(Ta(xa.fetch))return!0;let e=!1;const t=xa.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ta(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&zs(uo,"fetch",(function(e){return function(...t){const n={args:t,fetchData:{method:go(t),url:yo(t)},startTimestamp:Date.now()};return fo("fetch",{...n}),e.apply(uo,t).then((e=>(fo("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw fo("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=xa.chrome,t=e&&e.app&&e.app.runtime,n="history"in xa&&!!xa.history.pushState&&!!xa.history.replaceState;return!t&&n}())return;const e=uo.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=_o,t=String(n);_o=t,fo("history",{from:e,to:t})}return e.apply(this,t)}}uo.onpopstate=function(...t){const n=uo.location.href,r=_o;if(_o=n,fo("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},zs(uo.history,"pushState",t),zs(uo.history,"replaceState",t)}();break;case"error":Eo=uo.onerror,uo.onerror=function(e,t,n,r,i){return fo("error",{column:r,error:i,line:n,msg:e,url:t}),!!Eo&&Eo.apply(this,arguments)};break;case"unhandledrejection":So=uo.onunhandledrejection,uo.onunhandledrejection=function(e){return fo("unhandledrejection",e),!So||So.apply(this,arguments)};break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("unknown instrumentation type:",e)}}(e)}function fo(e,t){if(e&&ho[e])for(const n of ho[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${sa(n)}\nError:`,t)}}function go(e=[]){return"Request"in uo&&Is(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function yo(e=[]){return"string"==typeof e[0]?e[0]:"Request"in uo&&Is(e[0],Request)?e[0].url:String(e[0])}let _o,vo,bo;function wo(e,t=!1){return n=>{if(!n||bo===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===vo||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(bo,n))&&(e({event:n,name:r,global:t}),bo=n),clearTimeout(vo),vo=uo.setTimeout((()=>{vo=void 0}),1e3)}}let Eo=null,So=null;function xo(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}(e,r)}`}const ko="Not capturing exception because it's already been captured.";class To{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(To.prototype.__init.call(this),To.prototype.__init2.call(this),To.prototype.__init3.call(this),To.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=function(e){const t="string"==typeof e?function(e){const t=Ds.exec(e);if(!t)throw new ws(`Invalid Sentry Dsn: ${e}`);const[n,r,i="",s,a="",o]=t.slice(1);let l="",c=o;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return js({host:s,pass:i,path:l,projectId:c,port:a,protocol:n,publicKey:r})}(e):js(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new ws(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new ws(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(r))throw new ws(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new ws(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}(e.dsn);const t=xo(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("No DSN provided, client will not do anything.")}captureException(e,t,n){if(Ia(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log(ko));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let i=n&&n.event_id;const s=Ns(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,r))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&Ia(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log(ko));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ma(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):Ls(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{t[e.name]=e,-1===lo.indexOf(e.name)&&(e.setupOnce(ja,qa),lo.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log(`Integration installed: ${e.name}`))})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,t={}){if(this._dsn){let n=function(e,t,n,r){const i=ya(n),s=e.type||"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:Us(r)},..."transaction"===e.type&&i&&{trace:ta({...i})}}}(e,i,r,t);return delete e.sdkProcessingMetadata,ca(a,[[{type:s},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=ua(n,ma(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){const t=function(e,t,n,r){const i=ya(n);return ca({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:Us(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&(Ma(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ms((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){return function(e,t,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=e,a={...t,event_id:t.event_id||n.event_id||Aa(),timestamp:t.timestamp||(0,La.yW)()};!function(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=qs(e.message,s));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=qs(a.value,s));const o=e.request;o&&o.url&&(o.url=qs(o.url,s))}(a,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(a,e.integrations.map((e=>e.name)));let o=r;n.captureContext&&(o=Da.clone(o).update(n.captureContext));let l=Ls(a);if(o){if(o.getAttachments){const e=[...n.attachments||[],...o.getAttachments()];e.length&&(n.attachments=e)}l=o.applyToEvent(a,n)}return l.then((e=>"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:aa(e.data,t,n)}})))},...e.user&&{user:aa(e.user,t,n)},...e.contexts&&{contexts:aa(e.contexts,t,n)},...e.extra&&{extra:aa(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=aa(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=aa(e.data,t,n)),e)))),r}(e,i,s):e))}(this.getOptions(),e,t,n)}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?wa.log(t.message):wa.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r;if(!this._isEnabled())return Ps(new ws("SDK not enabled, will not capture event.","log"));const s=No(e),a=Ao(e),o=e.type||"error",l=`before send for type \`${o}\``;return a&&"number"==typeof i&&Math.random()>i?(this.recordDroppedEvent("sample_rate","error",e),Ps(new ws(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"))):this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",o,e),new ws("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return Ao(t)&&r?r(t,n):No(t)&&i?i(t,n):t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Os(e))return e.then((e=>{if(!Cs(e)&&null!==e)throw new ws(n);return e}),(e=>{throw new ws(`${t} rejected with ${e}`)}));if(!Cs(e)&&null!==e)throw new ws(n);return e}(i,l)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",e.type||"error",e),new ws(`${l} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!s&&i&&this._updateSessionFromEvent(i,r);const a=r.transaction_info;if(s&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e,changes:[...a.changes,{source:e,timestamp:r.timestamp,propagations:a.propagations}]}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof ws)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new ws(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function Ao(e){return void 0===e.type}function No(e){return"transaction"===e.type}const Co="7.29.0";function $o(e,t){const n=Io(e,t),r={type:t&&t.name,value:Lo(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Oo(e,t){return{exception:{values:[$o(e,t)]}}}function Io(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Ro.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Ro=/Minified React error #\d+;/i;function Lo(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Po(e,t,n,r,i){let s;if(ks(t)&&t.error)return Oo(e,t.error);if(Ts(t)||xs(t,"DOMException")){const i=t;if("stack"in t)s=Oo(e,t);else{const t=i.name||(Ts(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;s=Mo(e,a,n,r),$a(s,a)}return"code"in i&&(s.tags={...s.tags,"DOMException.code":`${i.code}`}),s}return Ss(t)?Oo(e,t):Cs(t)||$s(t)?(s=function(e,t,n,r){const i=qa().getClient(),s=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:$s(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${ea(t)}`}]},extra:{__serialized__:oa(t,s)}};if(n){const t=Io(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,i),Oa(s,{synthetic:!0}),s):(s=Mo(e,t,n,r),$a(s,`${t}`,void 0),Oa(s,{synthetic:!0}),s)}function Mo(e,t,n,r){const i={message:t};if(r&&n){const r=Io(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}const Do=["fatal","error","warning","log","info","debug"];function Uo(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}const jo="Breadcrumbs";class Bo{static __initStatic(){this.id=jo}__init(){this.name=Bo.id}constructor(e){Bo.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){var e;this.options.console&&mo("console",Fo),this.options.dom&&mo("dom",(e=this.options.dom,function(t){let n,r="object"==typeof e?e.serializeAttribute:void 0,i="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=1024),"string"==typeof r&&(r=[r]);try{n=t.event.target?Vs(t.event.target,{keyAttrs:r,maxStringLength:i}):Vs(t.event,{keyAttrs:r,maxStringLength:i})}catch(e){n="<unknown>"}0!==n.length&&qa().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&mo("xhr",Vo),this.options.fetch&&mo("fetch",Go),this.options.history&&mo("history",qo)}addSentryBreadcrumb(e){this.options.sentry&&qa().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Ca(e)},{event:e})}}function Fo(e){for(let t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:(n=e.level,"warn"===n?"warning":Do.includes(n)?n:"log"),message:Hs(e.args," ")};var n;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${Hs(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}qa().addBreadcrumb(t,{input:e.args,level:e.level})}function Vo(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:r,body:i}=e.xhr.__sentry_xhr__||{};qa().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:r},type:"http"},{xhr:e.xhr,input:i})}}function Go(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?qa().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):qa().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function qo(e){let t=e.from,n=e.to;const r=Uo(Ja.location.href);let i=Uo(t);const s=Uo(n);i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),qa().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}Bo.__initStatic();class Ho extends To{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Co}],version:Co},super(e),e.sendClientReports&&Ja.document&&Ja.document.addEventListener("visibilitychange",(()=>{"hidden"===Ja.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=Po(e,t,n&&n.syntheticException||void 0,r);return Oa(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Ls(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const s=Mo(e,t,r&&r.syntheticException||void 0,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Ls(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){!function(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):"call"!==i&&"optionalCall"!==i||(n=s(((...e)=>n.call(t,...e))),t=void 0)}}([this.getIntegrationById(jo),"optionalAccess",e=>e.addSentryBreadcrumb,"optionalCall",t=>t(e)]),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log("Sending outcomes:",e);const t=xo(this._dsn,this._options),n=(r=e,ca((i=this._options.tunnel&&Us(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:(0,La.yW)(),discarded_events:r}]]));var r,i;try{"[object Navigator]"===Object.prototype.toString.call(Ja&&Ja.navigator)&&"function"==typeof Ja.navigator.sendBeacon&&!this._options.transportOptions?Ja.navigator.sendBeacon.bind(Ja.navigator)(t,pa(n)):this._sendEnvelope(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.error(e)}}}const Wo="?";function zo(e,t,n,r){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Yo=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ko=/\((\S*)(?::(\d+))(?::(\d+))\)/,Jo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Xo=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Zo=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Qo=ra([30,e=>{const t=Yo.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Ko.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=el(t[1]||Wo,t[2]);return zo(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Jo.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Xo.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Wo;return[n,e]=el(n,e),zo(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Zo.exec(e);return t?zo(t[2],t[1]||Wo,+t[3],t[4]?+t[4]:void 0):void 0}]),el=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Wo,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},tl=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class nl{static __initStatic(){this.id="TryCatch"}__init(){this.name=nl.id}constructor(e){nl.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&zs(Ja,"setTimeout",rl),this._options.setInterval&&zs(Ja,"setInterval",rl),this._options.requestAnimationFrame&&zs(Ja,"requestAnimationFrame",il),this._options.XMLHttpRequest&&"XMLHttpRequest"in Ja&&zs(XMLHttpRequest.prototype,"send",sl);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:tl).forEach(al)}}function rl(e){return function(...t){const n=t[0];return t[0]=to(n,{mechanism:{data:{function:sa(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function il(e){return function(t){return e.apply(this,[to(t,{mechanism:{data:{function:"requestAnimationFrame",handler:sa(e)},handled:!0,type:"instrument"}})])}}function sl(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&zs(n,e,(function(t){const n={mechanism:{data:{function:e,handler:sa(t)},handled:!0,type:"instrument"}},r=Js(t);return r&&(n.mechanism.data.handler=sa(r)),to(t,n)}))})),e.apply(this,t)}}function al(e){const t=Ja,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(zs(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=to(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:sa(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,to(r,{mechanism:{data:{function:"addEventListener",handler:sa(r),target:e},handled:!0,type:"instrument"}}),i])}})),zs(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}nl.__initStatic();class ol{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=ol.id}__init2(){this._installFunc={onerror:ll,onunhandledrejection:cl}}constructor(e){ol.prototype.__init.call(this),ol.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(t=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.log(`Global Handler attached: ${t}`),r(),this._installFunc[n]=void 0)}var t}}function ll(){mo("error",(e=>{const[t,n,r]=hl();if(!t.getIntegration(ol))return;const{msg:i,url:s,line:a,column:o,error:l}=e;if(Qa()||l&&l.__sentry_own_request__)return;const c=void 0===l&&As(i)?function(e,t,n,r){let i=ks(e)?e.message:e,s="Error";const a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(s=a[1],i=a[2]),ul({exception:{values:[{type:s,value:i}]}},t,n,r)}(i,s,a,o):ul(Po(n,l||i,void 0,r,!1),s,a,o);c.level="error",dl(t,l,c,"onerror")}))}function cl(){mo("unhandledrejection",(e=>{const[t,n,r]=hl();if(!t.getIntegration(ol))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(Qa()||i&&i.__sentry_own_request__)return!0;const s=Ns(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Po(n,i,void 0,r,!0);s.level="error",dl(t,i,s,"onunhandledrejection")}))}function ul(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},o=a.stacktrace=a.stacktrace||{},l=o.frames=o.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=As(t)&&t.length>0?t:function(){try{return Fs.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function dl(e,t,n,r){Oa(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function hl(){const e=qa(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}ol.__initStatic();class pl{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=pl.id}constructor(e={}){pl.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=qa().getClient();e&&ja(((t,n)=>{const r=qa().getIntegration(pl);return r?function(e,t,n,r,i){if(!(r.exception&&r.exception.values&&i&&Is(i.originalException,Error)))return r;const s=ml(e,n,i.originalException,t);return r.exception.values=[...s,...r.exception.values],r}(e.getOptions().stackParser,r._key,r._limit,t,n):t}))}}function ml(e,t,n,r,i=[]){if(!Is(n[r],Error)||i.length+1>=t)return i;const s=$o(e,n[r]);return ml(e,t,n[r],r,[s,...i])}pl.__initStatic();class fl{constructor(){fl.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=fl.id}setupOnce(e,t){const n=e=>{const n=t().getIntegration(fl);if(n){try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!yl(e,t)&&!!gl(e,t))))}(e,t)||!!function(e,t){const n=_l(t),r=_l(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!yl(e,t)&&!!gl(e,t)))}(e,t))}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function gl(e,t){let n=vl(e),r=vl(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function yl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function _l(e){return e.exception&&e.exception.values&&e.exception.values[0]}function vl(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}fl.__initStatic();class bl{constructor(){bl.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=bl.id}setupOnce(){ja((e=>{if(qa().getIntegration(bl)){if(!Ja.navigator&&!Ja.location&&!Ja.document)return e;const t=e.request&&e.request.url||Ja.location&&Ja.location.href,{referrer:n}=Ja.document||{},{userAgent:r}=Ja.navigator||{},i={...t&&{url:t},headers:{...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}}};return{...e,request:i}}return e}))}}function wl(e){return Ea(e,(function(t){return new Ms(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}bl.__initStatic();const El=[new io,new oo,new nl,new Bo,new ol,new pl,new fl,new bl];function Sl(e){e.startSession({ignoreDuration:!0}),e.captureSession()}let xl={};Ja.Sentry&&Ja.Sentry.Integrations&&(xl=Ja.Sentry.Integrations);const kl={...xl,...e,...t};var Tl=n(58339),Al=n(9e4),Nl=n(9375),Cl=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}l((r=r.apply(e,t||[])).next())}))};const $l=e=>e.replace(/(webpack_require__@)?(moz|chrome)-extension:\/\/[^/]+\//,"~/");function Ol(e,t){return no(e,((e,t)=>{var n;const r={status:200,headers:{get:e=>""}};return Tl.request.xhr(null!==(n=t.method)&&void 0!==n?n:"GET",{url:e,data:t.body}).catch((e=>(r.status=429,r))).then((e=>r))}))}var Il=n(58339),Rl=n(9e4);let Ll;!function(){Cl(this,void 0,void 0,(function*(){var e;(yield Tl.settings.getAsync("crashReport"))?Nl.isDomainMatching(window.location.href,"wakanim.tv")&&Nl.isFirefox()?Al.info("Crash reports disabled for wakanim.tv"):Nl.isDomainMatching(window.location.href,"simkl.com")&&Nl.isFirefox()?Al.info("Crash reports disabled for simkl.com"):(function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=El),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Ja.SENTRY_RELEASE&&Ja.SENTRY_RELEASE.id&&(e.release=Ja.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Qo,Array.isArray(n)?ra(...n):n),integrations:co(e),transport:e.transport||(ka()?no:wl)};var n;!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?wa.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=qa(),r=n.getScope();r&&r.update(t.initialScope);const i=new e(t);n.bindClient(i)}(Ho,t),e.autoSessionTracking&&function(){if(void 0===Ja.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&wa.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=qa();e.captureSession&&(Sl(e),mo("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&Sl(qa())})))}()}({dsn:"https://blood@shark.malsync.moe/1337",tunnel:"https://api.malsync.moe/shark",transport:Ol,release:`malsync@${Tl.storage.version()}`,integrations:[new kl.Breadcrumbs({console:!1,dom:!1}),new kl.GlobalHandlers({onerror:!1,onunhandledrejection:!1})],environment:"production",autoSessionTracking:!1,ignoreErrors:["SafeError"]}),e=e=>{e.addEventProcessor((e=>Cl(this,void 0,void 0,(function*(){return e.culprit&&(e.culprit=$l(e.culprit)),e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames&&(e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames.map((e=>(e.filename=$l(e.filename),e)))),e}))))},qa().configureScope(e)):Al.info("Crash reports disabled")}))}(),console.log("%cMAL-Sync","font-size: 40px; padding-bottom: 3px; color: white; text-shadow: -1px -1px #2e51a2, 1px -1px #2e51a2, -1px 1px #2e51a2, 1px 1px #2e51a2, 2px 2px #2e51a2, 3px 3px #2e51a2;",`Version: ${Il.storage.version()}`),Il.settings.init().then((()=>{!function(){if(Il.settings.get("userscriptModeButton"))throw"Userscript mode";!function(e){const t=Rl.m("TabMalUrl");chrome.runtime.onMessage.addListener((function(n,r,i){return Date.now()-Ll<3e3?"TabMalUrl"===n.action&&(t.info("miniMAL"),e.getMalUrl().then((t=>{const n={url:t,image:e.getImage(),title:e.getTitle()};t||"ANILIST"!==Il.settings.get("syncMode")||(n.url=e.url),i(n)})),!0):(t.log("Focus timeout"),!1)}))}(new ps(window.location.href)),vs(),$(window).blur((function(){Ll=Date.now()}))}()}))})()})();
//# sourceMappingURL=anilist-script.js.map