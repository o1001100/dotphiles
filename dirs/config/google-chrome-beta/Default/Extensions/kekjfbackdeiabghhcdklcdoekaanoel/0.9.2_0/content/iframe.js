/*! For license information please see iframe.js.LICENSE.txt */
(()=>{var t={72176:(t,e,n)=>{"use strict";function r(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(t,e){return t.require(e)}n.d(e,{l$:()=>o,KV:()=>r}),t=n.hmd(t)},21170:(t,e,n)=>{"use strict";n.d(e,{ph:()=>l,yW:()=>u});var r=n(72176),o=n(71235);t=n.hmd(t);const i=(0,o.Rf)(),s={nowSeconds:()=>Date.now()/1e3},a=(0,r.KV)()?function(){try{return(0,r.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=i;if(t&&t.now)return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),c=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=s.nowSeconds.bind(s),l=c.nowSeconds.bind(c);let d;(()=>{const{performance:t}=i;if(!t||!t.now)return void(d="none");const e=36e5,n=t.now(),r=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=o<e,a=t.timing&&t.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):e;s||c<e?o<=c?(d="timeOrigin",t.timeOrigin):d="navigationStart":d="dateNow"})()},71235:(t,e,n)=>{"use strict";function r(t){return t&&t.Math==Math?t:void 0}n.d(e,{Rf:()=>i,YO:()=>s,n2:()=>o});const o="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function i(){return o}function s(t,e,n){const r=n||o,i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}},2262:(t,e,n)=>{"use strict";n.d(e,{iH:()=>ot,qj:()=>J});var r=n(3577);const o=t=>{const e=new Set(t);return e.w=0,e.n=0,e},i=new WeakMap;let s;const a=Symbol(""),c=Symbol("");let u=!0;const l=[];function d(t,e,n){0}function p(t,e,n,s,u,l){const d=i.get(t);if(!d)return;let p=[];if("clear"===e)p=[...d.values()];else if("length"===n&&(0,r.kJ)(t)){const t=(0,r.He)(s);d.forEach(((e,n)=>{("length"===n||n>=t)&&p.push(e)}))}else switch(void 0!==n&&p.push(d.get(n)),e){case"add":(0,r.kJ)(t)?(0,r.S0)(n)&&p.push(d.get("length")):(p.push(d.get(a)),(0,r._N)(t)&&p.push(d.get(c)));break;case"delete":(0,r.kJ)(t)||(p.push(d.get(a)),(0,r._N)(t)&&p.push(d.get(c)));break;case"set":(0,r._N)(t)&&p.push(d.get(a))}if(1===p.length)p[0]&&f(p[0]);else{const t=[];for(const e of p)e&&t.push(...e);f(o(t))}}function f(t,e){const n=(0,r.kJ)(t)?t:[...t];for(const t of n)t.computed&&h(t);for(const t of n)t.computed||h(t)}function h(t,e){(t!==s||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const m=(0,r.fY)("__proto__,__v_isRef,__isVue"),_=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(r.yk)),g=E(),y=E(!0),v=b();function b(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=tt(this);for(let t=0,e=this.length;t<e;t++)d();const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(tt)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){l.push(u),u=!1;const n=tt(this)[e].apply(this,t);return function(){const t=l.pop();u=void 0===t||t}(),n}})),t}function E(t=!1,e=!1){return function(n,o,i){if("__v_isReactive"===o)return!t;if("__v_isReadonly"===o)return t;if("__v_isShallow"===o)return e;if("__v_raw"===o&&i===(t?e?V:q:e?W:z).get(n))return n;const s=(0,r.kJ)(n);if(!t&&s&&(0,r.RI)(v,o))return Reflect.get(v,o,i);const a=Reflect.get(n,o,i);return((0,r.yk)(o)?_.has(o):m(o))?a:(t||d(),e?a:rt(a)?s&&(0,r.S0)(o)?a:a.value:(0,r.Kn)(a)?t?K(a):J(a):a)}}function S(t=!1){return function(e,n,o,i){let s=e[n];if(Z(s)&&rt(s)&&!rt(o))return!1;if(!t&&(Q(o)||Z(o)||(s=tt(s),o=tt(o)),!(0,r.kJ)(e)&&rt(s)&&!rt(o)))return s.value=o,!0;const a=(0,r.kJ)(e)&&(0,r.S0)(n)?Number(n)<e.length:(0,r.RI)(e,n),c=Reflect.set(e,n,o,i);return e===tt(i)&&(a?(0,r.aU)(o,s)&&p(e,"set",n,o):p(e,"add",n,o)),c}}const w={get:g,set:S(),deleteProperty:function(t,e){const n=(0,r.RI)(t,e),o=(t[e],Reflect.deleteProperty(t,e));return o&&n&&p(t,"delete",e,void 0),o},has:function(t,e){const n=Reflect.has(t,e);return(0,r.yk)(e)&&_.has(e)||d(),n},ownKeys:function(t){return d(0,0,(0,r.kJ)(t)),Reflect.ownKeys(t)}},x={get:y,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},T=t=>t,k=t=>Reflect.getPrototypeOf(t);function R(t,e,n=!1,r=!1){const o=tt(t=t.__v_raw),i=tt(e);n||(e!==i&&d(),d());const{has:s}=k(o),a=r?T:n?nt:et;return s.call(o,e)?a(t.get(e)):s.call(o,i)?a(t.get(i)):void(t!==o&&t.get(e))}function N(t,e=!1){const n=this.__v_raw,r=(tt(n),tt(t));return e||(t!==r&&d(),d()),t===r?n.has(t):n.has(t)||n.has(r)}function D(t,e=!1){return t=t.__v_raw,!e&&d(tt(t)),Reflect.get(t,"size",t)}function O(t){t=tt(t);const e=tt(this);return k(e).has.call(e,t)||(e.add(t),p(e,"add",t,t)),this}function $(t,e){e=tt(e);const n=tt(this),{has:o,get:i}=k(n);let s=o.call(n,t);s||(t=tt(t),s=o.call(n,t));const a=i.call(n,t);return n.set(t,e),s?(0,r.aU)(e,a)&&p(n,"set",t,e):p(n,"add",t,e),this}function A(t){const e=tt(this),{has:n,get:r}=k(e);let o=n.call(e,t);o||(t=tt(t),o=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return o&&p(e,"delete",t,void 0),i}function C(){const t=tt(this),e=0!==t.size,n=t.clear();return e&&p(t,"clear",void 0,void 0),n}function U(t,e){return function(n,r){const o=this,i=o.__v_raw,s=(tt(i),e?T:t?nt:et);return!t&&d(),i.forEach(((t,e)=>n.call(r,s(t),s(e),o)))}}function I(t,e,n){return function(...o){const i=this.__v_raw,s=tt(i),a=(0,r._N)(s),c="entries"===t||t===Symbol.iterator&&a,u=i[t](...o),l=n?T:e?nt:et;return!e&&d(),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:c?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function M(t){return function(...e){return"delete"!==t&&this}}function L(){const t={get(t){return R(this,t)},get size(){return D(this)},has:N,add:O,set:$,delete:A,clear:C,forEach:U(!1,!1)},e={get(t){return R(this,t,!1,!0)},get size(){return D(this)},has:N,add:O,set:$,delete:A,clear:C,forEach:U(!1,!0)},n={get(t){return R(this,t,!0)},get size(){return D(this,!0)},has(t){return N.call(this,t,!0)},add:M("add"),set:M("set"),delete:M("delete"),clear:M("clear"),forEach:U(!0,!1)},r={get(t){return R(this,t,!0,!0)},get size(){return D(this,!0)},has(t){return N.call(this,t,!0)},add:M("add"),set:M("set"),delete:M("delete"),clear:M("clear"),forEach:U(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{t[o]=I(o,!1,!1),n[o]=I(o,!0,!1),e[o]=I(o,!1,!0),r[o]=I(o,!0,!0)})),[t,n,e,r]}const[B,P,j,F]=L();function Y(t,e){const n=e?t?F:j:t?P:B;return(e,o,i)=>"__v_isReactive"===o?!t:"__v_isReadonly"===o?t:"__v_raw"===o?e:Reflect.get((0,r.RI)(n,o)&&o in e?n:e,o,i)}const G={get:Y(!1,!1)},H={get:Y(!0,!1)},z=new WeakMap,W=new WeakMap,q=new WeakMap,V=new WeakMap;function J(t){return Z(t)?t:X(t,!1,w,G,z)}function K(t){return X(t,!0,x,H,q)}function X(t,e,n,o,i){if(!(0,r.Kn)(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=(c=t).__v_skip||!Object.isExtensible(c)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,r.W7)(c));var c;if(0===a)return t;const u=new Proxy(t,2===a?o:n);return i.set(t,u),u}function Z(t){return!(!t||!t.__v_isReadonly)}function Q(t){return!(!t||!t.__v_isShallow)}function tt(t){const e=t&&t.__v_raw;return e?tt(e):t}const et=t=>(0,r.Kn)(t)?J(t):t,nt=t=>(0,r.Kn)(t)?K(t):t;function rt(t){return!(!t||!0!==t.__v_isRef)}function ot(t){return n=!1,rt(e=t)?e:new it(e,n);var e,n}class it{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:tt(t),this._value=e?t:et(t)}get value(){return this._value}set value(t){const e=this.__v_isShallow||Q(t)||Z(t);t=e?t:tt(t),(0,r.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:et(t),function(t,e){(t=tt(t)).dep&&f(t.dep)}(this))}}},3577:(t,e,n)=>{"use strict";function r(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{He:()=>b,Kn:()=>l,RI:()=>s,S0:()=>h,W7:()=>f,_N:()=>c,aU:()=>v,fY:()=>r,kJ:()=>a,l7:()=>o,yk:()=>u});const o=Object.assign,i=Object.prototype.hasOwnProperty,s=(t,e)=>i.call(t,e),a=Array.isArray,c=t=>"[object Map]"===p(t),u=t=>"symbol"==typeof t,l=t=>null!==t&&"object"==typeof t,d=Object.prototype.toString,p=t=>d.call(t),f=t=>p(t).slice(8,-1),h=t=>"string"==typeof t&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,m=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},_=/-(\w)/g,g=(m((t=>t.replace(_,((t,e)=>e?e.toUpperCase():"")))),/\B([A-Z])/g),y=(m((t=>t.replace(g,"-$1").toLowerCase())),m((t=>t.charAt(0).toUpperCase()+t.slice(1)))),v=(m((t=>t?`on${y(t)}`:"")),(t,e)=>!Object.is(t,e)),b=t=>{const e=parseFloat(t);return isNaN(e)?t:e}},27856:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function r(t,o,i){return r=n()?Reflect.construct:function(t,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(t,o));return r&&e(i,r.prototype),i},r.apply(null,arguments)}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=Object.hasOwnProperty,a=Object.setPrototypeOf,c=Object.isFrozen,u=Object.getPrototypeOf,l=Object.getOwnPropertyDescriptor,d=Object.freeze,p=Object.seal,f=Object.create,h="undefined"!=typeof Reflect&&Reflect,m=h.apply,_=h.construct;m||(m=function(t,e,n){return t.apply(e,n)}),d||(d=function(t){return t}),p||(p=function(t){return t}),_||(_=function(t,e){return r(t,o(e))});var g,y=D(Array.prototype.forEach),v=D(Array.prototype.pop),b=D(Array.prototype.push),E=D(String.prototype.toLowerCase),S=D(String.prototype.toString),w=D(String.prototype.match),x=D(String.prototype.replace),T=D(String.prototype.indexOf),k=D(String.prototype.trim),R=D(RegExp.prototype.test),N=(g=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _(g,e)});function D(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return m(t,e,r)}}function O(t,e,n){n=n||E,a&&a(t,null);for(var r=e.length;r--;){var o=e[r];if("string"==typeof o){var i=n(o);i!==o&&(c(e)||(e[r]=i),o=i)}t[o]=!0}return t}function $(t){var e,n=f(null);for(e in t)!0===m(s,t,[e])&&(n[e]=t[e]);return n}function A(t,e){for(;null!==t;){var n=l(t,e);if(n){if(n.get)return D(n.get);if("function"==typeof n.value)return D(n.value)}t=u(t)}return function(t){return console.warn("fallback value for",t),null}}var C=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=d(["#text"]),j=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Y=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=p(/<%[\w\W]*|[\w\W]*%>/gm),W=p(/\${[\w\W]*}/gm),q=p(/^data-[\-\w.\u00B7-\uFFFF]/),V=p(/^aria-[\-\w]+$/),J=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=p(/^(?:\w+script|data):/i),X=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=p(/^html$/i),Q=function(){return"undefined"==typeof window?null:window},tt=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),r=function(t){return e(t)};if(r.version="2.4.3",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var i=n.document,s=n.document,a=n.DocumentFragment,c=n.HTMLTemplateElement,u=n.Node,l=n.Element,p=n.NodeFilter,f=n.NamedNodeMap,h=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,m=n.HTMLFormElement,_=n.DOMParser,g=n.trustedTypes,D=l.prototype,et=A(D,"cloneNode"),nt=A(D,"nextSibling"),rt=A(D,"childNodes"),ot=A(D,"parentNode");if("function"==typeof c){var it=s.createElement("template");it.content&&it.content.ownerDocument&&(s=it.content.ownerDocument)}var st=tt(g,i),at=st?st.createHTML(""):"",ct=s,ut=ct.implementation,lt=ct.createNodeIterator,dt=ct.createDocumentFragment,pt=ct.getElementsByTagName,ft=i.importNode,ht={};try{ht=$(s).documentMode?s.documentMode:{}}catch(t){}var mt={};r.isSupported="function"==typeof ot&&ut&&void 0!==ut.createHTMLDocument&&9!==ht;var _t,gt,yt=H,vt=z,bt=W,Et=q,St=V,wt=K,xt=X,Tt=J,kt=null,Rt=O({},[].concat(o(C),o(U),o(I),o(L),o(P))),Nt=null,Dt=O({},[].concat(o(j),o(F),o(Y),o(G))),Ot=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$t=null,At=null,Ct=!0,Ut=!0,It=!1,Mt=!1,Lt=!1,Bt=!1,Pt=!1,jt=!1,Ft=!1,Yt=!1,Gt=!0,Ht=!1,zt="user-content-",Wt=!0,qt=!1,Vt={},Jt=null,Kt=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xt=null,Zt=O({},["audio","video","img","source","image","track"]),Qt=null,te=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ee="http://www.w3.org/1998/Math/MathML",ne="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml",oe=re,ie=!1,se=null,ae=O({},[ee,ne,re],S),ce=["application/xhtml+xml","text/html"],ue="text/html",le=null,de=s.createElement("form"),pe=function(t){return t instanceof RegExp||t instanceof Function},fe=function(e){le&&le===e||(e&&"object"===t(e)||(e={}),e=$(e),_t=_t=-1===ce.indexOf(e.PARSER_MEDIA_TYPE)?ue:e.PARSER_MEDIA_TYPE,gt="application/xhtml+xml"===_t?S:E,kt="ALLOWED_TAGS"in e?O({},e.ALLOWED_TAGS,gt):Rt,Nt="ALLOWED_ATTR"in e?O({},e.ALLOWED_ATTR,gt):Dt,se="ALLOWED_NAMESPACES"in e?O({},e.ALLOWED_NAMESPACES,S):ae,Qt="ADD_URI_SAFE_ATTR"in e?O($(te),e.ADD_URI_SAFE_ATTR,gt):te,Xt="ADD_DATA_URI_TAGS"in e?O($(Zt),e.ADD_DATA_URI_TAGS,gt):Zt,Jt="FORBID_CONTENTS"in e?O({},e.FORBID_CONTENTS,gt):Kt,$t="FORBID_TAGS"in e?O({},e.FORBID_TAGS,gt):{},At="FORBID_ATTR"in e?O({},e.FORBID_ATTR,gt):{},Vt="USE_PROFILES"in e&&e.USE_PROFILES,Ct=!1!==e.ALLOW_ARIA_ATTR,Ut=!1!==e.ALLOW_DATA_ATTR,It=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Mt=e.SAFE_FOR_TEMPLATES||!1,Lt=e.WHOLE_DOCUMENT||!1,jt=e.RETURN_DOM||!1,Ft=e.RETURN_DOM_FRAGMENT||!1,Yt=e.RETURN_TRUSTED_TYPE||!1,Pt=e.FORCE_BODY||!1,Gt=!1!==e.SANITIZE_DOM,Ht=e.SANITIZE_NAMED_PROPS||!1,Wt=!1!==e.KEEP_CONTENT,qt=e.IN_PLACE||!1,Tt=e.ALLOWED_URI_REGEXP||Tt,oe=e.NAMESPACE||re,e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ot.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ot.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ot.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mt&&(Ut=!1),Ft&&(jt=!0),Vt&&(kt=O({},o(P)),Nt=[],!0===Vt.html&&(O(kt,C),O(Nt,j)),!0===Vt.svg&&(O(kt,U),O(Nt,F),O(Nt,G)),!0===Vt.svgFilters&&(O(kt,I),O(Nt,F),O(Nt,G)),!0===Vt.mathMl&&(O(kt,L),O(Nt,Y),O(Nt,G))),e.ADD_TAGS&&(kt===Rt&&(kt=$(kt)),O(kt,e.ADD_TAGS,gt)),e.ADD_ATTR&&(Nt===Dt&&(Nt=$(Nt)),O(Nt,e.ADD_ATTR,gt)),e.ADD_URI_SAFE_ATTR&&O(Qt,e.ADD_URI_SAFE_ATTR,gt),e.FORBID_CONTENTS&&(Jt===Kt&&(Jt=$(Jt)),O(Jt,e.FORBID_CONTENTS,gt)),Wt&&(kt["#text"]=!0),Lt&&O(kt,["html","head","body"]),kt.table&&(O(kt,["tbody"]),delete $t.tbody),d&&d(e),le=e)},he=O({},["mi","mo","mn","ms","mtext"]),me=O({},["foreignobject","desc","title","annotation-xml"]),_e=O({},["title","style","font","a","script"]),ge=O({},U);O(ge,I),O(ge,M);var ye=O({},L);O(ye,B);var ve=function(t){var e=ot(t);e&&e.tagName||(e={namespaceURI:oe,tagName:"template"});var n=E(t.tagName),r=E(e.tagName);return!!se[t.namespaceURI]&&(t.namespaceURI===ne?e.namespaceURI===re?"svg"===n:e.namespaceURI===ee?"svg"===n&&("annotation-xml"===r||he[r]):Boolean(ge[n]):t.namespaceURI===ee?e.namespaceURI===re?"math"===n:e.namespaceURI===ne?"math"===n&&me[r]:Boolean(ye[n]):t.namespaceURI===re?!(e.namespaceURI===ne&&!me[r])&&!(e.namespaceURI===ee&&!he[r])&&!ye[n]&&(_e[n]||!ge[n]):!("application/xhtml+xml"!==_t||!se[t.namespaceURI]))},be=function(t){b(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=at}catch(e){t.remove()}}},Ee=function(t,e){try{b(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){b(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Nt[t])if(jt||Ft)try{be(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},Se=function(t){var e,n;if(Pt)t="<remove></remove>"+t;else{var r=w(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===_t&&oe===re&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=st?st.createHTML(t):t;if(oe===re)try{e=(new _).parseFromString(o,_t)}catch(t){}if(!e||!e.documentElement){e=ut.createDocument(oe,"template",null);try{e.documentElement.innerHTML=ie?at:o}catch(t){}}var i=e.body||e.documentElement;return t&&n&&i.insertBefore(s.createTextNode(n),i.childNodes[0]||null),oe===re?pt.call(e,Lt?"html":"body")[0]:Lt?e.documentElement:i},we=function(t){return lt.call(t.ownerDocument||t,t,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT,null,!1)},xe=function(t){return t instanceof m&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof h)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},Te=function(e){return"object"===t(u)?e instanceof u:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ke=function(t,e,n){mt[t]&&y(mt[t],(function(t){t.call(r,e,n,le)}))},Re=function(t){var e;if(ke("beforeSanitizeElements",t,null),xe(t))return be(t),!0;if(R(/[\u0080-\uFFFF]/,t.nodeName))return be(t),!0;var n=gt(t.nodeName);if(ke("uponSanitizeElement",t,{tagName:n,allowedTags:kt}),t.hasChildNodes()&&!Te(t.firstElementChild)&&(!Te(t.content)||!Te(t.content.firstElementChild))&&R(/<[/\w]/g,t.innerHTML)&&R(/<[/\w]/g,t.textContent))return be(t),!0;if("select"===n&&R(/<template/i,t.innerHTML))return be(t),!0;if(!kt[n]||$t[n]){if(!$t[n]&&De(n)){if(Ot.tagNameCheck instanceof RegExp&&R(Ot.tagNameCheck,n))return!1;if(Ot.tagNameCheck instanceof Function&&Ot.tagNameCheck(n))return!1}if(Wt&&!Jt[n]){var o=ot(t)||t.parentNode,i=rt(t)||t.childNodes;if(i&&o)for(var s=i.length-1;s>=0;--s)o.insertBefore(et(i[s],!0),nt(t))}return be(t),!0}return t instanceof l&&!ve(t)?(be(t),!0):"noscript"!==n&&"noembed"!==n||!R(/<\/no(script|embed)/i,t.innerHTML)?(Mt&&3===t.nodeType&&(e=t.textContent,e=x(e,yt," "),e=x(e,vt," "),e=x(e,bt," "),t.textContent!==e&&(b(r.removed,{element:t.cloneNode()}),t.textContent=e)),ke("afterSanitizeElements",t,null),!1):(be(t),!0)},Ne=function(t,e,n){if(Gt&&("id"===e||"name"===e)&&(n in s||n in de))return!1;if(Ut&&!At[e]&&R(Et,e));else if(Ct&&R(St,e));else if(!Nt[e]||At[e]){if(!(De(t)&&(Ot.tagNameCheck instanceof RegExp&&R(Ot.tagNameCheck,t)||Ot.tagNameCheck instanceof Function&&Ot.tagNameCheck(t))&&(Ot.attributeNameCheck instanceof RegExp&&R(Ot.attributeNameCheck,e)||Ot.attributeNameCheck instanceof Function&&Ot.attributeNameCheck(e))||"is"===e&&Ot.allowCustomizedBuiltInElements&&(Ot.tagNameCheck instanceof RegExp&&R(Ot.tagNameCheck,n)||Ot.tagNameCheck instanceof Function&&Ot.tagNameCheck(n))))return!1}else if(Qt[e]);else if(R(Tt,x(n,xt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==T(n,"data:")||!Xt[t])if(It&&!R(wt,x(n,xt,"")));else if(n)return!1;return!0},De=function(t){return t.indexOf("-")>0},Oe=function(e){var n,o,i,s;ke("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Nt};for(s=a.length;s--;){var u=n=a[s],l=u.name,d=u.namespaceURI;if(o="value"===l?n.value:k(n.value),i=gt(l),c.attrName=i,c.attrValue=o,c.keepAttr=!0,c.forceKeepAttr=void 0,ke("uponSanitizeAttribute",e,c),o=c.attrValue,!c.forceKeepAttr&&(Ee(l,e),c.keepAttr))if(R(/\/>/i,o))Ee(l,e);else{Mt&&(o=x(o,yt," "),o=x(o,vt," "),o=x(o,bt," "));var p=gt(e.nodeName);if(Ne(p,i,o)){if(!Ht||"id"!==i&&"name"!==i||(Ee(l,e),o=zt+o),st&&"object"===t(g)&&"function"==typeof g.getAttributeType)if(d);else switch(g.getAttributeType(p,i)){case"TrustedHTML":o=st.createHTML(o);break;case"TrustedScriptURL":o=st.createScriptURL(o)}try{d?e.setAttributeNS(d,l,o):e.setAttribute(l,o),v(r.removed)}catch(t){}}}}ke("afterSanitizeAttributes",e,null)}},$e=function t(e){var n,r=we(e);for(ke("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ke("uponSanitizeShadowNode",n,null),Re(n)||(n.content instanceof a&&t(n.content),Oe(n));ke("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(e){var o,s,c,l,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ie=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Te(e)){if("function"!=typeof e.toString)throw N("toString is not a function");if("string"!=typeof(e=e.toString()))throw N("dirty is not a string, aborting")}if(!r.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(Te(e))return n.toStaticHTML(e.outerHTML)}return e}if(Bt||fe(p),r.removed=[],"string"==typeof e&&(qt=!1),qt){if(e.nodeName){var f=gt(e.nodeName);if(!kt[f]||$t[f])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)1===(s=(o=Se("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!jt&&!Mt&&!Lt&&-1===e.indexOf("<"))return st&&Yt?st.createHTML(e):e;if(!(o=Se(e)))return jt?null:Yt?at:""}o&&Pt&&be(o.firstChild);for(var h=we(qt?e:o);c=h.nextNode();)3===c.nodeType&&c===l||Re(c)||(c.content instanceof a&&$e(c.content),Oe(c),l=c);if(l=null,qt)return e;if(jt){if(Ft)for(d=dt.call(o.ownerDocument);o.firstChild;)d.appendChild(o.firstChild);else d=o;return Nt.shadowroot&&(d=ft.call(i,d,!0)),d}var m=Lt?o.outerHTML:o.innerHTML;return Lt&&kt["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&R(Z,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),Mt&&(m=x(m,yt," "),m=x(m,vt," "),m=x(m,bt," ")),st&&Yt?st.createHTML(m):m},r.setConfig=function(t){fe(t),Bt=!0},r.clearConfig=function(){le=null,Bt=!1},r.isValidAttribute=function(t,e,n){le||fe({});var r=gt(t),o=gt(e);return Ne(r,o,n)},r.addHook=function(t,e){"function"==typeof e&&(mt[t]=mt[t]||[],b(mt[t],e))},r.removeHook=function(t){if(mt[t])return v(mt[t])},r.removeHooks=function(t){mt[t]&&(mt[t]=[])},r.removeAllHooks=function(){mt={}},r}()}()},58339:(t,e,n)=>{"use strict";n.r(e),n.d(e,{request:()=>g,settings:()=>y,storage:()=>_,type:()=>v});var r=n(58339),o=n(9375),i=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const s={set(t,e){return i(this,void 0,void 0,(function*(){const n={};return n[t]=e,new Promise(((e,r)=>{a(t).set(n,(function(){chrome.runtime.lastError?r(chrome.runtime.lastError):e()}))}))}))},get(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{a(t).get(t,(function(r){chrome.runtime.lastError?n(chrome.runtime.lastError):e(r[t])}))}))}))},remove(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{a(t).remove(t,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):e()}))}))}))},list(t="local"){return i(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{"local"===t?chrome.storage.local.get(null,(function(t){e(t)})):chrome.storage.sync.get(null,(function(t){e(t)}))}))}))},addStyle(t){return i(this,void 0,void 0,(function*(){try{const e=document.createElement("style");e.textContent=t,(document.head||document.body||document.documentElement||document).appendChild(e)}catch(t){console.log(`Could not add css:${t}`)}}))},version:()=>chrome.runtime.getManifest().version,lang(t,e){if(r.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[t];if(void 0!==e)for(let t=0;t<e.length;t++)n=n.replace(`$${t+1}`,e[t]);return n}return chrome.i18n.getMessage(t,e)},assetUrl:t=>chrome.extension.getURL(`assets/${t}`),injectCssResource(t,e){alert("injectCssResource not supported in webextension")},injectjsResource(t,e){const n=document.createElement("script");n.src=chrome.extension.getURL(`vendor/${t}`),n.onload=function(){this.remove()},e.get(0).appendChild(n)},updateDom(t){const e=document.createElement("script");e.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",e.onload=function(){this.remove()},t.get(0).appendChild(e)},storageOnChanged(t){chrome.storage.onChanged.addListener(t)}};function a(t){return o.syncRegex.test(t)?chrome.storage.sync:chrome.storage.local}var c=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const u={xhr(t,e){return c(this,void 0,void 0,(function*(){if(void 0!==u.sendMessage)return u.sendMessage({name:"xhr",method:t,url:e}).then((t=>{if(429===t.status)throw"Rate limit Timeout";return t}));throw"Could not send xhr"}))},sendMessage(t){return c(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{chrome.runtime.sendMessage(t,(function(t){e(t)}))}))}))},notification(t){this.sendMessage({name:"notification",options:t})},database(t,e){return this.sendMessage({name:"database",options:{call:t,param:e}})}};var l=n(2262),d=n(58339),p=n(9e4),f=n(9375),h=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const m={options:(0,l.qj)({autoTrackingModeanime:"video",readerTracking:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["9anime","Crunchyroll","Gogoanime","Twistmoe","Mangadex","MangaNato","MangaFox","MangaSee","YugenAnime","Zoro","Funimation","Hulu","Netflix","Hidive","Vrv","VIZ","MangaPlus","MangaReader","marin","ComicK"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,bookMarksList:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},isInit:(0,l.iH)(!1),init(){return h(this,void 0,void 0,(function*(){const t=[];for(const e in this.options){const n=yield d.storage.get(`settings/${e}`);void 0!==n&&(this.options[e]=n,t[e]=/(token|refresh)/i.test(e)&&n?"********":n)}let e;return p.log("Settings",t),d.storage.storageOnChanged(((t,n)=>{if("sync"===n)for(const e in t){const n=t[e];/^settings\//i.test(e)&&(this.options[e.replace("settings/","")]=n.newValue,p.info(`Update ${e} option to ${n.newValue}`))}if("local"===n&&t.rateLimit)try{clearTimeout(e),t.rateLimit.newValue?(p.log("Rate limited"),$(".type-rate").length||f.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):e=setTimeout((()=>{p.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(t){p.error(t)}})),this.isInit.value=!0,this}))},get(t){if(!this.isInit.value)throw"Settings not initialized";return this.options[t]},set(t,e){if(!Object.prototype.hasOwnProperty.call(this.options,t)){const e=Error(`${t} is not a defined option`);throw p.error(e),e}return this.options[t]=e,d.storage.set(`settings/${t}`,e)},setDebounce(t,e){this.options[t]=e,clearTimeout(this.debounceArray[t]),this.debounceArray[t]=setTimeout((()=>{this.set(t,e),delete this.debounceArray[t]}),1e3)},getAsync(t){return h(this,void 0,void 0,(function*(){const e=yield d.storage.get(`settings/${t}`);return void 0===e&&void 0!==this.options[t]?this.options[t]:e}))}},_=s,g=u,y=m,v="webextension"},9e4:(t,e,n)=>{"use strict";n.r(e),n.d(e,{debug:()=>s,error:()=>o,info:()=>i,log:()=>r,m:()=>a});const r=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),o=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),i=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),s=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),a=(t,e="",n=[])=>{let r="white";e||(e=function(t){if(!t)return"#ffffff";t=String(t);let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);let n="#";for(let t=0;t<3;t++)n+=`00${(e>>8*t&255).toString(16)}`.substr(-2);return n}(t)),"#"===e[0]&&(r=parseInt(e.replace("#",""),16)>8388607.5?"#000":"#fff");const o=`background-color: ${e}; color: ${r}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:t,style:o});const i={m:(t,e="")=>a(t,e,[...n])},s=n.reduce(((t,e)=>`${t}%c${e.name}`),""),c=n.map((t=>t.style));return i.log=Function.prototype.bind.call(console.log,console,`%cM ${s}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...c),i.error=Function.prototype.bind.call(console.error,console,`%cM ${s}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...c),i.info=Function.prototype.bind.call(console.info,console,`%cM ${s}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...c),i.debug=Function.prototype.bind.call(console.debug,console,`%cM ${s}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...c),i}},9375:(t,e,n)=>{"use strict";n.r(e),n.d(e,{absoluteLink:()=>E,canHideTabs:()=>Y,changeDetect:()=>T,checkDoubleExecution:()=>D,clearCache:()=>st,elementInViewport:()=>Z,episode:()=>_,favicon:()=>f,flashConfirm:()=>V,flashm:()=>q,fullUrlChangeDetect:()=>x,generateUniqueID:()=>p,getAsyncWaitUntilTrue:()=>R,getBaseText:()=>d,getContinueWaching:()=>M,getEntrySettings:()=>B,getResumeWaching:()=>U,getStatusText:()=>H,getTooltip:()=>j,getUrlFromTags:()=>O,getselect:()=>b,handleMalImages:()=>P,htmlDecode:()=>nt,isDomainMatching:()=>ct,isFirefox:()=>rt,lazyload:()=>X,makeDomainCompatible:()=>it,notifications:()=>z,pageUrl:()=>tt,parseHtml:()=>S,planTo:()=>m,rateLimitExclude:()=>y,returnYYYYMMDD:()=>et,setContinueWaching:()=>I,setEntrySettings:()=>L,setResumeWaching:()=>C,setUrlInTags:()=>A,sortAlphabetically:()=>at,status:()=>v,statusTag:()=>G,syncRegex:()=>g,timeCache:()=>W,timeDiffToText:()=>F,upperCaseFirstLetter:()=>ut,urlChangeDetect:()=>w,urlParam:()=>l,urlPart:()=>c,urlStrip:()=>u,wait:()=>Q,waitForPageToBeVisible:()=>ot,waitUntilTrue:()=>k,watching:()=>h});var r=n(19947),o=n(58339),i=n(9e4),s=n(9375),a=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function c(t,e){if(!t)return"";const n=t.split("/");return n[e]?n[e].replace(/[#?].*/,""):""}function u(t){return t.replace(/[#?].*/,"")}function l(t,e){const n=new RegExp(`[?&]${e}=([^&#]*)`).exec(t);return null===n?null:decodeURI(n[1])||0}function d(t){let e=t.text();return t.children().each((function(){e=e.replace(r.$(this).text(),"")})),e}function p(t=10){const e=new Uint32Array(t);return window.crypto.getRandomValues(e),Array.from(e,(t=>t.toString(16))).join("")}function f(t){if(!t)return"";const e=t.match(/^(https?:\/\/)?[^/]+/);return e&&(t=e[0]),`https://favicon.malsync.moe/?domain=${t}`}function h(t){return"manga"===t?"Reading":"Watching"}function m(t){return"manga"===t?"Plan to Read":"Plan to Watch"}function _(t){return"manga"===t?o.storage.lang("UI_Chapter"):o.storage.lang("UI_Episode")}const g=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,y=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var v;function b(t,e){let n=t.split(`name="${e}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let t=0;t<n.length;++t)if(n[t].indexOf('selected="selected"')>-1)return n[t].split('value="')[1].split('"')[0]}return""}function E(t,e){return void 0===t||t.startsWith("http")||("/"!==t.charAt(0)&&(t=`/${t}`),t=e+t),t}function S(t){return(new DOMParser).parseFromString(`<!doctype html><body>${t}`,"text/html").body.textContent}function w(t){let e=window.location.href;return setInterval((function(){e!==window.location.href&&(e=window.location.href,t())}),100)}function x(t,e=!1){let n="";const r=setInterval((function(){const r=e?u(window.location.href):window.location.href;n!==r&&(n=r,t())}),100);return Number(r)}function T(t,e,n=!1){let r=e();const o=setInterval((function(){const n=e();void 0!==n&&r!==n&&(r=e(),t())}),500);return n&&t(),Number(o)}function k(t,e,n=100){const r=setInterval((function(){t()&&(clearInterval(r),e())}),n);return r}function R(t,e=100){let n,r;const o=()=>{clearTimeout(n),r&&r("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(o(),new Promise(((o,i)=>{r=i,n=k(t,(()=>o()),e)}))),reset:o}}!function(t){t[t.watching=1]="watching",t[t.completed=2]="completed",t[t.onhold=3]="onhold",t[t.dropped=4]="dropped",t[t.planToWatch=6]="planToWatch"}(v||(v={}));const N=Math.random();function D(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(t){$(this).text()!==N.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(r.html(`<div class="mal-sync-double-detect" style="display: none;">${N.toString()}</div>`))}function O(t){return/malSync::[\d\D]+::/.test(t)?e(t.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(t)?e(t.split("last::")[1].split("::")[0]):void 0;function e(t){try{return atob(t)}catch(e){return t}}}function A(t,e){if(""===t)return e.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!o.settings.get("malTags"))return e;const n=`malSync::${btoa(t)}::`;return/(last|malSync)::[\d\D]+::/.test(e)?e.replace(/(last|malSync)::[^^]*?::/,n):`${e},${n}`}function C(t,e,n,r){return a(this,void 0,void 0,(function*(){return o.storage.set(`resume/${n}/${r}`,{url:t,ep:e})}))}function U(t,e){return a(this,void 0,void 0,(function*(){if(o.settings.get("malResume"))return o.storage.get(`resume/${t}/${e}`)}))}function I(t,e,n,r){return a(this,void 0,void 0,(function*(){return o.storage.set(`continue/${n}/${r}`,{url:t,ep:e})}))}function M(t,e){return a(this,void 0,void 0,(function*(){if(o.settings.get("malContinue"))return o.storage.get(`continue/${t}/${e}`)}))}function L(t,e,n,r=""){return a(this,void 0,void 0,(function*(){const i={};if(n){for(const t in n)switch(t){case"u":case"p":i[t]=n[t]}o.settings.get("malTags")?r=A(JSON.stringify(i),r):yield o.storage.set(`tagSettings/${t}/${e}`,JSON.stringify(i))}return Object.values(i).find((t=>Boolean(t)))||(r=A("",r),o.settings.get("malTags")||(yield o.storage.remove(`tagSettings/${t}/${e}`))),r}))}function B(t,e,n=""){return a(this,void 0,void 0,(function*(){const r={u:null,c:null,r:null,p:""};if(o.settings.get("malTags")){const t=O(n);if(t)if("{"===t[0])try{const e=JSON.parse(t);for(const t in r)e[t]&&(r[t]=e[t])}catch(t){i.error(t)}else r.u=t}else{let n=yield o.storage.get(`tagSettings/${t}/${e}`);if(n){n=JSON.parse(n);for(const t in r)n[t]&&(r[t]=n[t])}}const s=yield M(t,e);s&&(r.c=s);const a=yield U(t,e);return a&&(r.r=a),o.settings.get("usedPage")||(r.u=null),r}))}function P(t){return-1!==t.indexOf("questionmark")?o.storage.assetUrl("questionmark.gif"):t}function j(t,e="",n="top"){const r=Math.floor(1e3*Math.random()+1);return`<div id="tt${r}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${e}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${r}">${t}</div>`}function F(t){let e="";t/=1e3;const n=Math.floor(t/31536e3);t-=31536e3*n,n&&(e+=`${n}y `);const r=Math.floor(t/86400);t-=86400*r,r&&(e+=`${r}d `);const o=Math.floor(t/3600)%24;t-=3600*o,o&&r<2&&(e+=`${o}h `);const i=Math.floor(t/60)%60;return t-=60*i,i&&!r&&o<3&&(e+=`${i}min `),e}function Y(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function G(t,e,n){const r={anime:{1:{class:"watching",text:"CW",title:o.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:o.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:o.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:o.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:o.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:o.storage.lang(`UI_Status_Rewatching_${e}`)}},manga:{1:{class:"reading",text:"CR",title:o.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:o.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:o.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:o.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:o.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:o.storage.lang(`UI_Status_Rewatching_${e}`)}}};if($.each([1,2,3,4,6,23],(function(t,e){r.anime[r.anime[e].title]=r.anime[e],r.manga[r.manga[e].title]=r.manga[e]})),t&&r[e][t]){const o=r[e][t];return` <a href="https://myanimelist.net/ownlist/${e}/${n}/edit?hideLayout=1" title="${o.title}" class="Lightbox_AddEdit button_edit ${o.class}">${o.text}</a>`}return!1}function H(t,e){switch(e){case 1:return o.storage.lang(`UI_Status_watching_${t}`);case 2:return o.storage.lang("UI_Status_Completed");case 3:return o.storage.lang("UI_Status_OnHold");case 4:return o.storage.lang("UI_Status_Dropped");case 6:return o.storage.lang(`UI_Status_planTo_${t}`);case 7:return o.storage.lang("UI_Status_All");case 23:return o.storage.lang(`UI_Status_Rewatching_${t}`);default:return""}}function z(t,e,n,r=""){const s={type:"basic",title:e,message:n,iconUrl:r};i.log("Notification",t,s),o.storage.get("notificationHistory").then((e=>{void 0===e&&(e=[]),"object"==typeof e&&(e.length>=10&&e.shift(),e.push({url:t,title:s.title,message:s.message,iconUrl:s.iconUrl,timestamp:Date.now()}),o.storage.set("notificationHistory",e))}));try{return chrome.notifications.create(t,s)}catch(t){i.error(t)}}function W(t,e,n){return a(this,void 0,void 0,(function*(){const r=yield o.storage.get(t);if("object"==typeof r&&(new Date).getTime()<r.timestamp)return r.data;const i=yield e();return o.storage.set(t,{data:i,timestamp:(new Date).getTime()+n}).then((()=>i))}))}function q(t,e){r.$("#flash-div-top").length||function(){o.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let t="";o.settings.get("floatButtonStealth")&&(t="mini-stealth"),r.$("body").after(r.html(`<div id="flash-div-top" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" class="${t}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),i.log("[Flash] Message:",t);let n="#323232";void 0!==e&&void 0!==e.error&&e.error&&(n="#3e0808");let s="#flash-div-bottom";void 0!==e&&void 0!==e.position&&e.position&&(s=`#flash-div-${e.position}`);let a="flash";if(void 0!==e&&void 0!==e.type&&e.type){const t=`type-${e.type}`;r.$(`${s} .${t}, #flashinfo-div .${t}`).removeClass(t).fadeOut({duration:1e3,queue:!1,complete(){r.$(this).remove()}}),a+=` ${t}`}let c,u=`<div class="${a}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${t}        </div>      </div>`;return void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?(a+=" flashinfo",u=`<div class="${a}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${t}</div></div></div>`,r.$("#flashinfo-div").addClass("hover"),c=r.$(r.html(u)).appendTo("#flashinfo-div"),void 0!==e&&void 0!==e.minimized&&e.minimized&&c.css("max-height","8px")):c=r.$(r.html(u)).appendTo(s),void 0!==e&&void 0!==e.permanent&&e.permanent?c.slideDown(800):void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?c.slideDown(800).delay(4e3).queue((function(){r.$("#flashinfo-div").removeClass("hover"),c.css("max-height","8px")})):c.slideDown(800).delay(4e3).slideUp(800,(()=>{r.$(this).remove()})),c}function V(t,e,n=(()=>{}),i=(()=>{}),s=!1){return a(this,void 0,void 0,(function*(){return new Promise((function(a,c){let u=o.storage.lang("Ok"),l=o.storage.lang("Cancel");s&&(u=o.storage.lang("Yes"),l=o.storage.lang("No"));const d=q(t=`<div style="text-align: center;">${t}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${u}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${l}</button></div>`,{permanent:!0,position:"top",type:e});d.find(".Yes").click((function(t){a(!0),r.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){r.$(this).remove()})),n()})),d.find(".Cancel").click((function(t){a(!1),r.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){r.$(this).remove()})),i()}))}))}))}let J=!1,K=[];function X(t,e=".mdl-layout__content"){function n(t,e){if(!r.$(t).is(":visible"))return!1;if(r.$(t).hasClass("lazyBack"))r.$(t).css("background-image",`url(${t.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,r=t.getAttribute("data-src");n.onload=function(){t.parent?t.parent.replaceChild(n,t):t.src=r,e&&e()},n.src=r}}for(let t=0;t<K.length;t++)$(K[t]).addClass("init");K=[];const o=t.find("img.lazy.init, .lazyBack.init"),i=function(){for(let t=0;t<K.length;t++)s.elementInViewport(K[t],600)&&n(K[t],(function(){K.splice(t,t)})),$(K[t]).length||K.splice(t,t)};for(let t=0;t<o.length;t++)K.push(o[t]),$(o[t]).removeClass("init");i(),J||(J=!0,t.find(e).scroll((function(){i()})))}function Z(t,e=0){const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-e<=(window.innerHeight||document.documentElement.clientHeight)}function Q(t){return new Promise((e=>{setTimeout(e,t)}))}function tt(t,e,n){switch(t){case"mal":return`https://myanimelist.net/${e}/${n}`;case"anilist":return`https://anilist.co/${e}/${n}`;case"kitsu":return`https://kitsu.io/${e}/${n}`;case"simkl":return`https://simkl.com/${e}/${n}`;default:throw`${t} not a valid page`}}function et(t=0){const e=new Date;e.setDate(e.getDate()+t);const n=e.getMonth()<9?`0${e.getMonth()+1}`:e.getMonth()+1,r=e.getDate()<10?`0${e.getDate()}`:e.getDate();return`${e.getFullYear()}-${n}-${r}`}function nt(t){return $("<textarea/>").html(r.html(t)).text()}function rt(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function ot(){const t=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(t())return Promise.resolve();i.log("Page in background");const{asyncWaitUntilTrue:e}=R((()=>t()));return e().then((()=>{i.log("Page is visible")}))}function it(t){return t.split("/").length<4&&(t+="/"),t.replace(/\?.*/,"?")}function st(){return a(this,void 0,void 0,(function*(){const t=yield o.storage.list();let e=0;r.$.each(t,(function(t,n){s.syncRegex.test(String(t))||/(^tagSettings\/.*)/.test(String(t))||(o.storage.remove(String(t)),e++)})),s.flashm(`Cache Cleared [${e}]`)}))}function at(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}function ct(t,e){const n=new URL(t),{host:r}=n;return r===e||r.endsWith(`.${e}`)}function ut(t){return!t||t.length<2?t:t.charAt(0).toUpperCase()+t.slice(1)}},19947:(t,e,n)=>{"use strict";n.r(e),n.d(e,{$:()=>o,html:()=>i});var r=n(27856);const o=jQuery;function i(t){return r.sanitize(t,{SAFE_FOR_JQUERY:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};n.r(t),n.d(t,{FunctionToString:()=>Qt,InboundFilters:()=>Kt});var e={};n.r(e),n.d(e,{Breadcrumbs:()=>$e,Dedupe:()=>an,GlobalHandlers:()=>Ze,HttpContext:()=>pn,LinkedErrors:()=>on,TryCatch:()=>qe});var r=n(9e4),o=n(58339),i=n(19947);let s;const a=r.m("Player");let c="";function u(t,e){const n=e.currentSrc;t.current>1&&c!==n&&(c=n,a.log("New player detected",e.currentSrc),function(t){var e,n,i,s;e=this,n=void 0,s=function*(){if(yield o.settings.getAsync("autofull"))if(window.fullScreen||window.innerWidth===window.screen.width&&window.innerHeight===window.screen.height)r.info("Browser already in fullscreen");else{let e=t;const n=["player","vstr","vplayer","mgvideo","myVideo","b-video-wrapper","vilos"],i=["AT-player","plyr","AkiraPlayer","video-js"];let s=!1;for(const a in n){const c=document.getElementById(n[a]);if(null!==c){s=!0,e=c;break}}for(const u in i){const l=document.getElementsByClassName(i[u]).item(0);if(null!==l){s=!0,e=l;break}}if(!s){const d=e.offsetHeight,p=e.offsetWidth;for(;e.parentElement&&d===e.parentElement.offsetHeight&&p===e.parentElement.offsetWidth;)e=e.parentElement,s=!0}if(!s&&!t.getAttribute("controls")){function f(){(document.webkitIsFullScreen||document.mozFullScreen||null!==document.msFullscreenElement)&&t.removeAttribute("controls","controls")}document.addEventListener&&(document.addEventListener("fullscreenchange",f,!1),document.addEventListener("mozfullscreenchange",f,!1),document.addEventListener("MSFullscreenChange",f,!1),document.addEventListener("webkitfullscreenchange",f,!1)),t.setAttribute("controls","controls")}e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}},new((i=void 0)||(i=Promise))((function(t,r){function o(t){try{c(s.next(t))}catch(t){r(t)}}function a(t){try{c(s.throw(t))}catch(t){r(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,a)}c((s=s.apply(e,n||[])).next())}))}(e))}let l,d=!1;const p=["introSkipFwd","introSkipBwd","nextEpShort","correctionShort","syncShort"];class f extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}const h=Object.prototype.toString;function m(t){switch(h.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return x(t,Error)}}function _(t,e){return h.call(t)===`[object ${e}]`}function g(t){return _(t,"ErrorEvent")}function y(t){return _(t,"DOMError")}function v(t){return _(t,"String")}function b(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function E(t){return _(t,"Object")}function S(t){return"undefined"!=typeof Event&&x(t,Event)}function w(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function x(t,e){try{return t instanceof e}catch(t){return!1}}var T;function k(t){return new N((e=>{e(t)}))}function R(t){return new N(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(T||(T={}));class N{__init(){this._state=T.PENDING}__init2(){this._handlers=[]}constructor(t){N.prototype.__init.call(this),N.prototype.__init2.call(this),N.prototype.__init3.call(this),N.prototype.__init4.call(this),N.prototype.__init5.call(this),N.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new N(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new N(((e,n)=>{let r,o;return this.then((e=>{o=!1,r=e,t&&t()}),(e=>{o=!0,r=e,t&&t()})).then((()=>{o?n(r):e(r)}))}))}__init3(){this._resolve=t=>{this._setResult(T.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(T.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{this._state===T.PENDING&&(w(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===T.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===T.RESOLVED&&t[1](this._value),this._state===T.REJECTED&&t[2](this._value),t[0]=!0)}))}}}const D=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function O(t,e=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function $(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}var A=n(71235);const C=(0,A.Rf)();function U(t,e={}){try{let n=t;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<r&&(u=I(n,l),!("html"===u||i>1&&s+o.length*c+u.length>=d));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(a)}catch(t){return"<unknown>"}}function I(t,e){const n=t,r=[];let o,i,s,a,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(u&&u.length)u.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&v(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["type","name","title","alt"];for(c=0;c<l.length;c++)s=l[c],a=n.getAttribute(s),a&&r.push(`[${s}="${a}"]`);return r.join("")}function M(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.substr(0,e)}...`}function L(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function B(t,e=[],n=!1){return e.some((e=>function(t,e,n=!1){return!!v(t)&&(_(e,"RegExp")?e.test(t):!!v(e)&&(n?t===e:t.includes(e)))}(t,e,n)))}function P(t,e,n){if(!(e in t))return;const r=t[e],o=n(r);if("function"==typeof o)try{F(o,r)}catch(t){}t[e]=o}function j(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function F(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,j(t,"__sentry_original__",e)}function Y(t){return t.__sentry_original__}function G(t){if(m(t))return{message:t.message,name:t.name,stack:t.stack,...z(t)};if(S(t)){const e={type:t.type,target:H(t.target),currentTarget:H(t.currentTarget),...z(t)};return"undefined"!=typeof CustomEvent&&x(t,CustomEvent)&&(e.detail=t.detail),e}return t}function H(t){try{return"undefined"!=typeof Element&&x(t,Element)?U(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function z(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function W(t,e=40){const n=Object.keys(G(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return M(n[0],e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:M(r,e)}return""}function q(t){return V(t,new Map)}function V(t,e){if(E(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.keys(t))void 0!==t[n]&&(r[n]=V(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(V(t,e))})),r}return t}function J(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0)=>{const r=[];for(const o of t.split("\n").slice(n)){const t=o.replace(/\(error: (.*)\)/,"$1");for(const n of e){const e=n(t);if(e){r.push(e);break}}}return function(t){if(!t.length)return[];let e=t;const n=e[0].function||"",r=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((t=>({...t,filename:t.filename||e[0].filename,function:t.function||"?"}))).reverse()}(r)}}const K="<anonymous>";function X(t){try{return t&&"function"==typeof t&&t.name||K}catch(t){return K}}function Z(t,e=1/0,n=1/0){try{return tt("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Q(t,e=3,n=102400){const r=Z(t,e);return o=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?Q(t,e-1,n):r;var o}function tt(t,e,r=1/0,o=1/0,i=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[s,a]=i;if(null===e||["number","boolean","string"].includes(typeof e)&&("number"!=typeof(c=e)||c==c))return e;var c;const u=function(t,e){try{return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n.g&&e===n.g?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":function(t){return E(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?`[Function: ${X(e)}]`:"symbol"==typeof e?`[${String(e)}]`:"bigint"==typeof e?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(t){return`**non-serializable** (${t})`}}(t,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;if(0===r)return u.replace("object ","");if(s(e))return"[Circular ~]";const l=e;if(l&&"function"==typeof l.toJSON)try{return tt("",l.toJSON(),r-1,o,i)}catch(t){}const d=Array.isArray(e)?[]:{};let p=0;const f=G(e);for(const t in f){if(!Object.prototype.hasOwnProperty.call(f,t))continue;if(p>=o){d[t]="[MaxProperties ~]";break}const e=f[t];d[t]=tt(t,e,r-1,o,i),p++}return a(e),d}function et(t,e=[]){return[t,e]}function nt(t,e){const[n,r]=t;return[n,[...r,e]]}function rt(t,e){t[1].forEach((t=>{const n=t[0].type;e(t,n)}))}function ot(t,e){return(e||new TextEncoder).encode(t)}function it(t,e){const[n,r]=t;let o=JSON.stringify(n);function i(t){"string"==typeof o?o="string"==typeof t?o+t:[ot(o,e),t]:o.push("string"==typeof t?ot(t,e):t)}for(const t of r){const[e,n]=t;if(i(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(Z(n))}i(t)}}return"string"==typeof o?o:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(o)}function st(t,e){const n="string"==typeof t.data?ot(t.data,e):t.data;return[q({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const at={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay_event",replay_recording:"replay_recording"};function ct(t){return at[t]}function ut(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}const lt=["debug","info","warn","error","log","assert","trace"];function dt(t){if(!("console"in A.n2))return t();const e=A.n2.console,n={};lt.forEach((t=>{const r=e[t]&&e[t].__sentry_original__;t in e&&r&&(n[t]=e[t],e[t]=r)}));try{return t()}finally{Object.keys(n).forEach((t=>{e[t]=n[t]}))}}function pt(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?lt.forEach((n=>{e[n]=(...e)=>{t&&dt((()=>{A.n2.console[n](`Sentry Logger [${n}]:`,...e)}))}})):lt.forEach((t=>{e[t]=()=>{}})),e}let ft;function ht(t,e,n=function(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return R(new f("Not adding Promise because buffer limit was reached."));const o=r();return-1===e.indexOf(o)&&e.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(t){return new N(((n,r)=>{let o=e.length;if(!o)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{k(t).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}(t.bufferSize||30)){let r={};return{send:function(o){const i=[];if(rt(o,((e,n)=>{const o=ct(n);if(function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,o)){const r=mt(e,n);t.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(e)})),0===i.length)return k();const s=et(o[0],i),a=e=>{rt(s,((n,r)=>{const o=mt(n,r);t.recordDroppedEvent(e,ct(r),o)}))};return n.add((()=>e({body:it(s,t.textEncoder)}).then((t=>{void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=function(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n]=t.split(":",2),i=parseInt(e,10),s=1e3*(isNaN(i)?60:i);if(n)for(const t of n.split(";"))o[t]=r+s;else o.all=r+s}else s?o.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(s,r):429===e&&(o.all=r+6e4);return o}(r,t)}),(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error("Failed while sending event:",t),a("network_error")})))).then((t=>t),(t=>{if(t instanceof f)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error("Skipped sending event because buffer is full."),a("queue_overflow"),k();throw t}))},flush:t=>n.drain(t)}}function mt(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}ft="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,A.YO)("logger",pt):pt();const _t=(0,A.Rf)();function gt(){if(!("fetch"in _t))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function yt(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function vt(){const t=A.n2,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function bt(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Et(t){const{message:e,event_id:n}=t;if(e)return e;const r=bt(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function St(t,e,n){const r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function wt(t,e){const n=bt(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}function xt(t){if(t&&t.__sentry_captured__)return!0;try{j(t,"__sentry_captured__",!0)}catch(t){}return!1}function Tt(t){return Array.isArray(t)?t:[t]}var kt=n(21170),Rt=n(72176);function Nt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,kt.ph)(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:vt()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}class Dt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new Dt;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&Nt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof Dt?e:this}return t instanceof Dt?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):E(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:(0,kt.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const e=this._span.transaction&&this._span.transaction.name;e&&(t.tags={transaction:e,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ot(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,n,r=0){return new N(((o,i)=>{const s=t[r];if(null===e||"function"!=typeof s)o(e);else{const a=s({...e},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.id&&null===a&&ft.log(`Event processor "${s.id}" dropped event`),w(a)?a.then((e=>this._notifyEventProcessors(t,e,n,r+1).then(o))).then(null,i):this._notifyEventProcessors(t,a,n,r+1).then(o).then(null,i)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Tt(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function Ot(){return(0,A.YO)("globalEventProcessors",(()=>[]))}function $t(t){Ot().push(t)}const At=100;class Ct{__init(){this._stack=[{}]}constructor(t,e=new Dt,n=4){this._version=n,Ct.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=Dt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:vt(),r=new Error("Sentry syntheticException");return this._withClient(((o,i)=>{o.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},i)})),n}captureMessage(t,e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:vt(),o=new Error(t);return this._withClient(((i,s)=>{i.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:r},s)})),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:vt();return"transaction"!==t.type&&(this._lastEventId=n),this._withClient(((r,o)=>{r.captureEvent(t,{...e,event_id:n},o)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:r}=this.getStackTop();if(!n||!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=At}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const s={timestamp:(0,kt.yW)(),...t},a=o?dt((()=>o(s,e))):s;null!==a&&n.addBreadcrumb(a,i)}setUser(t){const e=this.getScope();e&&e.setUser(t)}setTags(t){const e=this.getScope();e&&e.setTags(t)}setExtras(t){const e=this.getScope();e&&e.setExtras(t)}setTag(t,e){const n=this.getScope();n&&n.setTag(t,e)}setExtra(t,e){const n=this.getScope();n&&n.setExtra(t,e)}setContext(t,e){const n=this.getScope();n&&n.setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();e&&n&&t(e)}run(t){const e=It(this);try{t(this)}finally{It(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&function(t,e){let n={};"ok"===t.status&&(n={status:"exited"}),Nt(t,n)}(n),this._sendSessionUpdate(),e&&e.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:r,environment:o}=n&&n.getOptions()||{},{userAgent:i}=A.n2.navigator||{},s=function(t){const e=(0,kt.ph)(),n={sid:vt(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return q({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&Nt(n,t),n}({release:r,environment:o,...e&&{user:e.getUser()},...i&&{userAgent:i},...t});if(e){const t=e.getSession&&e.getSession();t&&"ok"===t.status&&Nt(t,{status:"exited"}),this.endSession(),e.setSession(s)}return s}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop();if(!t)return;const n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const n=Ut().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Ut(){return A.n2.__SENTRY__=A.n2.__SENTRY__||{extensions:{},hub:void 0},A.n2}function It(t){const e=Ut(),n=Bt(e);return Pt(e,t),n}function Mt(){const t=Ut();return Lt(t)&&!Bt(t).isOlderThan(4)||Pt(t,new Ct),(0,Rt.KV)()?function(t){try{const e=Ut().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return Bt(t);if(!Lt(n)||Bt(n).isOlderThan(4)){const e=Bt(t).getStackTop();Pt(n,new Ct(e.client,Dt.clone(e.scope)))}return Bt(n)}catch(e){return Bt(t)}}(t):Bt(t)}function Lt(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Bt(t){return(0,A.YO)("hub",(()=>new Ct),t)}function Pt(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}function jt(t,e){return Mt().captureException(t,{captureContext:e})}function Ft(t){Mt().withScope(t)}const Yt=A.n2;let Gt,Ht=0;function zt(){return Ht>0}function Wt(){Ht++,setTimeout((()=>{Ht--}))}function qt(t,e={},n){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if(Y(t))return t}catch(e){return t}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((t=>qt(t,e)));return t.apply(this,o)}catch(t){throw Wt(),Ft((n=>{n.addEventProcessor((t=>(e.mechanism&&(St(t,void 0,void 0),wt(t,e.mechanism)),t.extra={...t.extra,arguments:r},t))),jt(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}catch(t){}F(r,t),j(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>t.name})}catch(t){}return r}function Vt(t,e=function(){if(Gt)return Gt;if(yt(Yt.fetch))return Gt=Yt.fetch.bind(Yt);const t=Yt.document;let e=Yt.fetch;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return Gt=e.bind(Yt)}()){return ht(t,(function(n){const r={body:n.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n.body.length<=65536,...t.fetchOptions};try{return e(t.url,r).then((t=>({statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return Gt=void 0,R(t)}}))}const Jt=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Kt{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Kt.id}constructor(t={}){this._options=t,Kt.prototype.__init.call(this)}setupOnce(t,e){const n=t=>{const n=e();if(n){const e=n.getIntegration(Kt);if(e){const r=n.getClient(),o=r?r.getOptions():{},i=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...Jt],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(e._options,o);return function(t,e){return e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Et(t)}`),!0):function(t,e){return!(!e||!e.length)&&function(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error(`Cannot extract message for event ${Et(t)}`),[]}return[]}(t).some((t=>B(t,e)))}(t,e.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Et(t)}`),!0):function(t,e){if(!e||!e.length)return!1;const n=Xt(t);return!!n&&B(n,e)}(t,e.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Et(t)}.\nUrl: ${Xt(t)}`),!0):!function(t,e){if(!e||!e.length)return!0;const n=Xt(t);return!n||B(n,e)}(t,e.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Et(t)}.\nUrl: ${Xt(t)}`),!0)}(t,i)?null:t}}return t};n.id=this.name,t(n)}}function Xt(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error(`Cannot extract url for event ${Et(t)}`),null}}let Zt;Kt.__initStatic();class Qt{constructor(){Qt.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Qt.id}setupOnce(){Zt=Function.prototype.toString,Function.prototype.toString=function(...t){const e=Y(this)||this;return Zt.apply(e,t)}}}Qt.__initStatic();const te=[];function ee(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;e.forEach((t=>{t.isDefaultInstance=!0})),r=Array.isArray(n)?[...e,...n]:"function"==typeof n?Tt(n(e)):e;const o=function(t){const e={};return t.forEach((t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.values(e)}(r),i=o.findIndex((t=>"Debug"===t.name));if(-1!==i){const[t]=o.splice(i,1);o.push(t)}return o}const ne=(0,A.Rf)(),re={},oe={};function ie(t,e){re[t]=re[t]||[],re[t].push(e),function(t){if(!oe[t])switch(oe[t]=!0,t){case"console":"console"in ne&&lt.forEach((function(t){t in ne.console&&P(ne.console,t,(function(e){return function(...n){se("console",{args:n,level:t}),e&&e.apply(ne.console,n)}}))}));break;case"dom":!function(){if(!("document"in ne))return;const t=se.bind(null,"dom"),e=pe(t,!0);ne.document.addEventListener("click",e,!1),ne.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=ne[e]&&ne[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(P(n,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const r=pe(t);s.handler=r,e.call(this,n,r,o)}s.refCount++}catch(t){}return e.call(this,n,r,o)}})),P(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[e];i&&(i.refCount--,i.refCount<=0&&(t.call(this,e,i.handler,r),i.handler=void 0,delete o[e]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in ne))return;const t=XMLHttpRequest.prototype;P(t,"open",(function(t){return function(...e){const n=this,r=e[1],o=n.__sentry_xhr__={method:v(e[0])?e[0].toUpperCase():e[0],url:e[1]};v(r)&&"POST"===o.method&&r.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const i=function(){if(4===n.readyState){try{o.status_code=n.status}catch(t){}se("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?P(n,"onreadystatechange",(function(t){return function(...e){return i(),t.apply(n,e)}})):n.addEventListener("readystatechange",i),t.apply(n,e)}})),P(t,"send",(function(t){return function(...e){return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),se("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":(function(){if(!gt())return!1;if(yt(_t.fetch))return!0;let t=!1;const e=_t.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=yt(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t})()&&P(ne,"fetch",(function(t){return function(...e){const n={args:e,fetchData:{method:ae(e),url:ce(e)},startTimestamp:Date.now()};return se("fetch",{...n}),t.apply(ne,e).then((t=>(se("fetch",{...n,endTimestamp:Date.now(),response:t}),t)),(t=>{throw se("fetch",{...n,endTimestamp:Date.now(),error:t}),t}))}}));break;case"history":!function(){if(!function(){const t=_t.chrome,e=t&&t.app&&t.app.runtime,n="history"in _t&&!!_t.history.pushState&&!!_t.history.replaceState;return!e&&n}())return;const t=ne.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=ue,e=String(n);ue=e,se("history",{from:t,to:e})}return t.apply(this,e)}}ne.onpopstate=function(...e){const n=ne.location.href,r=ue;if(ue=n,se("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},P(ne.history,"pushState",e),P(ne.history,"replaceState",e)}();break;case"error":fe=ne.onerror,ne.onerror=function(t,e,n,r,o){return se("error",{column:r,error:o,line:n,msg:t,url:e}),!!fe&&fe.apply(this,arguments)};break;case"unhandledrejection":he=ne.onunhandledrejection,ne.onunhandledrejection=function(t){return se("unhandledrejection",t),!he||he.apply(this,arguments)};break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("unknown instrumentation type:",t)}}(t)}function se(t,e){if(t&&re[t])for(const n of re[t]||[])try{n(e)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${X(n)}\nError:`,e)}}function ae(t=[]){return"Request"in ne&&x(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function ce(t=[]){return"string"==typeof t[0]?t[0]:"Request"in ne&&x(t[0],Request)?t[0].url:String(t[0])}let ue,le,de;function pe(t,e=!1){return n=>{if(!n||de===n)return;if(function(t){if("keypress"!==t.type)return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===le||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(de,n))&&(t({event:n,name:r,global:e}),de=n),clearTimeout(le),le=ne.setTimeout((()=>{le=void 0}),1e3)}}let fe=null,he=null;function me(t,e={}){const n="string"==typeof e?e:e.tunnel,r="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${function(t){return`${function(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){return n={sentry_key:t.publicKey,sentry_version:"7",...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(n).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`)).join("&");var n}(t,r)}`}const _e="Not capturing exception because it's already been captured.";class ge{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(ge.prototype.__init.call(this),ge.prototype.__init2.call(this),ge.prototype.__init3.call(this),ge.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=function(t){const e="string"==typeof t?function(t){const e=D.exec(t);if(!e)throw new f(`Invalid Sentry Dsn: ${t}`);const[n,r,o="",i,s="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return $({host:i,pass:o,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(t):$(t);return function(t){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:e,projectId:n,protocol:r}=t;if(["protocol","publicKey","host","projectId"].forEach((e=>{if(!t[e])throw new f(`Invalid Sentry Dsn: ${e} missing`)})),!n.match(/^\d+$/))throw new f(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(t){return"http"===t||"https"===t}(r))throw new f(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(e&&isNaN(parseInt(e,10)))throw new f(`Invalid Sentry Dsn: Invalid port ${e}`)}(e),e}(t.dsn);const e=me(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("No DSN provided, client will not do anything.")}captureException(t,e,n){if(xt(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log(_e));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,n))).then((t=>{r=t}))),r}captureMessage(t,e,n,r){let o=n&&n.event_id;const i=b(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(i.then((t=>this._captureEvent(t,n,r))).then((t=>{o=t}))),o}captureEvent(t,e,n){if(e&&e.originalException&&xt(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log(_e));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((t=>{r=t}))),r}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Nt(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t)))):k(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,t)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(t){const e={};return t.forEach((t=>{e[t.name]=t,-1===te.indexOf(t.name)&&(t.setupOnce($t,Mt),te.push(t.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log(`Integration installed: ${t.name}`))})),e}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let n=function(t,e,n,r){const o=ut(n),i=t.type||"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const s=function(t,e,n,r){const o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&{dsn:O(r)},..."transaction"===t.type&&o&&{trace:q({...o})}}}(t,o,r,e);return delete t.sdkProcessingMetadata,et(s,[[{type:i},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=nt(n,st(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(t){if(this._dsn){const e=function(t,e,n,r){const o=ut(n);return et({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&{dsn:O(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(t,e){let n=!1,r=!1;const o=e.exception&&e.exception.values;if(o){r=!0;for(const t of o){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(Nt(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new N((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,n){return function(t,e,n,r){const{normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=t,s={...e,event_id:e.event_id||n.event_id||vt(),timestamp:e.timestamp||(0,kt.yW)()};!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=M(t.message,i));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=M(s.value,i));const a=t.request;a&&a.url&&(a.url=M(a.url,i))}(s,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(s,t.integrations.map((t=>t.name)));let a=r;n.captureContext&&(a=Dt.clone(a).update(n.captureContext));let c=k(s);if(a){if(a.getAttachments){const t=[...n.attachments||[],...a.getAttachments()];t.length&&(n.attachments=t)}c=a.applyToEvent(s,n)}return c.then((t=>"number"==typeof o&&o>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:Z(t.data,e,n)}})))},...t.user&&{user:Z(t.user,e,n)},...t.contexts&&{contexts:Z(t.contexts,e,n)},...t.extra&&{extra:Z(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Z(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map((t=>(t.data&&(t.data=Z(t.data,e,n)),t)))),r}(t,o,i):t))}(this.getOptions(),t,e,n)}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e=t;"log"===e.logLevel?ft.log(e.message):ft.warn(e)}}))}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:o}=r;if(!this._isEnabled())return R(new f("SDK not enabled, will not capture event.","log"));const i=ve(t),s=ye(t),a=t.type||"error",c=`before send for type \`${a}\``;return s&&"number"==typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error",t),R(new f(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))):this._prepareEvent(t,e,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",a,t),new f("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const o=function(t,e,n){const{beforeSend:r,beforeSendTransaction:o}=t;return ye(e)&&r?r(e,n):ve(e)&&o?o(e,n):e}(r,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(w(t))return t.then((t=>{if(!E(t)&&null!==t)throw new f(n);return t}),(t=>{throw new f(`${e} rejected with ${t}`)}));if(!E(t)&&null!==t)throw new f(n);return t}(o,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",t.type||"error",t),new f(`${c} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!i&&o&&this._updateSessionFromEvent(o,r);const s=r.transaction_info;if(i&&s&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...s,source:t,changes:[...s.changes,{source:t,timestamp:r.timestamp,propagations:s.propagations}]}}return this.sendEvent(r,e),r})).then(null,(t=>{if(t instanceof f)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new f(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error("Error while sending event:",t)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t[e]}}))}}function ye(t){return void 0===t.type}function ve(t){return"transaction"===t.type}const be="7.29.0";function Ee(t,e){const n=we(t,e),r={type:e&&e.name,value:Te(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Se(t,e){return{exception:{values:[Ee(t,e)]}}}function we(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(xe.test(t.message))return 1}return 0}(e);try{return t(n,r)}catch(t){}return[]}const xe=/Minified React error #\d+;/i;function Te(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function ke(t,e,n,r,o){let i;if(g(e)&&e.error)return Se(t,e.error);if(y(e)||_(e,"DOMException")){const o=e;if("stack"in e)i=Se(t,e);else{const e=o.name||(y(o)?"DOMError":"DOMException"),s=o.message?`${e}: ${o.message}`:e;i=Re(t,s,n,r),St(i,s)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return m(e)?Se(t,e):E(e)||S(e)?(i=function(t,e,n,r){const o=Mt().getClient(),i=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:S(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${W(e)}`}]},extra:{__serialized__:Q(e,i)}};if(n){const e=we(t,n);e.length&&(s.exception.values[0].stacktrace={frames:e})}return s}(t,e,n,o),wt(i,{synthetic:!0}),i):(i=Re(t,e,n,r),St(i,`${e}`,void 0),wt(i,{synthetic:!0}),i)}function Re(t,e,n,r){const o={message:e};if(r&&n){const r=we(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]})}return o}const Ne=["fatal","error","warning","log","info","debug"];function De(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}const Oe="Breadcrumbs";class $e{static __initStatic(){this.id=Oe}__init(){this.name=$e.id}constructor(t){$e.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){var t;this.options.console&&ie("console",Ae),this.options.dom&&ie("dom",(t=this.options.dom,function(e){let n,r="object"==typeof t?t.serializeAttribute:void 0,o="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof r&&(r=[r]);try{n=e.event.target?U(e.event.target,{keyAttrs:r,maxStringLength:o}):U(e.event,{keyAttrs:r,maxStringLength:o})}catch(t){n="<unknown>"}0!==n.length&&Mt().addBreadcrumb({category:`ui.${e.name}`,message:n},{event:e.event,name:e.name,global:e.global})})),this.options.xhr&&ie("xhr",Ce),this.options.fetch&&ie("fetch",Ue),this.options.history&&ie("history",Ie)}addSentryBreadcrumb(t){this.options.sentry&&Mt().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Et(t)},{event:t})}}function Ae(t){for(let e=0;e<t.args.length;e++)if("ref=Ref<"===t.args[e]){t.args[e+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:(n=t.level,"warn"===n?"warning":Ne.includes(n)?n:"log"),message:L(t.args," ")};var n;if("assert"===t.level){if(!1!==t.args[0])return;e.message=`Assertion failed: ${L(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1)}Mt().addBreadcrumb(e,{input:t.args,level:t.level})}function Ce(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:r,body:o}=t.xhr.__sentry_xhr__||{};Mt().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:r},type:"http"},{xhr:t.xhr,input:o})}}function Ue(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Mt().addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args}):Mt().addBreadcrumb({category:"fetch",data:{...t.fetchData,status_code:t.response.status},type:"http"},{input:t.args,response:t.response})))}function Ie(t){let e=t.from,n=t.to;const r=De(Yt.location.href);let o=De(e);const i=De(n);o.path||(o=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),Mt().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}$e.__initStatic();class Me extends ge{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:be}],version:be},super(t),t.sendClientReports&&Yt.document&&Yt.document.addEventListener("visibilitychange",(()=>{"hidden"===Yt.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return function(t,e,n,r){const o=ke(t,e,n&&n.syntheticException||void 0,r);return wt(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),k(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return function(t,e,n="info",r,o){const i=Re(t,e,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),k(i)}(this._options.stackParser,t,e,n,this._options.attachStacktrace)}sendEvent(t,e){!function(t){let e,n=t[0],r=1;for(;r<t.length;){const o=t[r],i=t[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(e=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...t)=>n.call(e,...t))),e=void 0)}}([this.getIntegrationById(Oe),"optionalAccess",t=>t.addSentryBreadcrumb,"optionalCall",e=>e(t)]),super.sendEvent(t,e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log("Sending outcomes:",t);const e=me(this._dsn,this._options),n=(r=t,et((o=this._options.tunnel&&O(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:(0,kt.yW)(),discarded_events:r}]]));var r,o;try{"[object Navigator]"===Object.prototype.toString.call(Yt&&Yt.navigator)&&"function"==typeof Yt.navigator.sendBeacon&&!this._options.transportOptions?Yt.navigator.sendBeacon.bind(Yt.navigator)(e,it(n)):this._sendEnvelope(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.error(t)}}}const Le="?";function Be(t,e,n,r){const o={filename:t,function:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Pe=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,je=/\((\S*)(?::(\d+))(?::(\d+))\)/,Fe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ye=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ge=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,He=J([30,t=>{const e=Pe.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=je.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,n]=ze(e[1]||Le,e[2]);return Be(n,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],[50,t=>{const e=Fe.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=Ye.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||Le;return[n,t]=ze(n,t),Be(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],[40,t=>{const e=Ge.exec(t);return e?Be(e[2],e[1]||Le,+e[3],e[4]?+e[4]:void 0):void 0}]),ze=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:Le,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},We=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class qe{static __initStatic(){this.id="TryCatch"}__init(){this.name=qe.id}constructor(t){qe.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&P(Yt,"setTimeout",Ve),this._options.setInterval&&P(Yt,"setInterval",Ve),this._options.requestAnimationFrame&&P(Yt,"requestAnimationFrame",Je),this._options.XMLHttpRequest&&"XMLHttpRequest"in Yt&&P(XMLHttpRequest.prototype,"send",Ke);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:We).forEach(Xe)}}function Ve(t){return function(...e){const n=e[0];return e[0]=qt(n,{mechanism:{data:{function:X(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function Je(t){return function(e){return t.apply(this,[qt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:X(t)},handled:!0,type:"instrument"}})])}}function Ke(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&P(n,t,(function(e){const n={mechanism:{data:{function:t,handler:X(e)},handled:!0,type:"instrument"}},r=Y(e);return r&&(n.mechanism.data.handler=X(r)),qt(e,n)}))})),t.apply(this,e)}}function Xe(t){const e=Yt,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(P(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=qt(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:X(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.apply(this,[n,qt(r,{mechanism:{data:{function:"addEventListener",handler:X(r),target:t},handled:!0,type:"instrument"}}),o])}})),P(n,"removeEventListener",(function(t){return function(e,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&t.call(this,e,n,r)}catch(t){}return t.call(this,e,o,r)}})))}qe.__initStatic();class Ze{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Ze.id}__init2(){this._installFunc={onerror:Qe,onunhandledrejection:tn}}constructor(t){Ze.prototype.__init.call(this),Ze.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const r=this._installFunc[n];r&&t[n]&&(e=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.log(`Global Handler attached: ${e}`),r(),this._installFunc[n]=void 0)}var e}}function Qe(){ie("error",(t=>{const[e,n,r]=rn();if(!e.getIntegration(Ze))return;const{msg:o,url:i,line:s,column:a,error:c}=t;if(zt()||c&&c.__sentry_own_request__)return;const u=void 0===c&&v(o)?function(t,e,n,r){let o=g(t)?t.message:t,i="Error";const s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return s&&(i=s[1],o=s[2]),en({exception:{values:[{type:i,value:o}]}},e,n,r)}(o,i,s,a):en(ke(n,c||o,void 0,r,!1),i,s,a);u.level="error",nn(e,c,u,"onerror")}))}function tn(){ie("unhandledrejection",(t=>{const[e,n,r]=rn();if(!e.getIntegration(Ze))return;let o=t;try{"reason"in t?o=t.reason:"detail"in t&&"reason"in t.detail&&(o=t.detail.reason)}catch(t){}if(zt()||o&&o.__sentry_own_request__)return!0;const i=b(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:ke(n,o,void 0,r,!0);i.level="error",nn(e,o,i,"onunhandledrejection")}))}function en(t,e,n,r){const o=t.exception=t.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=v(e)&&e.length>0?e:function(){try{return C.document.location.href}catch(t){return""}}();return 0===c.length&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),t}function nn(t,e,n,r){wt(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function rn(){const t=Mt(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}Ze.__initStatic();class on{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=on.id}constructor(t={}){on.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){const t=Mt().getClient();t&&$t(((e,n)=>{const r=Mt().getIntegration(on);return r?function(t,e,n,r,o){if(!(r.exception&&r.exception.values&&o&&x(o.originalException,Error)))return r;const i=sn(t,n,o.originalException,e);return r.exception.values=[...i,...r.exception.values],r}(t.getOptions().stackParser,r._key,r._limit,e,n):e}))}}function sn(t,e,n,r,o=[]){if(!x(n[r],Error)||o.length+1>=e)return o;const i=Ee(t,n[r]);return sn(t,e,n[r],r,[i,...o])}on.__initStatic();class an{constructor(){an.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=an.id}setupOnce(t,e){const n=t=>{const n=e().getIntegration(an);if(n){try{if(function(t,e){return!!e&&(!!function(t,e){const n=t.message,r=e.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!un(t,e)&&!!cn(t,e))))}(t,e)||!!function(t,e){const n=ln(e),r=ln(t);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!un(t,e)&&!!cn(t,e)))}(t,e))}(t,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return n._previousEvent=t}return n._previousEvent=t}return t};n.id=this.name,t(n)}}function cn(t,e){let n=dn(t),r=dn(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],o=n[t];if(e.filename!==o.filename||e.lineno!==o.lineno||e.colno!==o.colno||e.function!==o.function)return!1}return!0}function un(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function ln(t){return t.exception&&t.exception.values&&t.exception.values[0]}function dn(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}an.__initStatic();class pn{constructor(){pn.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=pn.id}setupOnce(){$t((t=>{if(Mt().getIntegration(pn)){if(!Yt.navigator&&!Yt.location&&!Yt.document)return t;const e=t.request&&t.request.url||Yt.location&&Yt.location.href,{referrer:n}=Yt.document||{},{userAgent:r}=Yt.navigator||{},o={...e&&{url:e},headers:{...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}}};return{...t,request:o}}return t}))}}function fn(t){return ht(t,(function(e){return new N(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",t.url);for(const e in t.headers)Object.prototype.hasOwnProperty.call(t.headers,e)&&o.setRequestHeader(e,t.headers[e]);o.send(e.body)}))}))}pn.__initStatic();const hn=[new Kt,new Qt,new qe,new $e,new Ze,new on,new an,new pn];function mn(t){t.startSession({ignoreDuration:!0}),t.captureSession()}let _n={};Yt.Sentry&&Yt.Sentry.Integrations&&(_n=Yt.Sentry.Integrations);const gn={..._n,...t,...e};var yn=n(58339),vn=n(9e4),bn=n(9375),En=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Sn=t=>t.replace(/(webpack_require__@)?(moz|chrome)-extension:\/\/[^/]+\//,"~/");function wn(t,e){return Vt(t,((t,e)=>{var n;const r={status:200,headers:{get:t=>""}};return yn.request.xhr(null!==(n=e.method)&&void 0!==n?n:"GET",{url:t,data:e.body}).catch((t=>(r.status=429,r))).then((t=>r))}))}var xn=n(9e4),Tn=n(58339);let kn;var Rn;function Nn(t){return e=this,n=void 0,o=function*(){if(void 0===kn)return void xn.error("[Iframe] No player Found");let e=parseInt(yield Tn.settings.getAsync("introSkip"));t||(e=0-e);const n=kn.currentTime+e;kn.duration&&kn.duration>15&&n>kn.duration-3?kn.currentTime=kn.duration-3:kn.currentTime=n},new((r=void 0)||(r=Promise))((function(t,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o}!function(){En(this,void 0,void 0,(function*(){var t;(yield yn.settings.getAsync("crashReport"))?bn.isDomainMatching(window.location.href,"wakanim.tv")&&bn.isFirefox()?vn.info("Crash reports disabled for wakanim.tv"):bn.isDomainMatching(window.location.href,"simkl.com")&&bn.isFirefox()?vn.info("Crash reports disabled for simkl.com"):(function(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=hn),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),Yt.SENTRY_RELEASE&&Yt.SENTRY_RELEASE.id&&(t.release=Yt.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(n=t.stackParser||He,Array.isArray(n)?J(...n):n),integrations:ee(t),transport:t.transport||(gt()?Vt:fn)};var n;!function(t,e){!0===e.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?ft.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=Mt(),r=n.getScope();r&&r.update(e.initialScope);const o=new t(e);n.bindClient(o)}(Me,e),t.autoSessionTracking&&function(){if(void 0===Yt.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&ft.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const t=Mt();t.captureSession&&(mn(t),ie("history",(({from:t,to:e})=>{void 0!==t&&t!==e&&mn(Mt())})))}()}({dsn:"https://blood@shark.malsync.moe/1337",tunnel:"https://api.malsync.moe/shark",transport:wn,release:`malsync@${yn.storage.version()}`,integrations:[new gn.Breadcrumbs({console:!1,dom:!1}),new gn.GlobalHandlers({onerror:!1,onunhandledrejection:!1})],environment:"production",autoSessionTracking:!1,ignoreErrors:["SafeError"]}),t=t=>{t.addEventProcessor((t=>En(this,void 0,void 0,(function*(){return t.culprit&&(t.culprit=Sn(t.culprit)),t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames&&(t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames.map((t=>(t.filename=Sn(t.filename),t)))),t}))))},Mt().configureScope(t)):vn.info("Crash reports disabled")}))}(),Rn=function(t,e){chrome.runtime.sendMessage({name:"videoTime",item:t}),kn=e},clearInterval(s),s=setInterval((function(){const t=document.getElementsByTagName("video");for(let e=0;e<t.length;e++){const n=t[e],{duration:r}=n,o=n.currentTime,{paused:i}=n;if(r&&r>60){const t={current:o,duration:r,paused:i};a.debug(window.location.href,t),Rn(t,n),u(t,n);break}}}),1e3),chrome.runtime.onMessage.addListener((function(t,e,n){if("videoTimeSet"===t.action){if(xn.log("[Iframe] Set Time",t),void 0===kn)return void xn.error("[Iframe] No player Found");if(void 0!==t.time)return kn.play(),void(kn.currentTime=t.time);void 0!==t.timeAdd&&(kn.play(),Nn(t.timeAdd))}else"content"===t.action&&"fullscreenNotification"===t.item.action&&function(t){if(o.settings.get("floatButtonStealth"))return;const e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;if(e){const n=i.$(i.html(`\n        <div style="\n          all: initial;\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          color: white;\n          display: none;\n          z-index: 20000;\n        ">\n          <div style="\n            background: rgba(50, 50, 50, 0.6);\n            color: white;\n            padding: 10px 15px 10px;\n            margin-left: auto;\n            margin-right: auto;\n            max-width: 60%;\n            display: table;\n            font-family: Helvetica,Arial,sans-serif;\n            text-align: center;\n          ">${t}</div>\n        </div>\n        `)).appendTo(i.$(e));n.slideDown(400).delay(2e3).slideUp(400,(()=>{n.remove()}))}}(t.item.text)})),Tn.settings.init().then((()=>{!function(t){l=t,d||function(){d=!0;let e={};function n(n){const o=(n=n||event).which||n.keyCode;e[o]="keydown"===n.type;for(let t=0;t<p.length;t++){const e=p[t];i(e)&&(n.target instanceof Node&&(/textarea|input|select/i.test(n.target.nodeName)||n.target instanceof Element&&n.target.shadowRoot)?r.info("Input field. Shortcut suppressed."):s(e))}function s(n){return e={},t({shortcut:n}),!1}}function i(t){const n=o.settings.get(t);if(!n.length)return!1;let r=!0;return n.forEach((function(t){e[t]||(r=!1)})),r&&Object.values(e).filter((t=>t)).length!==n.length&&(r=!1),r}document.addEventListener("keydown",n),document.addEventListener("keyup",n),window.addEventListener("focus",(function(){e={}}),!1)}()}((t=>{switch(xn.log("[iframe] Shortcut",t),t.shortcut){case"introSkipFwd":Nn(!0);break;case"introSkipBwd":Nn(!1);break;case"nextEpShort":chrome.runtime.sendMessage({name:"content",item:{action:"nextEpShort"}});break;case"correctionShort":chrome.runtime.sendMessage({name:"content",item:{action:"correctionShort"}});break;case"syncShort":chrome.runtime.sendMessage({name:"content",item:{action:"syncShort"}})}}))})),console.log("%cIframe","font-size: 20px; padding-bottom: 3px; color: white; text-shadow: -1px -1px #2e51a2, 1px -1px #2e51a2, -1px 1px #2e51a2, 1px 1px #2e51a2, 2px 2px #2e51a2, 3px 3px #2e51a2;",window.location.host)})()})();
//# sourceMappingURL=iframe.js.map