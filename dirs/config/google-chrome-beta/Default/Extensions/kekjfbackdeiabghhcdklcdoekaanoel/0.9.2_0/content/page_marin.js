/*! For license information please see page_marin.js.LICENSE.txt */
(()=>{var t={2262:(t,e,n)=>{"use strict";n.d(e,{iH:()=>rt,qj:()=>q});var o=n(3577);const r=t=>{const e=new Set(t);return e.w=0,e.n=0,e},i=new WeakMap;let a;const l=Symbol(""),s=Symbol("");let c=!0;const u=[];function d(t,e,n){0}function p(t,e,n,a,c,u){const d=i.get(t);if(!d)return;let p=[];if("clear"===e)p=[...d.values()];else if("length"===n&&(0,o.kJ)(t)){const t=(0,o.He)(a);d.forEach(((e,n)=>{("length"===n||n>=t)&&p.push(e)}))}else switch(void 0!==n&&p.push(d.get(n)),e){case"add":(0,o.kJ)(t)?(0,o.S0)(n)&&p.push(d.get("length")):(p.push(d.get(l)),(0,o._N)(t)&&p.push(d.get(s)));break;case"delete":(0,o.kJ)(t)||(p.push(d.get(l)),(0,o._N)(t)&&p.push(d.get(s)));break;case"set":(0,o._N)(t)&&p.push(d.get(l))}if(1===p.length)p[0]&&f(p[0]);else{const t=[];for(const e of p)e&&t.push(...e);f(r(t))}}function f(t,e){const n=(0,o.kJ)(t)?t:[...t];for(const t of n)t.computed&&m(t);for(const t of n)t.computed||m(t)}function m(t,e){(t!==a||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const g=(0,o.fY)("__proto__,__v_isRef,__isVue"),h=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(o.yk)),A=x(),y=x(!0),v=b();function b(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=tt(this);for(let t=0,e=this.length;t<e;t++)d();const o=n[e](...t);return-1===o||!1===o?n[e](...t.map(tt)):o}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){u.push(c),c=!1;const n=tt(this)[e].apply(this,t);return function(){const t=u.pop();c=void 0===t||t}(),n}})),t}function x(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_isShallow"===r)return e;if("__v_raw"===r&&i===(t?e?J:Y:e?V:G).get(n))return n;const a=(0,o.kJ)(n);if(!t&&a&&(0,o.RI)(v,r))return Reflect.get(v,r,i);const l=Reflect.get(n,r,i);return((0,o.yk)(r)?h.has(r):g(r))?l:(t||d(),e?l:ot(l)?a&&(0,o.S0)(r)?l:l.value:(0,o.Kn)(l)?t?K(l):q(l):l)}}function w(t=!1){return function(e,n,r,i){let a=e[n];if(Q(a)&&ot(a)&&!ot(r))return!1;if(!t&&(X(r)||Q(r)||(a=tt(a),r=tt(r)),!(0,o.kJ)(e)&&ot(a)&&!ot(r)))return a.value=r,!0;const l=(0,o.kJ)(e)&&(0,o.S0)(n)?Number(n)<e.length:(0,o.RI)(e,n),s=Reflect.set(e,n,r,i);return e===tt(i)&&(l?(0,o.aU)(r,a)&&p(e,"set",n,r):p(e,"add",n,r)),s}}const E={get:A,set:w(),deleteProperty:function(t,e){const n=(0,o.RI)(t,e),r=(t[e],Reflect.deleteProperty(t,e));return r&&n&&p(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return(0,o.yk)(e)&&h.has(e)||d(),n},ownKeys:function(t){return d(0,0,(0,o.kJ)(t)),Reflect.ownKeys(t)}},_={get:y,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},k=t=>t,C=t=>Reflect.getPrototypeOf(t);function S(t,e,n=!1,o=!1){const r=tt(t=t.__v_raw),i=tt(e);n||(e!==i&&d(),d());const{has:a}=C(r),l=o?k:n?nt:et;return a.call(r,e)?l(t.get(e)):a.call(r,i)?l(t.get(i)):void(t!==r&&t.get(e))}function T(t,e=!1){const n=this.__v_raw,o=(tt(n),tt(t));return e||(t!==o&&d(),d()),t===o?n.has(t):n.has(t)||n.has(o)}function M(t,e=!1){return t=t.__v_raw,!e&&d(tt(t)),Reflect.get(t,"size",t)}function N(t){t=tt(t);const e=tt(this);return C(e).has.call(e,t)||(e.add(t),p(e,"add",t,t)),this}function D(t,e){e=tt(e);const n=tt(this),{has:r,get:i}=C(n);let a=r.call(n,t);a||(t=tt(t),a=r.call(n,t));const l=i.call(n,t);return n.set(t,e),a?(0,o.aU)(e,l)&&p(n,"set",t,e):p(n,"add",t,e),this}function R(t){const e=tt(this),{has:n,get:o}=C(e);let r=n.call(e,t);r||(t=tt(t),r=n.call(e,t)),o&&o.call(e,t);const i=e.delete(t);return r&&p(e,"delete",t,void 0),i}function $(){const t=tt(this),e=0!==t.size,n=t.clear();return e&&p(t,"clear",void 0,void 0),n}function I(t,e){return function(n,o){const r=this,i=r.__v_raw,a=(tt(i),e?k:t?nt:et);return!t&&d(),i.forEach(((t,e)=>n.call(o,a(t),a(e),r)))}}function O(t,e,n){return function(...r){const i=this.__v_raw,a=tt(i),l=(0,o._N)(a),s="entries"===t||t===Symbol.iterator&&l,c=i[t](...r),u=n?k:e?nt:et;return!e&&d(),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:s?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function L(t){return function(...e){return"delete"!==t&&this}}function U(){const t={get(t){return S(this,t)},get size(){return M(this)},has:T,add:N,set:D,delete:R,clear:$,forEach:I(!1,!1)},e={get(t){return S(this,t,!1,!0)},get size(){return M(this)},has:T,add:N,set:D,delete:R,clear:$,forEach:I(!1,!0)},n={get(t){return S(this,t,!0)},get size(){return M(this,!0)},has(t){return T.call(this,t,!0)},add:L("add"),set:L("set"),delete:L("delete"),clear:L("clear"),forEach:I(!0,!1)},o={get(t){return S(this,t,!0,!0)},get size(){return M(this,!0)},has(t){return T.call(this,t,!0)},add:L("add"),set:L("set"),delete:L("delete"),clear:L("clear"),forEach:I(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{t[r]=O(r,!1,!1),n[r]=O(r,!0,!1),e[r]=O(r,!1,!0),o[r]=O(r,!0,!0)})),[t,n,e,o]}const[B,P,F,z]=U();function H(t,e){const n=e?t?z:F:t?P:B;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,o.RI)(n,r)&&r in e?n:e,r,i)}const j={get:H(!1,!1)},W={get:H(!0,!1)},G=new WeakMap,V=new WeakMap,Y=new WeakMap,J=new WeakMap;function q(t){return Q(t)?t:Z(t,!1,E,j,G)}function K(t){return Z(t,!0,_,W,Y)}function Z(t,e,n,r,i){if(!(0,o.Kn)(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const a=i.get(t);if(a)return a;const l=(s=t).__v_skip||!Object.isExtensible(s)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,o.W7)(s));var s;if(0===l)return t;const c=new Proxy(t,2===l?r:n);return i.set(t,c),c}function Q(t){return!(!t||!t.__v_isReadonly)}function X(t){return!(!t||!t.__v_isShallow)}function tt(t){const e=t&&t.__v_raw;return e?tt(e):t}const et=t=>(0,o.Kn)(t)?q(t):t,nt=t=>(0,o.Kn)(t)?K(t):t;function ot(t){return!(!t||!0!==t.__v_isRef)}function rt(t){return n=!1,ot(e=t)?e:new it(e,n);var e,n}class it{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:tt(t),this._value=e?t:et(t)}get value(){return this._value}set value(t){const e=this.__v_isShallow||X(t)||Q(t);t=e?t:tt(t),(0,o.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:et(t),function(t,e){(t=tt(t)).dep&&f(t.dep)}(this))}}},3577:(t,e,n)=>{"use strict";function o(t,e){const n=Object.create(null),o=t.split(",");for(let t=0;t<o.length;t++)n[o[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{He:()=>b,Kn:()=>u,RI:()=>a,S0:()=>m,W7:()=>f,_N:()=>s,aU:()=>v,fY:()=>o,kJ:()=>l,l7:()=>r,yk:()=>c});const r=Object.assign,i=Object.prototype.hasOwnProperty,a=(t,e)=>i.call(t,e),l=Array.isArray,s=t=>"[object Map]"===p(t),c=t=>"symbol"==typeof t,u=t=>null!==t&&"object"==typeof t,d=Object.prototype.toString,p=t=>d.call(t),f=t=>p(t).slice(8,-1),m=t=>"string"==typeof t&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,g=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},h=/-(\w)/g,A=(g((t=>t.replace(h,((t,e)=>e?e.toUpperCase():"")))),/\B([A-Z])/g),y=(g((t=>t.replace(A,"-$1").toLowerCase())),g((t=>t.charAt(0).toUpperCase()+t.slice(1)))),v=(g((t=>t?`on${y(t)}`:"")),(t,e)=>!Object.is(t,e)),b=t=>{const e=parseFloat(t);return isNaN(e)?t:e}},45224:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var o=n(87537),r=n.n(o),i=n(23645),a=n.n(i)()(r());a.push([t.id,"#malStatus,\n#malTotal,\n#malEpisodes,\n#malUserRating,\n#malRating,\n#malVolumes,\n#malTotalVol,\n#malTotalCha,\n#AddMal {\n  color: black;\n}\n.mal-sync-active {\n  background-color: #002966;\n}\n#malp select option {\n  background-color: #111111;\n}\n#malp #malStatus,\n#malp #malUserRating,\n#malp #malEpisodes,\n#malp #malVolumes,\n#malp #malEpisodes {\n  font-size: inherit;\n  font-family: inherit;\n  background: transparent;\n  border-color: grey;\n  text-decoration: none;\n  outline: medium none;\n  border-width: 0;\n  height: auto;\n  padding: 0;\n  margin: 0;\n  line-height: 1;\n}\n#malp #malEpisodes,\n#malp #malVolumes,\n#malp #malEpisodes {\n  text-align: center;\n  border-bottom-width: 1px;\n}\n#malp #malEpisodes:focus,\n#malp #malVolumes:focus,\n#malp #malEpisodes:focus {\n  border-color: black;\n}\n#malSyncProgress.ms-loading {\n  height: 4px;\n  width: 100%;\n  position: relative;\n  overflow: hidden;\n  background-color: #ddd;\n}\n#malSyncProgress.ms-loading::before {\n  display: block;\n  position: absolute;\n  content: '';\n  left: -200px;\n  width: 200px;\n  height: 4px;\n  background-color: #2980b9;\n  animation: loading-mal 2s linear infinite;\n}\n@keyframes loading-mal {\n  0% {\n    left: -200px;\n    width: 30%;\n  }\n  50% {\n    width: 30%;\n  }\n  70% {\n    width: 70%;\n  }\n  80% {\n    left: 50%;\n  }\n  95% {\n    left: 120%;\n  }\n  100% {\n    left: 100%;\n  }\n}\n#malSyncProgress.ms-done .ms-progress {\n  width: 100% !important;\n  background-color: #ff4081 !important;\n  transition: background-color 1s !important;\n}\n.mal-sync-active {\n  background-color: transparent !important;\n  border: 8px solid #98cff0 !important;\n}\n#malp {\n  margin-bottom: 20px;\n}\n#malp * {\n  color: white;\n}\n#malp select option {\n  color: black;\n  background-color: white !important;\n}\n#malp {\n  min-height: 52px;\n}\n#malp #MalData {\n  justify-content: flex-start !important;\n  align-items: stretch !important;\n  gap: 10px;\n}\n#malp #MalData .malp-group {\n  display: flex;\n  flex-direction: column !important;\n}\n#malp #MalData .malp-group > .malp-group-field,\n#malp #MalData .malp-group > .malp-group-value-section {\n  flex-grow: 1;\n  background-color: #374151 !important;\n  border-radius: 4px;\n  padding: 4px 8px !important;\n}\n#malp #MalData option {\n  background-color: #374151 !important;\n}\n#malp #MalData .malp-group-label {\n  display: block !important;\n}\n#malp #MalData .malp-group-label {\n  display: block !important;\n  font-size: 12px !important;\n}\n#malp #MalData #AddMalDiv {\n  margin-left: 10px;\n  display: inline-block !important;\n  font-size: 0;\n  background-color: #374151 !important;\n  border-radius: 4px;\n  padding: 4px 8px !important;\n}\n#malp #MalData #AddMalDiv #AddMal {\n  font-size: 16px;\n}\n#malp .malp-group > .malp-group-field,\n#malp .malp-group > .malp-group-value-section,\n#malp #AddMalDiv {\n  border: 1px solid #6b7280 !important;\n}\n","",{version:3,sources:["webpack://./src/pages/pages.less","webpack://./src/pages/marin/style.less"],names:[],mappings:"AAIA;;;;;;;;;EASE,YAAA;ACHF;ADMA;EACE,yBAAA;ACJF;ADOA;EAGM,yBAAA;ACPN;ADYA;;;;;EAMI,kBAAA;EACA,oBAAA;EACA,uBAAA;EACA,kBAAA;EACA,qBAAA;EACA,oBAAA;EACA,eAAA;EACA,YAAA;EACA,UAAA;EACA,SAAA;EACA,cAAA;ACXJ;ADLA;;;EAsBI,kBAAA;EACA,wBAAA;ACZJ;ADcI;;;EACE,mBAAA;ACVN;ADgBE;EACE,WAAA;EACA,WAAA;EACA,kBAAA;EACA,gBAAA;EACA,sBAAA;ACdJ;ADgBI;EACE,cAAA;EACA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,YAAA;EACA,WAAA;EACA,yBAAA;EACA,yCAAA;ACdN;ADiBI;EACE;IACE,YAAA;IACA,UAAA;ECfN;EDkBI;IACE,UAAA;EChBN;EDmBI;IACE,UAAA;ECjBN;EDoBI;IACE,SAAA;EClBN;EDqBI;IACE,UAAA;ECnBN;EDsBI;IACE,UAAA;ECpBN;AACF;ADwBE;EAEI,sBAAA;EACA,oCAAA;EACA,0CAAA;ACvBN;AArFA;EACE,wCAAA;EACA,oCAAA;AAuFF;AApFA;EACE,mBAAA;AAsFF;AAvFA;EAII,YAAA;AAsFJ;AA1FA;EAQI,YAAA;EACA,kCAAA;AAqFJ;AAjFA;EAGE,gBAAA;AAiFF;AApFA;EDmGI,sCAAA;EACA,+BAAA;EACA,SAAA;ACZJ;AAzFA;EDwGM,aAAA;EACA,iCAAA;ACZN;ADcM;;EAEE,YAAA;EACA,oCAAA;EACA,kBAAA;EACA,2BAAA;ACZR;AApGA;EDqHM,oCAAA;ACdN;AAvGA;EDyHM,yBAAA;ACfN;AA1GA;ED6HM,yBAAA;EACA,0BAAA;AChBN;AA9GA;EDkIM,iBAAA;EACA,gCAAA;EACA,YAAA;EACA,oCAAA;EACA,kBAAA;EACA,2BAAA;ACjBN;AAtHA;ED0IQ,eAAA;ACjBR;AAzHA;;;EAQI,oCAAA;AAsHJ",sourcesContent:["@textColor: black;\n@activeEp: #002966;\n@inputBackground: #111111;\n\n#malStatus,\n#malTotal,\n#malEpisodes,\n#malUserRating,\n#malRating,\n#malVolumes,\n#malTotalVol,\n#malTotalCha,\n#AddMal {\n  color: @textColor;\n}\n\n.mal-sync-active {\n  background-color: @activeEp;\n}\n\n#malp {\n  select {\n    option {\n      background-color: @inputBackground;\n    }\n  }\n}\n\n#malp {\n  #malStatus,\n  #malUserRating,\n  #malEpisodes,\n  #malVolumes,\n  #malEpisodes {\n    font-size: inherit;\n    font-family: inherit;\n    background: transparent;\n    border-color: grey;\n    text-decoration: none;\n    outline: medium none;\n    border-width: 0;\n    height: auto;\n    padding: 0;\n    margin: 0;\n    line-height: 1;\n  }\n\n  #malEpisodes,\n  #malVolumes,\n  #malEpisodes {\n    text-align: center;\n    border-bottom-width: 1px;\n\n    &:focus {\n      border-color: @textColor;\n    }\n  }\n}\n\n#malSyncProgress {\n  &.ms-loading {\n    height: 4px;\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    background-color: #ddd;\n\n    &::before {\n      display: block;\n      position: absolute;\n      content: '';\n      left: -200px;\n      width: 200px;\n      height: 4px;\n      background-color: #2980b9;\n      animation: loading-mal 2s linear infinite;\n    }\n\n    @keyframes loading-mal {\n      0% {\n        left: -200px;\n        width: 30%;\n      }\n\n      50% {\n        width: 30%;\n      }\n\n      70% {\n        width: 70%;\n      }\n\n      80% {\n        left: 50%;\n      }\n\n      95% {\n        left: 120%;\n      }\n\n      100% {\n        left: 100%;\n      }\n    }\n  }\n\n  &.ms-done {\n    .ms-progress {\n      width: 100% !important;\n      background-color: #ff4081 !important;\n      transition: background-color 1s !important;\n    }\n  }\n}\n\n.boxStyle(@bg) {\n  @gap: 10px;\n\n  #MalData {\n    justify-content: flex-start !important;\n    align-items: stretch !important;\n    gap: @gap;\n\n    .malp-group {\n      display: flex;\n      flex-direction: column !important;\n\n      & > .malp-group-field,\n      & > .malp-group-value-section {\n        flex-grow: 1;\n        background-color: @bg !important;\n        border-radius: 4px;\n        padding: 4px 8px !important;\n      }\n    }\n\n    option {\n      background-color: @bg !important;\n    }\n\n    .malp-group-label {\n      display: block !important;\n    }\n\n    .malp-group-label {\n      display: block !important;\n      font-size: 12px !important;\n    }\n\n    #AddMalDiv {\n      margin-left: @gap;\n      display: inline-block !important;\n      font-size: 0;\n      background-color: @bg !important;\n      border-radius: 4px;\n      padding: 4px 8px !important;\n\n      #AddMal {\n        font-size: 16px;\n      }\n    }\n  }\n}\n","@import './../pages';\n\n.mal-sync-active {\n  background-color: transparent !important;\n  border: 8px solid #98cff0 !important;\n}\n\n#malp {\n  margin-bottom: 20px;\n\n  * {\n    color: white;\n  }\n\n  select option {\n    color: black;\n    background-color: white !important;\n  }\n}\n\n#malp {\n  .boxStyle(#374151);\n\n  min-height: 52px;\n\n  .malp-group > .malp-group-field,\n  .malp-group > .malp-group-value-section,\n  #AddMalDiv {\n    border: 1px solid #6b7280 !important;\n  }\n}\n"],sourceRoot:""}]);const l=a},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);o&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},87537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},27856:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,r,i){return o=n()?Reflect.construct:function(t,n,o){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return o&&e(i,o.prototype),i},o.apply(null,arguments)}function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var a=Object.hasOwnProperty,l=Object.setPrototypeOf,s=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,d=Object.freeze,p=Object.seal,f=Object.create,m="undefined"!=typeof Reflect&&Reflect,g=m.apply,h=m.construct;g||(g=function(t,e,n){return t.apply(e,n)}),d||(d=function(t){return t}),p||(p=function(t){return t}),h||(h=function(t,e){return o(t,r(e))});var A,y=M(Array.prototype.forEach),v=M(Array.prototype.pop),b=M(Array.prototype.push),x=M(String.prototype.toLowerCase),w=M(String.prototype.toString),E=M(String.prototype.match),_=M(String.prototype.replace),k=M(String.prototype.indexOf),C=M(String.prototype.trim),S=M(RegExp.prototype.test),T=(A=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h(A,e)});function M(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return g(t,e,o)}}function N(t,e,n){n=n||x,l&&l(t,null);for(var o=e.length;o--;){var r=e[o];if("string"==typeof r){var i=n(r);i!==r&&(s(e)||(e[o]=i),r=i)}t[r]=!0}return t}function D(t){var e,n=f(null);for(e in t)!0===g(a,t,[e])&&(n[e]=t[e]);return n}function R(t,e){for(;null!==t;){var n=u(t,e);if(n){if(n.get)return M(n.get);if("function"==typeof n.value)return M(n.value)}t=c(t)}return function(t){return console.warn("fallback value for",t),null}}var $=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),B=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=d(["#text"]),F=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),G=p(/<%[\w\W]*|[\w\W]*%>/gm),V=p(/\${[\w\W]*}/gm),Y=p(/^data-[\-\w.\u00B7-\uFFFF]/),J=p(/^aria-[\-\w]+$/),q=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=p(/^(?:\w+script|data):/i),Z=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=p(/^html$/i),X=function(){return"undefined"==typeof window?null:window},tt=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var o=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(o=n.currentScript.getAttribute(r));var i="dompurify"+(o?"#"+o:"");try{return e.createPolicy(i,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X(),o=function(t){return e(t)};if(o.version="2.4.3",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;var i=n.document,a=n.document,l=n.DocumentFragment,s=n.HTMLTemplateElement,c=n.Node,u=n.Element,p=n.NodeFilter,f=n.NamedNodeMap,m=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,g=n.HTMLFormElement,h=n.DOMParser,A=n.trustedTypes,M=u.prototype,et=R(M,"cloneNode"),nt=R(M,"nextSibling"),ot=R(M,"childNodes"),rt=R(M,"parentNode");if("function"==typeof s){var it=a.createElement("template");it.content&&it.content.ownerDocument&&(a=it.content.ownerDocument)}var at=tt(A,i),lt=at?at.createHTML(""):"",st=a,ct=st.implementation,ut=st.createNodeIterator,dt=st.createDocumentFragment,pt=st.getElementsByTagName,ft=i.importNode,mt={};try{mt=D(a).documentMode?a.documentMode:{}}catch(t){}var gt={};o.isSupported="function"==typeof rt&&ct&&void 0!==ct.createHTMLDocument&&9!==mt;var ht,At,yt=W,vt=G,bt=V,xt=Y,wt=J,Et=K,_t=Z,kt=q,Ct=null,St=N({},[].concat(r($),r(I),r(O),r(U),r(P))),Tt=null,Mt=N({},[].concat(r(F),r(z),r(H),r(j))),Nt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Dt=null,Rt=null,$t=!0,It=!0,Ot=!1,Lt=!1,Ut=!1,Bt=!1,Pt=!1,Ft=!1,zt=!1,Ht=!1,jt=!0,Wt=!1,Gt="user-content-",Vt=!0,Yt=!1,Jt={},qt=null,Kt=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Zt=null,Qt=N({},["audio","video","img","source","image","track"]),Xt=null,te=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ee="http://www.w3.org/1998/Math/MathML",ne="http://www.w3.org/2000/svg",oe="http://www.w3.org/1999/xhtml",re=oe,ie=!1,ae=null,le=N({},[ee,ne,oe],w),se=["application/xhtml+xml","text/html"],ce="text/html",ue=null,de=a.createElement("form"),pe=function(t){return t instanceof RegExp||t instanceof Function},fe=function(e){ue&&ue===e||(e&&"object"===t(e)||(e={}),e=D(e),ht=ht=-1===se.indexOf(e.PARSER_MEDIA_TYPE)?ce:e.PARSER_MEDIA_TYPE,At="application/xhtml+xml"===ht?w:x,Ct="ALLOWED_TAGS"in e?N({},e.ALLOWED_TAGS,At):St,Tt="ALLOWED_ATTR"in e?N({},e.ALLOWED_ATTR,At):Mt,ae="ALLOWED_NAMESPACES"in e?N({},e.ALLOWED_NAMESPACES,w):le,Xt="ADD_URI_SAFE_ATTR"in e?N(D(te),e.ADD_URI_SAFE_ATTR,At):te,Zt="ADD_DATA_URI_TAGS"in e?N(D(Qt),e.ADD_DATA_URI_TAGS,At):Qt,qt="FORBID_CONTENTS"in e?N({},e.FORBID_CONTENTS,At):Kt,Dt="FORBID_TAGS"in e?N({},e.FORBID_TAGS,At):{},Rt="FORBID_ATTR"in e?N({},e.FORBID_ATTR,At):{},Jt="USE_PROFILES"in e&&e.USE_PROFILES,$t=!1!==e.ALLOW_ARIA_ATTR,It=!1!==e.ALLOW_DATA_ATTR,Ot=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Lt=e.SAFE_FOR_TEMPLATES||!1,Ut=e.WHOLE_DOCUMENT||!1,Ft=e.RETURN_DOM||!1,zt=e.RETURN_DOM_FRAGMENT||!1,Ht=e.RETURN_TRUSTED_TYPE||!1,Pt=e.FORCE_BODY||!1,jt=!1!==e.SANITIZE_DOM,Wt=e.SANITIZE_NAMED_PROPS||!1,Vt=!1!==e.KEEP_CONTENT,Yt=e.IN_PLACE||!1,kt=e.ALLOWED_URI_REGEXP||kt,re=e.NAMESPACE||oe,e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Nt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Nt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Nt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Lt&&(It=!1),zt&&(Ft=!0),Jt&&(Ct=N({},r(P)),Tt=[],!0===Jt.html&&(N(Ct,$),N(Tt,F)),!0===Jt.svg&&(N(Ct,I),N(Tt,z),N(Tt,j)),!0===Jt.svgFilters&&(N(Ct,O),N(Tt,z),N(Tt,j)),!0===Jt.mathMl&&(N(Ct,U),N(Tt,H),N(Tt,j))),e.ADD_TAGS&&(Ct===St&&(Ct=D(Ct)),N(Ct,e.ADD_TAGS,At)),e.ADD_ATTR&&(Tt===Mt&&(Tt=D(Tt)),N(Tt,e.ADD_ATTR,At)),e.ADD_URI_SAFE_ATTR&&N(Xt,e.ADD_URI_SAFE_ATTR,At),e.FORBID_CONTENTS&&(qt===Kt&&(qt=D(qt)),N(qt,e.FORBID_CONTENTS,At)),Vt&&(Ct["#text"]=!0),Ut&&N(Ct,["html","head","body"]),Ct.table&&(N(Ct,["tbody"]),delete Dt.tbody),d&&d(e),ue=e)},me=N({},["mi","mo","mn","ms","mtext"]),ge=N({},["foreignobject","desc","title","annotation-xml"]),he=N({},["title","style","font","a","script"]),Ae=N({},I);N(Ae,O),N(Ae,L);var ye=N({},U);N(ye,B);var ve=function(t){var e=rt(t);e&&e.tagName||(e={namespaceURI:re,tagName:"template"});var n=x(t.tagName),o=x(e.tagName);return!!ae[t.namespaceURI]&&(t.namespaceURI===ne?e.namespaceURI===oe?"svg"===n:e.namespaceURI===ee?"svg"===n&&("annotation-xml"===o||me[o]):Boolean(Ae[n]):t.namespaceURI===ee?e.namespaceURI===oe?"math"===n:e.namespaceURI===ne?"math"===n&&ge[o]:Boolean(ye[n]):t.namespaceURI===oe?!(e.namespaceURI===ne&&!ge[o])&&!(e.namespaceURI===ee&&!me[o])&&!ye[n]&&(he[n]||!Ae[n]):!("application/xhtml+xml"!==ht||!ae[t.namespaceURI]))},be=function(t){b(o.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=lt}catch(e){t.remove()}}},xe=function(t,e){try{b(o.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){b(o.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Tt[t])if(Ft||zt)try{be(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},we=function(t){var e,n;if(Pt)t="<remove></remove>"+t;else{var o=E(t,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===ht&&re===oe&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var r=at?at.createHTML(t):t;if(re===oe)try{e=(new h).parseFromString(r,ht)}catch(t){}if(!e||!e.documentElement){e=ct.createDocument(re,"template",null);try{e.documentElement.innerHTML=ie?lt:r}catch(t){}}var i=e.body||e.documentElement;return t&&n&&i.insertBefore(a.createTextNode(n),i.childNodes[0]||null),re===oe?pt.call(e,Ut?"html":"body")[0]:Ut?e.documentElement:i},Ee=function(t){return ut.call(t.ownerDocument||t,t,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT,null,!1)},_e=function(t){return t instanceof g&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof m)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ke=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ce=function(t,e,n){gt[t]&&y(gt[t],(function(t){t.call(o,e,n,ue)}))},Se=function(t){var e;if(Ce("beforeSanitizeElements",t,null),_e(t))return be(t),!0;if(S(/[\u0080-\uFFFF]/,t.nodeName))return be(t),!0;var n=At(t.nodeName);if(Ce("uponSanitizeElement",t,{tagName:n,allowedTags:Ct}),t.hasChildNodes()&&!ke(t.firstElementChild)&&(!ke(t.content)||!ke(t.content.firstElementChild))&&S(/<[/\w]/g,t.innerHTML)&&S(/<[/\w]/g,t.textContent))return be(t),!0;if("select"===n&&S(/<template/i,t.innerHTML))return be(t),!0;if(!Ct[n]||Dt[n]){if(!Dt[n]&&Me(n)){if(Nt.tagNameCheck instanceof RegExp&&S(Nt.tagNameCheck,n))return!1;if(Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(n))return!1}if(Vt&&!qt[n]){var r=rt(t)||t.parentNode,i=ot(t)||t.childNodes;if(i&&r)for(var a=i.length-1;a>=0;--a)r.insertBefore(et(i[a],!0),nt(t))}return be(t),!0}return t instanceof u&&!ve(t)?(be(t),!0):"noscript"!==n&&"noembed"!==n||!S(/<\/no(script|embed)/i,t.innerHTML)?(Lt&&3===t.nodeType&&(e=t.textContent,e=_(e,yt," "),e=_(e,vt," "),e=_(e,bt," "),t.textContent!==e&&(b(o.removed,{element:t.cloneNode()}),t.textContent=e)),Ce("afterSanitizeElements",t,null),!1):(be(t),!0)},Te=function(t,e,n){if(jt&&("id"===e||"name"===e)&&(n in a||n in de))return!1;if(It&&!Rt[e]&&S(xt,e));else if($t&&S(wt,e));else if(!Tt[e]||Rt[e]){if(!(Me(t)&&(Nt.tagNameCheck instanceof RegExp&&S(Nt.tagNameCheck,t)||Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(t))&&(Nt.attributeNameCheck instanceof RegExp&&S(Nt.attributeNameCheck,e)||Nt.attributeNameCheck instanceof Function&&Nt.attributeNameCheck(e))||"is"===e&&Nt.allowCustomizedBuiltInElements&&(Nt.tagNameCheck instanceof RegExp&&S(Nt.tagNameCheck,n)||Nt.tagNameCheck instanceof Function&&Nt.tagNameCheck(n))))return!1}else if(Xt[e]);else if(S(kt,_(n,_t,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==k(n,"data:")||!Zt[t])if(Ot&&!S(Et,_(n,_t,"")));else if(n)return!1;return!0},Me=function(t){return t.indexOf("-")>0},Ne=function(e){var n,r,i,a;Ce("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Tt};for(a=l.length;a--;){var c=n=l[a],u=c.name,d=c.namespaceURI;if(r="value"===u?n.value:C(n.value),i=At(u),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Ce("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(xe(u,e),s.keepAttr))if(S(/\/>/i,r))xe(u,e);else{Lt&&(r=_(r,yt," "),r=_(r,vt," "),r=_(r,bt," "));var p=At(e.nodeName);if(Te(p,i,r)){if(!Wt||"id"!==i&&"name"!==i||(xe(u,e),r=Gt+r),at&&"object"===t(A)&&"function"==typeof A.getAttributeType)if(d);else switch(A.getAttributeType(p,i)){case"TrustedHTML":r=at.createHTML(r);break;case"TrustedScriptURL":r=at.createScriptURL(r)}try{d?e.setAttributeNS(d,u,r):e.setAttribute(u,r),v(o.removed)}catch(t){}}}}Ce("afterSanitizeAttributes",e,null)}},De=function t(e){var n,o=Ee(e);for(Ce("beforeSanitizeShadowDOM",e,null);n=o.nextNode();)Ce("uponSanitizeShadowNode",n,null),Se(n)||(n.content instanceof l&&t(n.content),Ne(n));Ce("afterSanitizeShadowDOM",e,null)};return o.sanitize=function(e){var r,a,s,u,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ie=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ke(e)){if("function"!=typeof e.toString)throw T("toString is not a function");if("string"!=typeof(e=e.toString()))throw T("dirty is not a string, aborting")}if(!o.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(ke(e))return n.toStaticHTML(e.outerHTML)}return e}if(Bt||fe(p),o.removed=[],"string"==typeof e&&(Yt=!1),Yt){if(e.nodeName){var f=At(e.nodeName);if(!Ct[f]||Dt[f])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(a=(r=we("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Ft&&!Lt&&!Ut&&-1===e.indexOf("<"))return at&&Ht?at.createHTML(e):e;if(!(r=we(e)))return Ft?null:Ht?lt:""}r&&Pt&&be(r.firstChild);for(var m=Ee(Yt?e:r);s=m.nextNode();)3===s.nodeType&&s===u||Se(s)||(s.content instanceof l&&De(s.content),Ne(s),u=s);if(u=null,Yt)return e;if(Ft){if(zt)for(d=dt.call(r.ownerDocument);r.firstChild;)d.appendChild(r.firstChild);else d=r;return Tt.shadowroot&&(d=ft.call(i,d,!0)),d}var g=Ut?r.outerHTML:r.innerHTML;return Ut&&Ct["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&S(Q,r.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+g),Lt&&(g=_(g,yt," "),g=_(g,vt," "),g=_(g,bt," ")),at&&Ht?at.createHTML(g):g},o.setConfig=function(t){fe(t),Bt=!0},o.clearConfig=function(){ue=null,Bt=!1},o.isValidAttribute=function(t,e,n){ue||fe({});var o=At(t),r=At(e);return Te(o,r,n)},o.addHook=function(t,e){"function"==typeof e&&(gt[t]=gt[t]||[],b(gt[t],e))},o.removeHook=function(t){if(gt[t])return v(gt[t])},o.removeHooks=function(t){gt[t]&&(gt[t]=[])},o.removeAllHooks=function(){gt={}},o}()}()},14719:(t,e,n)=>{var o=n(2138),r=n(27672),i=o.marin;void 0===r._Page&&(r._Page=i),t.exports=o},27672:(t,e,n)=>{"use strict";t.exports=function(){if("object"==typeof globalThis)return globalThis;var t;try{t=this||new Function("return this")()}catch(t){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==n.g)return n.g}return t}()},95835:(t,e,n)=>{var o=n(45224);o&&o.__esModule&&(o=o.default),t.exports="string"==typeof o?o:o.toString()},58339:(t,e,n)=>{"use strict";n.r(e),n.d(e,{request:()=>A,settings:()=>y,storage:()=>h,type:()=>v});var o=n(58339),r=n(9375),i=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function l(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((o=o.apply(t,e||[])).next())}))};const a={set(t,e){return i(this,void 0,void 0,(function*(){const n={};return n[t]=e,new Promise(((e,o)=>{l(t).set(n,(function(){chrome.runtime.lastError?o(chrome.runtime.lastError):e()}))}))}))},get(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{l(t).get(t,(function(o){chrome.runtime.lastError?n(chrome.runtime.lastError):e(o[t])}))}))}))},remove(t){return i(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{l(t).remove(t,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):e()}))}))}))},list(t="local"){return i(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{"local"===t?chrome.storage.local.get(null,(function(t){e(t)})):chrome.storage.sync.get(null,(function(t){e(t)}))}))}))},addStyle(t){return i(this,void 0,void 0,(function*(){try{const e=document.createElement("style");e.textContent=t,(document.head||document.body||document.documentElement||document).appendChild(e)}catch(t){console.log(`Could not add css:${t}`)}}))},version:()=>chrome.runtime.getManifest().version,lang(t,e){if(o.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[t];if(void 0!==e)for(let t=0;t<e.length;t++)n=n.replace(`$${t+1}`,e[t]);return n}return chrome.i18n.getMessage(t,e)},assetUrl:t=>chrome.extension.getURL(`assets/${t}`),injectCssResource(t,e){alert("injectCssResource not supported in webextension")},injectjsResource(t,e){const n=document.createElement("script");n.src=chrome.extension.getURL(`vendor/${t}`),n.onload=function(){this.remove()},e.get(0).appendChild(n)},updateDom(t){const e=document.createElement("script");e.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",e.onload=function(){this.remove()},t.get(0).appendChild(e)},storageOnChanged(t){chrome.storage.onChanged.addListener(t)}};function l(t){return r.syncRegex.test(t)?chrome.storage.sync:chrome.storage.local}var s=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function l(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((o=o.apply(t,e||[])).next())}))};const c={xhr(t,e){return s(this,void 0,void 0,(function*(){if(void 0!==c.sendMessage)return c.sendMessage({name:"xhr",method:t,url:e}).then((t=>{if(429===t.status)throw"Rate limit Timeout";return t}));throw"Could not send xhr"}))},sendMessage(t){return s(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{chrome.runtime.sendMessage(t,(function(t){e(t)}))}))}))},notification(t){this.sendMessage({name:"notification",options:t})},database(t,e){return this.sendMessage({name:"database",options:{call:t,param:e}})}};var u=n(2262),d=n(58339),p=n(9e4),f=n(9375),m=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function l(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((o=o.apply(t,e||[])).next())}))};const g={options:(0,u.qj)({autoTrackingModeanime:"video",readerTracking:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["9anime","Crunchyroll","Gogoanime","Twistmoe","Mangadex","MangaNato","MangaFox","MangaSee","YugenAnime","Zoro","Funimation","Hulu","Netflix","Hidive","Vrv","VIZ","MangaPlus","MangaReader","marin","ComicK"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,bookMarksList:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},isInit:(0,u.iH)(!1),init(){return m(this,void 0,void 0,(function*(){const t=[];for(const e in this.options){const n=yield d.storage.get(`settings/${e}`);void 0!==n&&(this.options[e]=n,t[e]=/(token|refresh)/i.test(e)&&n?"********":n)}let e;return p.log("Settings",t),d.storage.storageOnChanged(((t,n)=>{if("sync"===n)for(const e in t){const n=t[e];/^settings\//i.test(e)&&(this.options[e.replace("settings/","")]=n.newValue,p.info(`Update ${e} option to ${n.newValue}`))}if("local"===n&&t.rateLimit)try{clearTimeout(e),t.rateLimit.newValue?(p.log("Rate limited"),$(".type-rate").length||f.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):e=setTimeout((()=>{p.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(t){p.error(t)}})),this.isInit.value=!0,this}))},get(t){if(!this.isInit.value)throw"Settings not initialized";return this.options[t]},set(t,e){if(!Object.prototype.hasOwnProperty.call(this.options,t)){const e=Error(`${t} is not a defined option`);throw p.error(e),e}return this.options[t]=e,d.storage.set(`settings/${t}`,e)},setDebounce(t,e){this.options[t]=e,clearTimeout(this.debounceArray[t]),this.debounceArray[t]=setTimeout((()=>{this.set(t,e),delete this.debounceArray[t]}),1e3)},getAsync(t){return m(this,void 0,void 0,(function*(){const e=yield d.storage.get(`settings/${t}`);return void 0===e&&void 0!==this.options[t]?this.options[t]:e}))}},h=a,A=c,y=g,v="webextension"},2138:(t,e,n)=>{"use strict";n.r(e),n.d(e,{marin:()=>a});var o=n(19947),r=n(9375),i=n(58339);const a={name:"marin",domain:"https://marin.moe",languages:["English"],type:"anime",database:"Marin",isSyncPage:t=>6===t.split("/").length&&"anime"===t.split("/")[3],isOverviewPage:t=>5===t.split("/").length&&"anime"===t.split("/")[3],sync:{getTitle:t=>o.$('h1 > a[href*="/anime/"]').text(),getIdentifier:t=>r.urlPart(t,4),getOverviewUrl:t=>r.absoluteLink(o.$('h1 > a[href*="/anime/"]').attr("href"),a.domain),getEpisode:t=>parseInt(r.urlPart(t,5)),nextEpUrl:t=>r.absoluteLink(o.$('a[title="Next Episode"]').not(".invisible").attr("href"),a.domain)},overview:{getTitle:t=>o.$("div > h1.text-xl").text(),getIdentifier:t=>r.urlPart(t,4),uiSelector(t){o.$("#tab-menus").first().parent().after(o.html(t))},list:{offsetHandler:!1,elementsSelector:()=>o.$(`ul > li > a[href*="${a.sync.getIdentifier(window.location.href)}/"]`),elementUrl:t=>r.absoluteLink(t.attr("href"),a.domain),elementEp:t=>a.sync.getEpisode(a.overview.list.elementUrl(t))}},init(t){let e,l;i.storage.addStyle(n(95835).toString()),r.fullUrlChangeDetect((function(){t.reset(),clearInterval(e),clearInterval(l),e=r.waitUntilTrue((()=>!o.$("html.nprogress-busy").length),(()=>{a.isOverviewPage(window.location.href)&&(l=r.changeDetect((()=>t.handleList()),(()=>($(`ul > li > a[href*="${a.sync.getIdentifier(window.location.href)}/"]`).first().attr("href")||"")+($(`ul > li > a[href*="${a.sync.getIdentifier(window.location.href)}/"]`).last().attr("href")||"")))),t.handlePage()}))}))}}},9e4:(t,e,n)=>{"use strict";n.r(e),n.d(e,{debug:()=>a,error:()=>r,info:()=>i,log:()=>o,m:()=>l});const o=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),r=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),i=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),a=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),l=(t,e="",n=[])=>{let o="white";e||(e=function(t){if(!t)return"#ffffff";t=String(t);let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);let n="#";for(let t=0;t<3;t++)n+=`00${(e>>8*t&255).toString(16)}`.substr(-2);return n}(t)),"#"===e[0]&&(o=parseInt(e.replace("#",""),16)>8388607.5?"#000":"#fff");const r=`background-color: ${e}; color: ${o}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:t,style:r});const i={m:(t,e="")=>l(t,e,[...n])},a=n.reduce(((t,e)=>`${t}%c${e.name}`),""),s=n.map((t=>t.style));return i.log=Function.prototype.bind.call(console.log,console,`%cM ${a}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...s),i.error=Function.prototype.bind.call(console.error,console,`%cM ${a}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...s),i.info=Function.prototype.bind.call(console.info,console,`%cM ${a}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...s),i.debug=Function.prototype.bind.call(console.debug,console,`%cM ${a}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...s),i}},9375:(t,e,n)=>{"use strict";n.r(e),n.d(e,{absoluteLink:()=>x,canHideTabs:()=>H,changeDetect:()=>k,checkDoubleExecution:()=>M,clearCache:()=>at,elementInViewport:()=>Q,episode:()=>h,favicon:()=>f,flashConfirm:()=>J,flashm:()=>Y,fullUrlChangeDetect:()=>_,generateUniqueID:()=>p,getAsyncWaitUntilTrue:()=>S,getBaseText:()=>d,getContinueWaching:()=>L,getEntrySettings:()=>B,getResumeWaching:()=>I,getStatusText:()=>W,getTooltip:()=>F,getUrlFromTags:()=>N,getselect:()=>b,handleMalImages:()=>P,htmlDecode:()=>nt,isDomainMatching:()=>st,isFirefox:()=>ot,lazyload:()=>Z,makeDomainCompatible:()=>it,notifications:()=>G,pageUrl:()=>tt,parseHtml:()=>w,planTo:()=>g,rateLimitExclude:()=>y,returnYYYYMMDD:()=>et,setContinueWaching:()=>O,setEntrySettings:()=>U,setResumeWaching:()=>R,setUrlInTags:()=>D,sortAlphabetically:()=>lt,status:()=>v,statusTag:()=>j,syncRegex:()=>A,timeCache:()=>V,timeDiffToText:()=>z,upperCaseFirstLetter:()=>ct,urlChangeDetect:()=>E,urlParam:()=>u,urlPart:()=>s,urlStrip:()=>c,wait:()=>X,waitForPageToBeVisible:()=>rt,waitUntilTrue:()=>C,watching:()=>m});var o=n(19947),r=n(58339),i=n(9e4),a=n(9375),l=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function l(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,l)}s((o=o.apply(t,e||[])).next())}))};function s(t,e){if(!t)return"";const n=t.split("/");return n[e]?n[e].replace(/[#?].*/,""):""}function c(t){return t.replace(/[#?].*/,"")}function u(t,e){const n=new RegExp(`[?&]${e}=([^&#]*)`).exec(t);return null===n?null:decodeURI(n[1])||0}function d(t){let e=t.text();return t.children().each((function(){e=e.replace(o.$(this).text(),"")})),e}function p(t=10){const e=new Uint32Array(t);return window.crypto.getRandomValues(e),Array.from(e,(t=>t.toString(16))).join("")}function f(t){if(!t)return"";const e=t.match(/^(https?:\/\/)?[^/]+/);return e&&(t=e[0]),`https://favicon.malsync.moe/?domain=${t}`}function m(t){return"manga"===t?"Reading":"Watching"}function g(t){return"manga"===t?"Plan to Read":"Plan to Watch"}function h(t){return"manga"===t?r.storage.lang("UI_Chapter"):r.storage.lang("UI_Episode")}const A=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,y=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var v;function b(t,e){let n=t.split(`name="${e}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let t=0;t<n.length;++t)if(n[t].indexOf('selected="selected"')>-1)return n[t].split('value="')[1].split('"')[0]}return""}function x(t,e){return void 0===t||t.startsWith("http")||("/"!==t.charAt(0)&&(t=`/${t}`),t=e+t),t}function w(t){return(new DOMParser).parseFromString(`<!doctype html><body>${t}`,"text/html").body.textContent}function E(t){let e=window.location.href;return setInterval((function(){e!==window.location.href&&(e=window.location.href,t())}),100)}function _(t,e=!1){let n="";const o=setInterval((function(){const o=e?c(window.location.href):window.location.href;n!==o&&(n=o,t())}),100);return Number(o)}function k(t,e,n=!1){let o=e();const r=setInterval((function(){const n=e();void 0!==n&&o!==n&&(o=e(),t())}),500);return n&&t(),Number(r)}function C(t,e,n=100){const o=setInterval((function(){t()&&(clearInterval(o),e())}),n);return o}function S(t,e=100){let n,o;const r=()=>{clearTimeout(n),o&&o("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(r(),new Promise(((r,i)=>{o=i,n=C(t,(()=>r()),e)}))),reset:r}}!function(t){t[t.watching=1]="watching",t[t.completed=2]="completed",t[t.onhold=3]="onhold",t[t.dropped=4]="dropped",t[t.planToWatch=6]="planToWatch"}(v||(v={}));const T=Math.random();function M(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(t){$(this).text()!==T.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(o.html(`<div class="mal-sync-double-detect" style="display: none;">${T.toString()}</div>`))}function N(t){return/malSync::[\d\D]+::/.test(t)?e(t.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(t)?e(t.split("last::")[1].split("::")[0]):void 0;function e(t){try{return atob(t)}catch(e){return t}}}function D(t,e){if(""===t)return e.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!r.settings.get("malTags"))return e;const n=`malSync::${btoa(t)}::`;return/(last|malSync)::[\d\D]+::/.test(e)?e.replace(/(last|malSync)::[^^]*?::/,n):`${e},${n}`}function R(t,e,n,o){return l(this,void 0,void 0,(function*(){return r.storage.set(`resume/${n}/${o}`,{url:t,ep:e})}))}function I(t,e){return l(this,void 0,void 0,(function*(){if(r.settings.get("malResume"))return r.storage.get(`resume/${t}/${e}`)}))}function O(t,e,n,o){return l(this,void 0,void 0,(function*(){return r.storage.set(`continue/${n}/${o}`,{url:t,ep:e})}))}function L(t,e){return l(this,void 0,void 0,(function*(){if(r.settings.get("malContinue"))return r.storage.get(`continue/${t}/${e}`)}))}function U(t,e,n,o=""){return l(this,void 0,void 0,(function*(){const i={};if(n){for(const t in n)switch(t){case"u":case"p":i[t]=n[t]}r.settings.get("malTags")?o=D(JSON.stringify(i),o):yield r.storage.set(`tagSettings/${t}/${e}`,JSON.stringify(i))}return Object.values(i).find((t=>Boolean(t)))||(o=D("",o),r.settings.get("malTags")||(yield r.storage.remove(`tagSettings/${t}/${e}`))),o}))}function B(t,e,n=""){return l(this,void 0,void 0,(function*(){const o={u:null,c:null,r:null,p:""};if(r.settings.get("malTags")){const t=N(n);if(t)if("{"===t[0])try{const e=JSON.parse(t);for(const t in o)e[t]&&(o[t]=e[t])}catch(t){i.error(t)}else o.u=t}else{let n=yield r.storage.get(`tagSettings/${t}/${e}`);if(n){n=JSON.parse(n);for(const t in o)n[t]&&(o[t]=n[t])}}const a=yield L(t,e);a&&(o.c=a);const l=yield I(t,e);return l&&(o.r=l),r.settings.get("usedPage")||(o.u=null),o}))}function P(t){return-1!==t.indexOf("questionmark")?r.storage.assetUrl("questionmark.gif"):t}function F(t,e="",n="top"){const o=Math.floor(1e3*Math.random()+1);return`<div id="tt${o}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${e}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${o}">${t}</div>`}function z(t){let e="";t/=1e3;const n=Math.floor(t/31536e3);t-=31536e3*n,n&&(e+=`${n}y `);const o=Math.floor(t/86400);t-=86400*o,o&&(e+=`${o}d `);const r=Math.floor(t/3600)%24;t-=3600*r,r&&o<2&&(e+=`${r}h `);const i=Math.floor(t/60)%60;return t-=60*i,i&&!o&&r<3&&(e+=`${i}min `),e}function H(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function j(t,e,n){const o={anime:{1:{class:"watching",text:"CW",title:r.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:r.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:r.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:r.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:r.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:r.storage.lang(`UI_Status_Rewatching_${e}`)}},manga:{1:{class:"reading",text:"CR",title:r.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:r.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:r.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:r.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:r.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:r.storage.lang(`UI_Status_Rewatching_${e}`)}}};if($.each([1,2,3,4,6,23],(function(t,e){o.anime[o.anime[e].title]=o.anime[e],o.manga[o.manga[e].title]=o.manga[e]})),t&&o[e][t]){const r=o[e][t];return` <a href="https://myanimelist.net/ownlist/${e}/${n}/edit?hideLayout=1" title="${r.title}" class="Lightbox_AddEdit button_edit ${r.class}">${r.text}</a>`}return!1}function W(t,e){switch(e){case 1:return r.storage.lang(`UI_Status_watching_${t}`);case 2:return r.storage.lang("UI_Status_Completed");case 3:return r.storage.lang("UI_Status_OnHold");case 4:return r.storage.lang("UI_Status_Dropped");case 6:return r.storage.lang(`UI_Status_planTo_${t}`);case 7:return r.storage.lang("UI_Status_All");case 23:return r.storage.lang(`UI_Status_Rewatching_${t}`);default:return""}}function G(t,e,n,o=""){const a={type:"basic",title:e,message:n,iconUrl:o};i.log("Notification",t,a),r.storage.get("notificationHistory").then((e=>{void 0===e&&(e=[]),"object"==typeof e&&(e.length>=10&&e.shift(),e.push({url:t,title:a.title,message:a.message,iconUrl:a.iconUrl,timestamp:Date.now()}),r.storage.set("notificationHistory",e))}));try{return chrome.notifications.create(t,a)}catch(t){i.error(t)}}function V(t,e,n){return l(this,void 0,void 0,(function*(){const o=yield r.storage.get(t);if("object"==typeof o&&(new Date).getTime()<o.timestamp)return o.data;const i=yield e();return r.storage.set(t,{data:i,timestamp:(new Date).getTime()+n}).then((()=>i))}))}function Y(t,e){o.$("#flash-div-top").length||function(){r.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let t="";r.settings.get("floatButtonStealth")&&(t="mini-stealth"),o.$("body").after(o.html(`<div id="flash-div-top" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" class="${t}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),i.log("[Flash] Message:",t);let n="#323232";void 0!==e&&void 0!==e.error&&e.error&&(n="#3e0808");let a="#flash-div-bottom";void 0!==e&&void 0!==e.position&&e.position&&(a=`#flash-div-${e.position}`);let l="flash";if(void 0!==e&&void 0!==e.type&&e.type){const t=`type-${e.type}`;o.$(`${a} .${t}, #flashinfo-div .${t}`).removeClass(t).fadeOut({duration:1e3,queue:!1,complete(){o.$(this).remove()}}),l+=` ${t}`}let s,c=`<div class="${l}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${t}        </div>      </div>`;return void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?(l+=" flashinfo",c=`<div class="${l}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${t}</div></div></div>`,o.$("#flashinfo-div").addClass("hover"),s=o.$(o.html(c)).appendTo("#flashinfo-div"),void 0!==e&&void 0!==e.minimized&&e.minimized&&s.css("max-height","8px")):s=o.$(o.html(c)).appendTo(a),void 0!==e&&void 0!==e.permanent&&e.permanent?s.slideDown(800):void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?s.slideDown(800).delay(4e3).queue((function(){o.$("#flashinfo-div").removeClass("hover"),s.css("max-height","8px")})):s.slideDown(800).delay(4e3).slideUp(800,(()=>{o.$(this).remove()})),s}function J(t,e,n=(()=>{}),i=(()=>{}),a=!1){return l(this,void 0,void 0,(function*(){return new Promise((function(l,s){let c=r.storage.lang("Ok"),u=r.storage.lang("Cancel");a&&(c=r.storage.lang("Yes"),u=r.storage.lang("No"));const d=Y(t=`<div style="text-align: center;">${t}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${c}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${u}</button></div>`,{permanent:!0,position:"top",type:e});d.find(".Yes").click((function(t){l(!0),o.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){o.$(this).remove()})),n()})),d.find(".Cancel").click((function(t){l(!1),o.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){o.$(this).remove()})),i()}))}))}))}let q=!1,K=[];function Z(t,e=".mdl-layout__content"){function n(t,e){if(!o.$(t).is(":visible"))return!1;if(o.$(t).hasClass("lazyBack"))o.$(t).css("background-image",`url(${t.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,o=t.getAttribute("data-src");n.onload=function(){t.parent?t.parent.replaceChild(n,t):t.src=o,e&&e()},n.src=o}}for(let t=0;t<K.length;t++)$(K[t]).addClass("init");K=[];const r=t.find("img.lazy.init, .lazyBack.init"),i=function(){for(let t=0;t<K.length;t++)a.elementInViewport(K[t],600)&&n(K[t],(function(){K.splice(t,t)})),$(K[t]).length||K.splice(t,t)};for(let t=0;t<r.length;t++)K.push(r[t]),$(r[t]).removeClass("init");i(),q||(q=!0,t.find(e).scroll((function(){i()})))}function Q(t,e=0){const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-e<=(window.innerHeight||document.documentElement.clientHeight)}function X(t){return new Promise((e=>{setTimeout(e,t)}))}function tt(t,e,n){switch(t){case"mal":return`https://myanimelist.net/${e}/${n}`;case"anilist":return`https://anilist.co/${e}/${n}`;case"kitsu":return`https://kitsu.io/${e}/${n}`;case"simkl":return`https://simkl.com/${e}/${n}`;default:throw`${t} not a valid page`}}function et(t=0){const e=new Date;e.setDate(e.getDate()+t);const n=e.getMonth()<9?`0${e.getMonth()+1}`:e.getMonth()+1,o=e.getDate()<10?`0${e.getDate()}`:e.getDate();return`${e.getFullYear()}-${n}-${o}`}function nt(t){return $("<textarea/>").html(o.html(t)).text()}function ot(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function rt(){const t=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(t())return Promise.resolve();i.log("Page in background");const{asyncWaitUntilTrue:e}=S((()=>t()));return e().then((()=>{i.log("Page is visible")}))}function it(t){return t.split("/").length<4&&(t+="/"),t.replace(/\?.*/,"?")}function at(){return l(this,void 0,void 0,(function*(){const t=yield r.storage.list();let e=0;o.$.each(t,(function(t,n){a.syncRegex.test(String(t))||/(^tagSettings\/.*)/.test(String(t))||(r.storage.remove(String(t)),e++)})),a.flashm(`Cache Cleared [${e}]`)}))}function lt(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}function st(t,e){const n=new URL(t),{host:o}=n;return o===e||o.endsWith(`.${e}`)}function ct(t){return!t||t.length<2?t:t.charAt(0).toUpperCase()+t.slice(1)}},19947:(t,e,n)=>{"use strict";n.r(e),n.d(e,{$:()=>r,html:()=>i});var o=n(27856);const r=jQuery;function i(t){return o.sanitize(t,{SAFE_FOR_JQUERY:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(14719)})();
//# sourceMappingURL=page_marin.js.map