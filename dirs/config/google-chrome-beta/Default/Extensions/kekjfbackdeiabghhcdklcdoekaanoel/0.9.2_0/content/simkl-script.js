/*! For license information please see simkl-script.js.LICENSE.txt */
(()=>{var t={72176:(t,e,n)=>{"use strict";function i(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function s(t,e){return t.require(e)}n.d(e,{l$:()=>s,KV:()=>i}),t=n.hmd(t)},21170:(t,e,n)=>{"use strict";n.d(e,{ph:()=>u,yW:()=>c});var i=n(72176),s=n(71235);t=n.hmd(t);const r=(0,s.Rf)(),o={nowSeconds:()=>Date.now()/1e3},a=(0,i.KV)()?function(){try{return(0,i.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=r;if(t&&t.now)return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),l=void 0===a?o:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},c=o.nowSeconds.bind(o),u=l.nowSeconds.bind(l);let h;(()=>{const{performance:t}=r;if(!t||!t.now)return void(h="none");const e=36e5,n=t.now(),i=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,o=s<e,a=t.timing&&t.timing.navigationStart,l="number"==typeof a?Math.abs(a+n-i):e;o||l<e?s<=l?(h="timeOrigin",t.timeOrigin):h="navigationStart":h="dateNow"})()},71235:(t,e,n)=>{"use strict";function i(t){return t&&t.Math==Math?t:void 0}n.d(e,{Rf:()=>r,YO:()=>o,n2:()=>s});const s="object"==typeof globalThis&&i(globalThis)||"object"==typeof window&&i(window)||"object"==typeof self&&i(self)||"object"==typeof n.g&&i(n.g)||function(){return this}()||{};function r(){return s}function o(t,e,n){const i=n||s,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}},2262:(t,e,n)=>{"use strict";n.d(e,{Bj:()=>r,Fl:()=>Ot,IU:()=>vt,Jd:()=>v,PG:()=>ft,Um:()=>dt,WL:()=>Rt,X$:()=>S,X3:()=>yt,Xl:()=>bt,dq:()=>xt,iH:()=>Tt,j:()=>w,lk:()=>b,qj:()=>ht,qq:()=>f,yT:()=>_t});var i=n(3577);let s;class r{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=s,!t&&s&&(this.index=(s.scopes||(s.scopes=[])).push(this)-1)}run(t){if(this.active){const e=s;try{return s=this,t()}finally{s=e}}}on(){s=this}off(){s=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this.active=!1}}}const o=t=>{const e=new Set(t);return e.w=0,e.n=0,e},a=t=>(t.w&d)>0,l=t=>(t.n&d)>0,c=new WeakMap;let u,h=0,d=1;const p=Symbol(""),m=Symbol("");class f{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,function(t,e=s){e&&e.active&&e.effects.push(t)}(this,n)}run(){if(!this.active)return this.fn();let t=u,e=_;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=u,u=this,_=!0,d=1<<++h,h<=30?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=d})(this):g(this),this.fn()}finally{h<=30&&(t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];a(s)&&!l(s)?s.delete(t):e[n++]=s,s.w&=~d,s.n&=~d}e.length=n}})(this),d=1<<--h,u=this.parent,_=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){u===this?this.deferStop=!0:this.active&&(g(this),this.onStop&&this.onStop(),this.active=!1)}}function g(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let _=!0;const y=[];function v(){y.push(_),_=!1}function b(){const t=y.pop();_=void 0===t||t}function w(t,e,n){if(_&&u){let e=c.get(t);e||c.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=o()),k(i)}}function k(t,e){let n=!1;h<=30?l(t)||(t.n|=d,n=!a(t)):n=!t.has(u),n&&(t.add(u),u.deps.push(t))}function S(t,e,n,s,r,a){const l=c.get(t);if(!l)return;let u=[];if("clear"===e)u=[...l.values()];else if("length"===n&&(0,i.kJ)(t)){const t=(0,i.He)(s);l.forEach(((e,n)=>{("length"===n||n>=t)&&u.push(e)}))}else switch(void 0!==n&&u.push(l.get(n)),e){case"add":(0,i.kJ)(t)?(0,i.S0)(n)&&u.push(l.get("length")):(u.push(l.get(p)),(0,i._N)(t)&&u.push(l.get(m)));break;case"delete":(0,i.kJ)(t)||(u.push(l.get(p)),(0,i._N)(t)&&u.push(l.get(m)));break;case"set":(0,i._N)(t)&&u.push(l.get(p))}if(1===u.length)u[0]&&E(u[0]);else{const t=[];for(const e of u)e&&t.push(...e);E(o(t))}}function E(t,e){const n=(0,i.kJ)(t)?t:[...t];for(const t of n)t.computed&&x(t);for(const t of n)t.computed||x(t)}function x(t,e){(t!==u||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const T=(0,i.fY)("__proto__,__v_isRef,__isVue"),N=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.yk)),C=I(),R=I(!1,!0),A=I(!0),$=O();function O(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=vt(this);for(let t=0,e=this.length;t<e;t++)w(n,0,t+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(vt)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){v();const n=vt(this)[e].apply(this,t);return b(),n}})),t}function I(t=!1,e=!1){return function(n,s,r){if("__v_isReactive"===s)return!t;if("__v_isReadonly"===s)return t;if("__v_isShallow"===s)return e;if("__v_raw"===s&&r===(t?e?ut:ct:e?lt:at).get(n))return n;const o=(0,i.kJ)(n);if(!t&&o&&(0,i.RI)($,s))return Reflect.get($,s,r);const a=Reflect.get(n,s,r);return((0,i.yk)(s)?N.has(s):T(s))?a:(t||w(n,0,s),e?a:xt(a)?o&&(0,i.S0)(s)?a:a.value:(0,i.Kn)(a)?t?pt(a):ht(a):a)}}const P=D(),L=D(!0);function D(t=!1){return function(e,n,s,r){let o=e[n];if(gt(o)&&xt(o)&&!xt(s))return!1;if(!t&&(_t(s)||gt(s)||(o=vt(o),s=vt(s)),!(0,i.kJ)(e)&&xt(o)&&!xt(s)))return o.value=s,!0;const a=(0,i.kJ)(e)&&(0,i.S0)(n)?Number(n)<e.length:(0,i.RI)(e,n),l=Reflect.set(e,n,s,r);return e===vt(r)&&(a?(0,i.aU)(s,o)&&S(e,"set",n,s):S(e,"add",n,s)),l}}const U={get:C,set:P,deleteProperty:function(t,e){const n=(0,i.RI)(t,e),s=(t[e],Reflect.deleteProperty(t,e));return s&&n&&S(t,"delete",e,void 0),s},has:function(t,e){const n=Reflect.has(t,e);return(0,i.yk)(e)&&N.has(e)||w(t,0,e),n},ownKeys:function(t){return w(t,0,(0,i.kJ)(t)?"length":p),Reflect.ownKeys(t)}},M={get:A,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},j=(0,i.l7)({},U,{get:R,set:L}),B=t=>t,F=t=>Reflect.getPrototypeOf(t);function G(t,e,n=!1,i=!1){const s=vt(t=t.__v_raw),r=vt(e);n||(e!==r&&w(s,0,e),w(s,0,r));const{has:o}=F(s),a=i?B:n?kt:wt;return o.call(s,e)?a(t.get(e)):o.call(s,r)?a(t.get(r)):void(t!==s&&t.get(e))}function W(t,e=!1){const n=this.__v_raw,i=vt(n),s=vt(t);return e||(t!==s&&w(i,0,t),w(i,0,s)),t===s?n.has(t):n.has(t)||n.has(s)}function H(t,e=!1){return t=t.__v_raw,!e&&w(vt(t),0,p),Reflect.get(t,"size",t)}function z(t){t=vt(t);const e=vt(this);return F(e).has.call(e,t)||(e.add(t),S(e,"add",t,t)),this}function q(t,e){e=vt(e);const n=vt(this),{has:s,get:r}=F(n);let o=s.call(n,t);o||(t=vt(t),o=s.call(n,t));const a=r.call(n,t);return n.set(t,e),o?(0,i.aU)(e,a)&&S(n,"set",t,e):S(n,"add",t,e),this}function Y(t){const e=vt(this),{has:n,get:i}=F(e);let s=n.call(e,t);s||(t=vt(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&S(e,"delete",t,void 0),r}function V(){const t=vt(this),e=0!==t.size,n=t.clear();return e&&S(t,"clear",void 0,void 0),n}function K(t,e){return function(n,i){const s=this,r=s.__v_raw,o=vt(r),a=e?B:t?kt:wt;return!t&&w(o,0,p),r.forEach(((t,e)=>n.call(i,a(t),a(e),s)))}}function J(t,e,n){return function(...s){const r=this.__v_raw,o=vt(r),a=(0,i._N)(o),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,u=r[t](...s),h=n?B:e?kt:wt;return!e&&w(o,0,c?m:p),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function X(t){return function(...e){return"delete"!==t&&this}}function Z(){const t={get(t){return G(this,t)},get size(){return H(this)},has:W,add:z,set:q,delete:Y,clear:V,forEach:K(!1,!1)},e={get(t){return G(this,t,!1,!0)},get size(){return H(this)},has:W,add:z,set:q,delete:Y,clear:V,forEach:K(!1,!0)},n={get(t){return G(this,t,!0)},get size(){return H(this,!0)},has(t){return W.call(this,t,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:K(!0,!1)},i={get(t){return G(this,t,!0,!0)},get size(){return H(this,!0)},has(t){return W.call(this,t,!0)},add:X("add"),set:X("set"),delete:X("delete"),clear:X("clear"),forEach:K(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{t[s]=J(s,!1,!1),n[s]=J(s,!0,!1),e[s]=J(s,!1,!0),i[s]=J(s,!0,!0)})),[t,n,e,i]}const[Q,tt,et,nt]=Z();function it(t,e){const n=e?t?nt:et:t?tt:Q;return(e,s,r)=>"__v_isReactive"===s?!t:"__v_isReadonly"===s?t:"__v_raw"===s?e:Reflect.get((0,i.RI)(n,s)&&s in e?n:e,s,r)}const st={get:it(!1,!1)},rt={get:it(!1,!0)},ot={get:it(!0,!1)},at=new WeakMap,lt=new WeakMap,ct=new WeakMap,ut=new WeakMap;function ht(t){return gt(t)?t:mt(t,!1,U,st,at)}function dt(t){return mt(t,!1,j,rt,lt)}function pt(t){return mt(t,!0,M,ot,ct)}function mt(t,e,n,s,r){if(!(0,i.Kn)(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const a=function(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,i.W7)(t))}(t);if(0===a)return t;const l=new Proxy(t,2===a?s:n);return r.set(t,l),l}function ft(t){return gt(t)?ft(t.__v_raw):!(!t||!t.__v_isReactive)}function gt(t){return!(!t||!t.__v_isReadonly)}function _t(t){return!(!t||!t.__v_isShallow)}function yt(t){return ft(t)||gt(t)}function vt(t){const e=t&&t.__v_raw;return e?vt(e):t}function bt(t){return(0,i.Nj)(t,"__v_skip",!0),t}const wt=t=>(0,i.Kn)(t)?ht(t):t,kt=t=>(0,i.Kn)(t)?pt(t):t;function St(t){_&&u&&k((t=vt(t)).dep||(t.dep=o()))}function Et(t,e){(t=vt(t)).dep&&E(t.dep)}function xt(t){return!(!t||!0!==t.__v_isRef)}function Tt(t){return n=!1,xt(e=t)?e:new Nt(e,n);var e,n}class Nt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:vt(t),this._value=e?t:wt(t)}get value(){return St(this),this._value}set value(t){const e=this.__v_isShallow||_t(t)||gt(t);t=e?t:vt(t),(0,i.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:wt(t),Et(this))}}const Ct={get:(t,e,n)=>function(t){return xt(t)?t.value:t}(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return xt(s)&&!xt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Rt(t){return ft(t)?t:new Proxy(t,Ct)}var At;class $t{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[At]=!1,this._dirty=!0,this.effect=new f(t,(()=>{this._dirty||(this._dirty=!0,Et(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=vt(this);return St(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ot(t,e,n=!1){let s,r;const o=(0,i.mf)(t);return o?(s=t,r=i.dG):(s=t.get,r=t.set),new $t(s,r,o||!r,n)}At="__v_isReadonly"},3577:(t,e,n)=>{"use strict";function i(t,e){const n=Object.create(null),i=t.split(",");for(let t=0;t<i.length;t++)n[i[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:()=>u,DM:()=>A,E9:()=>et,F7:()=>k,Gg:()=>G,HD:()=>I,He:()=>Q,Kn:()=>L,NO:()=>b,Nj:()=>Z,Od:()=>x,PO:()=>B,Pq:()=>h,RI:()=>N,S0:()=>F,W7:()=>j,WV:()=>p,Z6:()=>y,_A:()=>z,_N:()=>R,aU:()=>J,dG:()=>v,e1:()=>s,fY:()=>i,hR:()=>K,hq:()=>m,ir:()=>X,j5:()=>r,kC:()=>V,kJ:()=>C,kT:()=>_,l7:()=>E,mf:()=>O,rs:()=>Y,tI:()=>D,tR:()=>S,yA:()=>d,yk:()=>P,zw:()=>f});const s=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function r(t){if(C(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=I(i)?c(i):r(i);if(s)for(const t in s)e[t]=s[t]}return e}return I(t)||L(t)?t:void 0}const o=/;(?![^(]*\))/g,a=/:([^]+)/,l=/\/\*.*?\*\//gs;function c(t){const e={};return t.replace(l,"").split(o).forEach((t=>{if(t){const n=t.split(a);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function u(t){let e="";if(I(t))e=t;else if(C(t))for(let n=0;n<t.length;n++){const i=u(t[n]);i&&(e+=i+" ")}else if(L(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const h=i("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function d(t){return!!t||""===t}function p(t,e){if(t===e)return!0;let n=$(t),i=$(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=P(t),i=P(e),n||i)return t===e;if(n=C(t),i=C(e),n||i)return!(!n||!i)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=p(t[i],e[i]);return n}(t,e);if(n=L(t),i=L(e),n||i){if(!n||!i)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const i=t.hasOwnProperty(n),s=e.hasOwnProperty(n);if(i&&!s||!i&&s||!p(t[n],e[n]))return!1}}return String(t)===String(e)}function m(t,e){return t.findIndex((t=>p(t,e)))}const f=t=>I(t)?t:null==t?"":C(t)||L(t)&&(t.toString===U||!O(t.toString))?JSON.stringify(t,g,2):String(t),g=(t,e)=>e&&e.__v_isRef?g(t,e.value):R(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:A(e)?{[`Set(${e.size})`]:[...e.values()]}:!L(e)||C(e)||B(e)?e:String(e),_={},y=[],v=()=>{},b=()=>!1,w=/^on[^a-z]/,k=t=>w.test(t),S=t=>t.startsWith("onUpdate:"),E=Object.assign,x=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},T=Object.prototype.hasOwnProperty,N=(t,e)=>T.call(t,e),C=Array.isArray,R=t=>"[object Map]"===M(t),A=t=>"[object Set]"===M(t),$=t=>"[object Date]"===M(t),O=t=>"function"==typeof t,I=t=>"string"==typeof t,P=t=>"symbol"==typeof t,L=t=>null!==t&&"object"==typeof t,D=t=>L(t)&&O(t.then)&&O(t.catch),U=Object.prototype.toString,M=t=>U.call(t),j=t=>M(t).slice(8,-1),B=t=>"[object Object]"===M(t),F=t=>I(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,G=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),W=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},H=/-(\w)/g,z=W((t=>t.replace(H,((t,e)=>e?e.toUpperCase():"")))),q=/\B([A-Z])/g,Y=W((t=>t.replace(q,"-$1").toLowerCase())),V=W((t=>t.charAt(0).toUpperCase()+t.slice(1))),K=W((t=>t?`on${V(t)}`:"")),J=(t,e)=>!Object.is(t,e),X=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Z=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Q=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let tt;const et=()=>tt||(tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{})},94926:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var i=n(87537),s=n.n(i),r=n(23645),o=n.n(r)()(s());o.push([t.id,".nextStream img,\n.resumeStream img {\n  filter: invert(100%);\n}\n","",{version:3,sources:["webpack://./src/simkl/style.less"],names:[],mappings:"AAAA;;EAEE,oBAAA;AACF",sourcesContent:[".nextStream img,\n.resumeStream img {\n  filter: invert(100%);\n}\n"],sourceRoot:""}]);const a=o},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,s,r){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);i&&o[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),e.push(u))}},e}},87537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),r="/*# ".concat(s," */");return[e].concat([r]).join("\n")}return[e].join("\n")}},27856:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t,s,r){return i=n()?Reflect.construct:function(t,n,i){var s=[null];s.push.apply(s,n);var r=new(Function.bind.apply(t,s));return i&&e(r,i.prototype),r},i.apply(null,arguments)}function s(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var o=Object.hasOwnProperty,a=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,h=Object.freeze,d=Object.seal,p=Object.create,m="undefined"!=typeof Reflect&&Reflect,f=m.apply,g=m.construct;f||(f=function(t,e,n){return t.apply(e,n)}),h||(h=function(t){return t}),d||(d=function(t){return t}),g||(g=function(t,e){return i(t,s(e))});var _,y=R(Array.prototype.forEach),v=R(Array.prototype.pop),b=R(Array.prototype.push),w=R(String.prototype.toLowerCase),k=R(String.prototype.toString),S=R(String.prototype.match),E=R(String.prototype.replace),x=R(String.prototype.indexOf),T=R(String.prototype.trim),N=R(RegExp.prototype.test),C=(_=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g(_,e)});function R(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return f(t,e,i)}}function A(t,e,n){n=n||w,a&&a(t,null);for(var i=e.length;i--;){var s=e[i];if("string"==typeof s){var r=n(s);r!==s&&(l(e)||(e[i]=r),s=r)}t[s]=!0}return t}function $(t){var e,n=p(null);for(e in t)!0===f(o,t,[e])&&(n[e]=t[e]);return n}function O(t,e){for(;null!==t;){var n=u(t,e);if(n){if(n.get)return R(n.get);if("function"==typeof n.value)return R(n.value)}t=c(t)}return function(t){return console.warn("fallback value for",t),null}}var I=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),P=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),M=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=h(["#text"]),B=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),W=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=d(/<%[\w\W]*|[\w\W]*%>/gm),q=d(/\${[\w\W]*}/gm),Y=d(/^data-[\-\w.\u00B7-\uFFFF]/),V=d(/^aria-[\-\w]+$/),K=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J=d(/^(?:\w+script|data):/i),X=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=d(/^html$/i),Q=function(){return"undefined"==typeof window?null:window},tt=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var i=null,s="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(s)&&(i=n.currentScript.getAttribute(s));var r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML:function(t){return t},createScriptURL:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),i=function(t){return e(t)};if(i.version="2.4.3",i.removed=[],!n||!n.document||9!==n.document.nodeType)return i.isSupported=!1,i;var r=n.document,o=n.document,a=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,u=n.Element,d=n.NodeFilter,p=n.NamedNodeMap,m=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,f=n.HTMLFormElement,g=n.DOMParser,_=n.trustedTypes,R=u.prototype,et=O(R,"cloneNode"),nt=O(R,"nextSibling"),it=O(R,"childNodes"),st=O(R,"parentNode");if("function"==typeof l){var rt=o.createElement("template");rt.content&&rt.content.ownerDocument&&(o=rt.content.ownerDocument)}var ot=tt(_,r),at=ot?ot.createHTML(""):"",lt=o,ct=lt.implementation,ut=lt.createNodeIterator,ht=lt.createDocumentFragment,dt=lt.getElementsByTagName,pt=r.importNode,mt={};try{mt=$(o).documentMode?o.documentMode:{}}catch(t){}var ft={};i.isSupported="function"==typeof st&&ct&&void 0!==ct.createHTMLDocument&&9!==mt;var gt,_t,yt=H,vt=z,bt=q,wt=Y,kt=V,St=J,Et=X,xt=K,Tt=null,Nt=A({},[].concat(s(I),s(P),s(L),s(U),s(j))),Ct=null,Rt=A({},[].concat(s(B),s(F),s(G),s(W))),At=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$t=null,Ot=null,It=!0,Pt=!0,Lt=!1,Dt=!1,Ut=!1,Mt=!1,jt=!1,Bt=!1,Ft=!1,Gt=!1,Wt=!0,Ht=!1,zt="user-content-",qt=!0,Yt=!1,Vt={},Kt=null,Jt=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xt=null,Zt=A({},["audio","video","img","source","image","track"]),Qt=null,te=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ee="http://www.w3.org/1998/Math/MathML",ne="http://www.w3.org/2000/svg",ie="http://www.w3.org/1999/xhtml",se=ie,re=!1,oe=null,ae=A({},[ee,ne,ie],k),le=["application/xhtml+xml","text/html"],ce="text/html",ue=null,he=o.createElement("form"),de=function(t){return t instanceof RegExp||t instanceof Function},pe=function(e){ue&&ue===e||(e&&"object"===t(e)||(e={}),e=$(e),gt=gt=-1===le.indexOf(e.PARSER_MEDIA_TYPE)?ce:e.PARSER_MEDIA_TYPE,_t="application/xhtml+xml"===gt?k:w,Tt="ALLOWED_TAGS"in e?A({},e.ALLOWED_TAGS,_t):Nt,Ct="ALLOWED_ATTR"in e?A({},e.ALLOWED_ATTR,_t):Rt,oe="ALLOWED_NAMESPACES"in e?A({},e.ALLOWED_NAMESPACES,k):ae,Qt="ADD_URI_SAFE_ATTR"in e?A($(te),e.ADD_URI_SAFE_ATTR,_t):te,Xt="ADD_DATA_URI_TAGS"in e?A($(Zt),e.ADD_DATA_URI_TAGS,_t):Zt,Kt="FORBID_CONTENTS"in e?A({},e.FORBID_CONTENTS,_t):Jt,$t="FORBID_TAGS"in e?A({},e.FORBID_TAGS,_t):{},Ot="FORBID_ATTR"in e?A({},e.FORBID_ATTR,_t):{},Vt="USE_PROFILES"in e&&e.USE_PROFILES,It=!1!==e.ALLOW_ARIA_ATTR,Pt=!1!==e.ALLOW_DATA_ATTR,Lt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Dt=e.SAFE_FOR_TEMPLATES||!1,Ut=e.WHOLE_DOCUMENT||!1,Bt=e.RETURN_DOM||!1,Ft=e.RETURN_DOM_FRAGMENT||!1,Gt=e.RETURN_TRUSTED_TYPE||!1,jt=e.FORCE_BODY||!1,Wt=!1!==e.SANITIZE_DOM,Ht=e.SANITIZE_NAMED_PROPS||!1,qt=!1!==e.KEEP_CONTENT,Yt=e.IN_PLACE||!1,xt=e.ALLOWED_URI_REGEXP||xt,se=e.NAMESPACE||ie,e.CUSTOM_ELEMENT_HANDLING&&de(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(At.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&de(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(At.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(At.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Dt&&(Pt=!1),Ft&&(Bt=!0),Vt&&(Tt=A({},s(j)),Ct=[],!0===Vt.html&&(A(Tt,I),A(Ct,B)),!0===Vt.svg&&(A(Tt,P),A(Ct,F),A(Ct,W)),!0===Vt.svgFilters&&(A(Tt,L),A(Ct,F),A(Ct,W)),!0===Vt.mathMl&&(A(Tt,U),A(Ct,G),A(Ct,W))),e.ADD_TAGS&&(Tt===Nt&&(Tt=$(Tt)),A(Tt,e.ADD_TAGS,_t)),e.ADD_ATTR&&(Ct===Rt&&(Ct=$(Ct)),A(Ct,e.ADD_ATTR,_t)),e.ADD_URI_SAFE_ATTR&&A(Qt,e.ADD_URI_SAFE_ATTR,_t),e.FORBID_CONTENTS&&(Kt===Jt&&(Kt=$(Kt)),A(Kt,e.FORBID_CONTENTS,_t)),qt&&(Tt["#text"]=!0),Ut&&A(Tt,["html","head","body"]),Tt.table&&(A(Tt,["tbody"]),delete $t.tbody),h&&h(e),ue=e)},me=A({},["mi","mo","mn","ms","mtext"]),fe=A({},["foreignobject","desc","title","annotation-xml"]),ge=A({},["title","style","font","a","script"]),_e=A({},P);A(_e,L),A(_e,D);var ye=A({},U);A(ye,M);var ve=function(t){var e=st(t);e&&e.tagName||(e={namespaceURI:se,tagName:"template"});var n=w(t.tagName),i=w(e.tagName);return!!oe[t.namespaceURI]&&(t.namespaceURI===ne?e.namespaceURI===ie?"svg"===n:e.namespaceURI===ee?"svg"===n&&("annotation-xml"===i||me[i]):Boolean(_e[n]):t.namespaceURI===ee?e.namespaceURI===ie?"math"===n:e.namespaceURI===ne?"math"===n&&fe[i]:Boolean(ye[n]):t.namespaceURI===ie?!(e.namespaceURI===ne&&!fe[i])&&!(e.namespaceURI===ee&&!me[i])&&!ye[n]&&(ge[n]||!_e[n]):!("application/xhtml+xml"!==gt||!oe[t.namespaceURI]))},be=function(t){b(i.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=at}catch(e){t.remove()}}},we=function(t,e){try{b(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){b(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Ct[t])if(Bt||Ft)try{be(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ke=function(t){var e,n;if(jt)t="<remove></remove>"+t;else{var i=S(t,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===gt&&se===ie&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var s=ot?ot.createHTML(t):t;if(se===ie)try{e=(new g).parseFromString(s,gt)}catch(t){}if(!e||!e.documentElement){e=ct.createDocument(se,"template",null);try{e.documentElement.innerHTML=re?at:s}catch(t){}}var r=e.body||e.documentElement;return t&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),se===ie?dt.call(e,Ut?"html":"body")[0]:Ut?e.documentElement:r},Se=function(t){return ut.call(t.ownerDocument||t,t,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},Ee=function(t){return t instanceof f&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof m)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},xe=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Te=function(t,e,n){ft[t]&&y(ft[t],(function(t){t.call(i,e,n,ue)}))},Ne=function(t){var e;if(Te("beforeSanitizeElements",t,null),Ee(t))return be(t),!0;if(N(/[\u0080-\uFFFF]/,t.nodeName))return be(t),!0;var n=_t(t.nodeName);if(Te("uponSanitizeElement",t,{tagName:n,allowedTags:Tt}),t.hasChildNodes()&&!xe(t.firstElementChild)&&(!xe(t.content)||!xe(t.content.firstElementChild))&&N(/<[/\w]/g,t.innerHTML)&&N(/<[/\w]/g,t.textContent))return be(t),!0;if("select"===n&&N(/<template/i,t.innerHTML))return be(t),!0;if(!Tt[n]||$t[n]){if(!$t[n]&&Re(n)){if(At.tagNameCheck instanceof RegExp&&N(At.tagNameCheck,n))return!1;if(At.tagNameCheck instanceof Function&&At.tagNameCheck(n))return!1}if(qt&&!Kt[n]){var s=st(t)||t.parentNode,r=it(t)||t.childNodes;if(r&&s)for(var o=r.length-1;o>=0;--o)s.insertBefore(et(r[o],!0),nt(t))}return be(t),!0}return t instanceof u&&!ve(t)?(be(t),!0):"noscript"!==n&&"noembed"!==n||!N(/<\/no(script|embed)/i,t.innerHTML)?(Dt&&3===t.nodeType&&(e=t.textContent,e=E(e,yt," "),e=E(e,vt," "),e=E(e,bt," "),t.textContent!==e&&(b(i.removed,{element:t.cloneNode()}),t.textContent=e)),Te("afterSanitizeElements",t,null),!1):(be(t),!0)},Ce=function(t,e,n){if(Wt&&("id"===e||"name"===e)&&(n in o||n in he))return!1;if(Pt&&!Ot[e]&&N(wt,e));else if(It&&N(kt,e));else if(!Ct[e]||Ot[e]){if(!(Re(t)&&(At.tagNameCheck instanceof RegExp&&N(At.tagNameCheck,t)||At.tagNameCheck instanceof Function&&At.tagNameCheck(t))&&(At.attributeNameCheck instanceof RegExp&&N(At.attributeNameCheck,e)||At.attributeNameCheck instanceof Function&&At.attributeNameCheck(e))||"is"===e&&At.allowCustomizedBuiltInElements&&(At.tagNameCheck instanceof RegExp&&N(At.tagNameCheck,n)||At.tagNameCheck instanceof Function&&At.tagNameCheck(n))))return!1}else if(Qt[e]);else if(N(xt,E(n,Et,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==x(n,"data:")||!Xt[t])if(Lt&&!N(St,E(n,Et,"")));else if(n)return!1;return!0},Re=function(t){return t.indexOf("-")>0},Ae=function(e){var n,s,r,o;Te("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ct};for(o=a.length;o--;){var c=n=a[o],u=c.name,h=c.namespaceURI;if(s="value"===u?n.value:T(n.value),r=_t(u),l.attrName=r,l.attrValue=s,l.keepAttr=!0,l.forceKeepAttr=void 0,Te("uponSanitizeAttribute",e,l),s=l.attrValue,!l.forceKeepAttr&&(we(u,e),l.keepAttr))if(N(/\/>/i,s))we(u,e);else{Dt&&(s=E(s,yt," "),s=E(s,vt," "),s=E(s,bt," "));var d=_t(e.nodeName);if(Ce(d,r,s)){if(!Ht||"id"!==r&&"name"!==r||(we(u,e),s=zt+s),ot&&"object"===t(_)&&"function"==typeof _.getAttributeType)if(h);else switch(_.getAttributeType(d,r)){case"TrustedHTML":s=ot.createHTML(s);break;case"TrustedScriptURL":s=ot.createScriptURL(s)}try{h?e.setAttributeNS(h,u,s):e.setAttribute(u,s),v(i.removed)}catch(t){}}}}Te("afterSanitizeAttributes",e,null)}},$e=function t(e){var n,i=Se(e);for(Te("beforeSanitizeShadowDOM",e,null);n=i.nextNode();)Te("uponSanitizeShadowNode",n,null),Ne(n)||(n.content instanceof a&&t(n.content),Ae(n));Te("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(e){var s,o,l,u,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((re=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xe(e)){if("function"!=typeof e.toString)throw C("toString is not a function");if("string"!=typeof(e=e.toString()))throw C("dirty is not a string, aborting")}if(!i.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(xe(e))return n.toStaticHTML(e.outerHTML)}return e}if(Mt||pe(d),i.removed=[],"string"==typeof e&&(Yt=!1),Yt){if(e.nodeName){var p=_t(e.nodeName);if(!Tt[p]||$t[p])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(o=(s=ke("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?s=o:s.appendChild(o);else{if(!Bt&&!Dt&&!Ut&&-1===e.indexOf("<"))return ot&&Gt?ot.createHTML(e):e;if(!(s=ke(e)))return Bt?null:Gt?at:""}s&&jt&&be(s.firstChild);for(var m=Se(Yt?e:s);l=m.nextNode();)3===l.nodeType&&l===u||Ne(l)||(l.content instanceof a&&$e(l.content),Ae(l),u=l);if(u=null,Yt)return e;if(Bt){if(Ft)for(h=ht.call(s.ownerDocument);s.firstChild;)h.appendChild(s.firstChild);else h=s;return Ct.shadowroot&&(h=pt.call(r,h,!0)),h}var f=Ut?s.outerHTML:s.innerHTML;return Ut&&Tt["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&N(Z,s.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+f),Dt&&(f=E(f,yt," "),f=E(f,vt," "),f=E(f,bt," ")),ot&&Gt?ot.createHTML(f):f},i.setConfig=function(t){pe(t),Mt=!0},i.clearConfig=function(){ue=null,Mt=!1},i.isValidAttribute=function(t,e,n){ue||pe({});var i=_t(t),s=_t(e);return Ce(i,s,n)},i.addHook=function(t,e){"function"==typeof e&&(ft[t]=ft[t]||[],b(ft[t],e))},i.removeHook=function(t){if(ft[t])return v(ft[t])},i.removeHooks=function(t){ft[t]&&(ft[t]=[])},i.removeAllHooks=function(){ft={}},i}()}()},56387:(t,e,n)=>{var i;!function(s){var r=Object.hasOwnProperty,o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a="object"==typeof process&&"function"==typeof process.nextTick,l="function"==typeof Symbol,c="object"==typeof Reflect,u="function"==typeof setImmediate?setImmediate:setTimeout,h=l?c&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(t){var e=Object.getOwnPropertyNames(t);return e.push.apply(e,Object.getOwnPropertySymbols(t)),e}:Object.keys;function d(){this._events={},this._conf&&p.call(this,this._conf)}function p(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners!==s&&(this._maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this._newListener=t.newListener),t.removeListener&&(this._removeListener=t.removeListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),t.ignoreErrors&&(this.ignoreErrors=t.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function m(t,e){var n="(node) warning: possible EventEmitter memory leak detected. "+t+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+e+"."),"undefined"!=typeof process&&process.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=t,process.emitWarning(i)}else console.error(n),console.trace&&console.trace()}var f=function(t,e,n){var i=arguments.length;switch(i){case 0:return[];case 1:return[t];case 2:return[t,e];case 3:return[t,e,n];default:for(var s=new Array(i);i--;)s[i]=arguments[i];return s}};function g(t,e){for(var n={},i=t.length,r=e?value.length:0,o=0;o<i;o++)n[t[o]]=o<r?e[o]:s;return n}function _(t,e,n){var i,s;if(this._emitter=t,this._target=e,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(i=n.on,s=n.off),e.addEventListener?(i=e.addEventListener,s=e.removeEventListener):e.addListener?(i=e.addListener,s=e.removeListener):e.on&&(i=e.on,s=e.off),!i&&!s)throw Error("target does not implement any known event API");if("function"!=typeof i)throw TypeError("on method must be a function");if("function"!=typeof s)throw TypeError("off method must be a function");this._on=i,this._off=s;var r=t._observers;r?r.push(this):t._observers=[this]}function y(t,e,n,i){var o=Object.assign({},e);if(!t)return o;if("object"!=typeof t)throw TypeError("options must be an object");var a,l,c,u=Object.keys(t),h=u.length;function d(t){throw Error('Invalid "'+a+'" option value'+(t?". Reason: "+t:""))}for(var p=0;p<h;p++){if(a=u[p],!i&&!r.call(e,a))throw Error('Unknown "'+a+'" option');(l=t[a])!==s&&(c=n[a],o[a]=c?c(l,d):l)}return o}function v(t,e){return"function"==typeof t&&t.hasOwnProperty("prototype")||e("value must be a constructor"),t}function b(t){var e="value must be type of "+t.join("|"),n=t.length,i=t[0],s=t[1];return 1===n?function(t,n){if(typeof t===i)return t;n(e)}:2===n?function(t,n){var r=typeof t;if(r===i||r===s)return t;n(e)}:function(i,s){for(var r=typeof i,o=n;o-- >0;)if(r===t[o])return i;s(e)}}Object.assign(_.prototype,{subscribe:function(t,e,n){var i=this,s=this._target,r=this._emitter,o=this._listeners,a=function(){var i=f.apply(null,arguments),o={data:i,name:e,original:t};if(n){var a=n.call(s,o);!1!==a&&r.emit.apply(r,[o.name].concat(i))}else r.emit.apply(r,[e].concat(i))};if(o[t])throw Error("Event '"+t+"' is already listening");this._listenersCount++,r._newListener&&r._removeListener&&!i._onNewListener?(this._onNewListener=function(n){n===e&&null===o[t]&&(o[t]=a,i._on.call(s,t,a))},r.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===e&&!r.hasListeners(n)&&o[t]&&(o[t]=null,i._off.call(s,t,a))},o[t]=null,r.on("removeListener",this._onRemoveListener)):(o[t]=a,i._on.call(s,t,a))},unsubscribe:function(t){var e,n,i,s=this,r=this._listeners,o=this._emitter,a=this._off,l=this._target;if(t&&"string"!=typeof t)throw TypeError("event must be a string");function c(){s._onNewListener&&(o.off("newListener",s._onNewListener),o.off("removeListener",s._onRemoveListener),s._onNewListener=null,s._onRemoveListener=null);var t=E.call(o,s);o._observers.splice(t,1)}if(t){if(!(e=r[t]))return;a.call(l,t,e),delete r[t],--this._listenersCount||c()}else{for(i=(n=h(r)).length;i-- >0;)t=n[i],a.call(l,t,r[t]);this._listeners={},this._listenersCount=0,c()}}});var w=b(["function"]),k=b(["object","function"]);function S(t,e,n){var i,s,r,o=0,a=new t((function(l,c,u){function h(){s&&(s=null),o&&(clearTimeout(o),o=0)}n=y(n,{timeout:0,overload:!1},{timeout:function(t,e){return("number"!=typeof(t*=1)||t<0||!Number.isFinite(t))&&e("timeout must be a positive number"),t}}),i=!n.overload&&"function"==typeof t.prototype.cancel&&"function"==typeof u;var d=function(t){h(),l(t)},p=function(t){h(),c(t)};i?e(d,p,u):(s=[function(t){p(t||Error("canceled"))}],e(d,p,(function(t){if(r)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof t)throw TypeError("onCancel callback must be a function");s.push(t)})),r=!0),n.timeout>0&&(o=setTimeout((function(){var t=Error("timeout");t.code="ETIMEDOUT",o=0,a.cancel(t),c(t)}),n.timeout))}));return i||(a.cancel=function(t){if(s){for(var e=s.length,n=1;n<e;n++)s[n](t);s[0](t),s=null}}),a}function E(t){var e=this._observers;if(!e)return-1;for(var n=e.length,i=0;i<n;i++)if(e[i]._target===t)return i;return-1}function x(t,e,n,i,s){if(!n)return null;if(0===i){var r=typeof e;if("string"===r){var o,a,l=0,c=0,u=this.delimiter,d=u.length;if(-1!==(a=e.indexOf(u))){o=new Array(5);do{o[l++]=e.slice(c,a),c=a+d}while(-1!==(a=e.indexOf(u,c)));o[l++]=e.slice(c),e=o,s=l}else e=[e],s=1}else"object"===r?s=e.length:(e=[e],s=1)}var p,m,f,g,_,y,v,b=null,w=e[i],k=e[i+1];if(i===s)n._listeners&&("function"==typeof n._listeners?(t&&t.push(n._listeners),b=[n]):(t&&t.push.apply(t,n._listeners),b=[n]));else{if("*"===w){for(a=(y=h(n)).length;a-- >0;)"_listeners"!==(p=y[a])&&(v=x(t,e,n[p],i+1,s))&&(b?b.push.apply(b,v):b=v);return b}if("**"===w){for((_=i+1===s||i+2===s&&"*"===k)&&n._listeners&&(b=x(t,e,n,s,s)),a=(y=h(n)).length;a-- >0;)"_listeners"!==(p=y[a])&&("*"===p||"**"===p?(n[p]._listeners&&!_&&(v=x(t,e,n[p],s,s))&&(b?b.push.apply(b,v):b=v),v=x(t,e,n[p],i,s)):v=x(t,e,n[p],p===k?i+2:i,s),v&&(b?b.push.apply(b,v):b=v));return b}n[w]&&(b=x(t,e,n[w],i+1,s))}if((m=n["*"])&&x(t,e,m,i+1,s),f=n["**"])if(i<s)for(f._listeners&&x(t,e,f,s,s),a=(y=h(f)).length;a-- >0;)"_listeners"!==(p=y[a])&&(p===k?x(t,e,f[p],i+2,s):p===w?x(t,e,f[p],i+1,s):((g={})[p]=f[p],x(t,e,{"**":g},i+1,s)));else f._listeners?x(t,e,f,s,s):f["*"]&&f["*"]._listeners&&x(t,e,f["*"],s,s);return b}function T(t,e,n){var i,s,r=0,o=0,a=this.delimiter,l=a.length;if("string"==typeof t)if(-1!==(i=t.indexOf(a))){s=new Array(5);do{s[r++]=t.slice(o,i),o=i+l}while(-1!==(i=t.indexOf(a,o)));s[r++]=t.slice(o)}else s=[t],r=1;else s=t,r=t.length;if(r>1)for(i=0;i+1<r;i++)if("**"===s[i]&&"**"===s[i+1])return;var c,u=this.listenerTree;for(i=0;i<r;i++)if(u=u[c=s[i]]||(u[c]={}),i===r-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(e):u._listeners.push(e),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,m.call(this,u._listeners.length,c))):u._listeners=e,!0;return!0}function N(t,e,n,i){for(var s,r,o,a,l=h(t),c=l.length,u=t._listeners;c-- >0;)s=t[r=l[c]],o="_listeners"===r?n:n?n.concat(r):[r],a=i||"symbol"==typeof r,u&&e.push(a?o:o.join(this.delimiter)),"object"==typeof s&&N.call(this,s,e,o,a);return e}function C(t){for(var e,n,i,s=h(t),r=s.length;r-- >0;)(e=t[n=s[r]])&&(i=!0,"_listeners"===n||C(e)||delete t[n]);return i}function R(t,e,n){this.emitter=t,this.event=e,this.listener=n}function A(t,e,n){if(!0===n)r=!0;else if(!1===n)i=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var i=n.async,r=n.promisify,o=n.nextTick,l=n.objectify}if(i||o||r){var c=e,h=e._origin||e;if(o&&!a)throw Error("process.nextTick is not supported");r===s&&(r="AsyncFunction"===e.constructor.name),e=function(){var t=arguments,e=this,n=this.event;return r?o?Promise.resolve():new Promise((function(t){u(t)})).then((function(){return e.event=n,c.apply(e,t)})):(o?process.nextTick:u)((function(){e.event=n,c.apply(e,t)}))},e._async=!0,e._origin=h}return[e,l?new R(this,t,e):this]}function $(t){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,p.call(this,t)}R.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},$.EventEmitter2=$,$.prototype.listenTo=function(t,e,n){if("object"!=typeof t)throw TypeError("target musts be an object");var i=this;function r(e){if("object"!=typeof e)throw TypeError("events must be an object");var s,r=n.reducers,o=E.call(i,t);s=-1===o?new _(i,t,n):i._observers[o];for(var a,l=h(e),c=l.length,u="function"==typeof r,d=0;d<c;d++)a=l[d],s.subscribe(a,e[a]||a,u?r:r&&r[a])}return n=y(n,{on:s,off:s,reducers:s},{on:w,off:w,reducers:k}),o(e)?r(g(e)):r("string"==typeof e?g(e.split(/\s+/)):e),this},$.prototype.stopListeningTo=function(t,e){var n=this._observers;if(!n)return!1;var i,s=n.length,r=!1;if(t&&"object"!=typeof t)throw TypeError("target should be an object");for(;s-- >0;)i=n[s],t&&i._target!==t||(i.unsubscribe(e),r=!0);return r},$.prototype.delimiter=".",$.prototype.setMaxListeners=function(t){t!==s&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},$.prototype.getMaxListeners=function(){return this._maxListeners},$.prototype.event="",$.prototype.once=function(t,e,n){return this._once(t,e,!1,n)},$.prototype.prependOnceListener=function(t,e,n){return this._once(t,e,!0,n)},$.prototype._once=function(t,e,n,i){return this._many(t,1,e,n,i)},$.prototype.many=function(t,e,n,i){return this._many(t,e,n,!1,i)},$.prototype.prependMany=function(t,e,n,i){return this._many(t,e,n,!0,i)},$.prototype._many=function(t,e,n,i,s){var r=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--e&&r.off(t,o),n.apply(this,arguments)}return o._origin=n,this._on(t,o,i,s)},$.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var t,e,n,i,s,r,o=arguments[0],a=this.wildcard;if("newListener"===o&&!this._newListener&&!this._events.newListener)return!1;if(a&&(t=o,"newListener"!==o&&"removeListener"!==o&&"object"==typeof o)){if(n=o.length,l)for(i=0;i<n;i++)if("symbol"==typeof o[i]){r=!0;break}r||(o=o.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(i=0,n=(c=this._all.slice()).length;i<n;i++)switch(this.event=o,u){case 1:c[i].call(this,o);break;case 2:c[i].call(this,o,arguments[1]);break;case 3:c[i].call(this,o,arguments[1],arguments[2]);break;default:c[i].apply(this,arguments)}if(a)c=[],x.call(this,c,t,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[o])){switch(this.event=o,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(u-1),s=1;s<u;s++)e[s-1]=arguments[s];c.apply(this,e)}return!0}c&&(c=c.slice())}if(c&&c.length){if(u>3)for(e=new Array(u-1),s=1;s<u;s++)e[s-1]=arguments[s];for(i=0,n=c.length;i<n;i++)switch(this.event=o,u){case 1:c[i].call(this);break;case 2:c[i].call(this,arguments[1]);break;case 3:c[i].call(this,arguments[1],arguments[2]);break;default:c[i].apply(this,e)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===o)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},$.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var t,e,n,i,s,r,o=arguments[0],a=this.wildcard;if("newListener"===o&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(a&&(t=o,"newListener"!==o&&"removeListener"!==o&&"object"==typeof o)){if(i=o.length,l)for(s=0;s<i;s++)if("symbol"==typeof o[s]){e=!0;break}e||(o=o.join(this.delimiter))}var c,u=[],h=arguments.length;if(this._all)for(s=0,i=this._all.length;s<i;s++)switch(this.event=o,h){case 1:u.push(this._all[s].call(this,o));break;case 2:u.push(this._all[s].call(this,o,arguments[1]));break;case 3:u.push(this._all[s].call(this,o,arguments[1],arguments[2]));break;default:u.push(this._all[s].apply(this,arguments))}if(a?(c=[],x.call(this,c,t,this.listenerTree,0)):c=this._events[o],"function"==typeof c)switch(this.event=o,h){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(h-1),r=1;r<h;r++)n[r-1]=arguments[r];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),h>3)for(n=new Array(h-1),r=1;r<h;r++)n[r-1]=arguments[r];for(s=0,i=c.length;s<i;s++)switch(this.event=o,h){case 1:u.push(c[s].call(this));break;case 2:u.push(c[s].call(this,arguments[1]));break;case 3:u.push(c[s].call(this,arguments[1],arguments[2]));break;default:u.push(c[s].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===o)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},$.prototype.on=function(t,e,n){return this._on(t,e,!1,n)},$.prototype.prependListener=function(t,e,n){return this._on(t,e,!0,n)},$.prototype.onAny=function(t){return this._onAny(t,!1)},$.prototype.prependAny=function(t){return this._onAny(t,!0)},$.prototype.addListener=$.prototype.on,$.prototype._onAny=function(t,e){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),e?this._all.unshift(t):this._all.push(t),this},$.prototype._on=function(t,e,n,i){if("function"==typeof t)return this._onAny(t,e),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");this._events||d.call(this);var r,o=this;return i!==s&&(e=(r=A.call(this,t,e,i))[0],o=r[1]),this._newListener&&this.emit("newListener",t,e),this.wildcard?(T.call(this,t,e,n),o):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),n?this._events[t].unshift(e):this._events[t].push(e),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,m.call(this,this._events[t].length,t))):this._events[t]=e,o)},$.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var s="string"==typeof t?t.split(this.delimiter):t.slice();if(!(i=x.call(this,null,s,this.listenerTree,0)))return this}else{if(!this._events[t])return this;n=this._events[t],i.push({_listeners:n})}for(var r=0;r<i.length;r++){var a=i[r];if(n=a._listeners,o(n)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===e||n[c].listener&&n[c].listener===e||n[c]._origin&&n[c]._origin===e){l=c;break}if(l<0)continue;return this.wildcard?a._listeners.splice(l,1):this._events[t].splice(l,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[t]),this._removeListener&&this.emit("removeListener",t,e),this}(n===e||n.listener&&n.listener===e||n._origin&&n._origin===e)&&(this.wildcard?delete a._listeners:delete this._events[t],this._removeListener&&this.emit("removeListener",t,e))}return this.listenerTree&&C(this.listenerTree),this},$.prototype.offAny=function(t){var e,n=0,i=0;if(t&&this._all&&this._all.length>0){for(n=0,i=(e=this._all).length;n<i;n++)if(t===e[n])return e.splice(n,1),this._removeListener&&this.emit("removeListenerAny",t),this}else{if(e=this._all,this._removeListener)for(n=0,i=e.length;n<i;n++)this.emit("removeListenerAny",e[n]);this._all=[]}return this},$.prototype.removeListener=$.prototype.off,$.prototype.removeAllListeners=function(t){if(t===s)return!this._events||d.call(this),this;if(this.wildcard){var e,n=x.call(this,null,t,this.listenerTree,0);if(!n)return this;for(e=0;e<n.length;e++)n[e]._listeners=null;this.listenerTree&&C(this.listenerTree)}else this._events&&(this._events[t]=null);return this},$.prototype.listeners=function(t){var e,n,i,r,o,a=this._events;if(t===s){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!a)return[];for(r=(e=h(a)).length,i=[];r-- >0;)"function"==typeof(n=a[e[r]])?i.push(n):i.push.apply(i,n);return i}if(this.wildcard){if(!(o=this.listenerTree))return[];var l=[],c="string"==typeof t?t.split(this.delimiter):t.slice();return x.call(this,l,c,o,0),l}return a&&(n=a[t])?"function"==typeof n?[n]:n:[]},$.prototype.eventNames=function(t){var e=this._events;return this.wildcard?N.call(this,this.listenerTree,[],null,t):e?h(e):[]},$.prototype.listenerCount=function(t){return this.listeners(t).length},$.prototype.hasListeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return x.call(this,e,n,this.listenerTree,0),e.length>0}var i=this._events,r=this._all;return!!(r&&r.length||i&&(t===s?h(i).length:i[t]))},$.prototype.listenersAny=function(){return this._all?this._all:[]},$.prototype.waitFor=function(t,e){var n=this,i=typeof e;return"number"===i?e={timeout:e}:"function"===i&&(e={filter:e}),S((e=y(e,{timeout:0,filter:s,handleError:!1,Promise,overload:!1},{filter:w,Promise:v})).Promise,(function(i,s,r){function o(){var r=e.filter;if(!r||r.apply(n,arguments))if(n.off(t,o),e.handleError){var a=arguments[0];a?s(a):i(f.apply(null,arguments).slice(1))}else i(f.apply(null,arguments))}r((function(){n.off(t,o)})),n._on(t,o,!1)}),{timeout:e.timeout,overload:e.overload})};var O=$.prototype;Object.defineProperties($,{defaultMaxListeners:{get:function(){return O._maxListeners},set:function(t){if("number"!=typeof t||t<0||Number.isNaN(t))throw TypeError("n must be a non-negative number");O._maxListeners=t},enumerable:!0},once:{value:function(t,e,n){return S((n=y(n,{Promise,timeout:0,overload:!1},{Promise:v})).Promise,(function(n,i,s){var r;if("function"==typeof t.addEventListener)return r=function(){n(f.apply(null,arguments))},s((function(){t.removeEventListener(e,r)})),void t.addEventListener(e,r,{once:!0});var o,a=function(){o&&t.removeListener("error",o),n(f.apply(null,arguments))};"error"!==e&&(o=function(n){t.removeListener(e,a),i(n)},t.once("error",o)),s((function(){o&&t.removeListener("error",o),t.removeListener(e,a)})),t.once(e,a)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(O,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(i=function(){return $}.call(e,n,e,t))===s||(t.exports=i)}()},38186:(t,e,n)=>{var i=n(94926);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},58339:(t,e,n)=>{"use strict";n.r(e),n.d(e,{request:()=>_,settings:()=>y,storage:()=>g,type:()=>v});var i=n(58339),s=n(9375),r=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const o={set(t,e){return r(this,void 0,void 0,(function*(){const n={};return n[t]=e,new Promise(((e,i)=>{a(t).set(n,(function(){chrome.runtime.lastError?i(chrome.runtime.lastError):e()}))}))}))},get(t){return r(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{a(t).get(t,(function(i){chrome.runtime.lastError?n(chrome.runtime.lastError):e(i[t])}))}))}))},remove(t){return r(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{a(t).remove(t,(function(){chrome.runtime.lastError?n(chrome.runtime.lastError):e()}))}))}))},list(t="local"){return r(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{"local"===t?chrome.storage.local.get(null,(function(t){e(t)})):chrome.storage.sync.get(null,(function(t){e(t)}))}))}))},addStyle(t){return r(this,void 0,void 0,(function*(){try{const e=document.createElement("style");e.textContent=t,(document.head||document.body||document.documentElement||document).appendChild(e)}catch(t){console.log(`Could not add css:${t}`)}}))},version:()=>chrome.runtime.getManifest().version,lang(t,e){if(i.settings.get("forceEn")&&"undefined"!=typeof i18n){let n=i18n[t];if(void 0!==e)for(let t=0;t<e.length;t++)n=n.replace(`$${t+1}`,e[t]);return n}return chrome.i18n.getMessage(t,e)},assetUrl:t=>chrome.extension.getURL(`assets/${t}`),injectCssResource(t,e){alert("injectCssResource not supported in webextension")},injectjsResource(t,e){const n=document.createElement("script");n.src=chrome.extension.getURL(`vendor/${t}`),n.onload=function(){this.remove()},e.get(0).appendChild(n)},updateDom(t){const e=document.createElement("script");e.text="\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }",e.onload=function(){this.remove()},t.get(0).appendChild(e)},storageOnChanged(t){chrome.storage.onChanged.addListener(t)}};function a(t){return s.syncRegex.test(t)?chrome.storage.sync:chrome.storage.local}var l=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const c={xhr(t,e){return l(this,void 0,void 0,(function*(){if(void 0!==c.sendMessage)return c.sendMessage({name:"xhr",method:t,url:e}).then((t=>{if(429===t.status)throw"Rate limit Timeout";return t}));throw"Could not send xhr"}))},sendMessage(t){return l(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{chrome.runtime.sendMessage(t,(function(t){e(t)}))}))}))},notification(t){this.sendMessage({name:"notification",options:t})},database(t,e){return this.sendMessage({name:"database",options:{call:t,param:e}})}};var u=n(2262),h=n(58339),d=n(9e4),p=n(9375),m=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const f={options:(0,u.qj)({autoTrackingModeanime:"video",readerTracking:!0,autoTrackingModemanga:"instant",enablePages:{},forceEn:!1,rpc:!0,presenceLargeImage:"cover",presenceShowButtons:!0,presenceShowMalsync:!1,userscriptModeButton:!1,syncMode:"MAL",syncModeSimkl:"MAL",localSync:!0,delay:0,videoDuration:85,malTags:!1,malContinue:!0,malResume:!0,usedPage:!0,epPredictions:!0,theme:"auto",themeSidebars:!0,themeColor:"#000000",themeOpacity:100,themeImage:"",minimalWindow:!1,posLeft:"left",miniMALonMal:!1,floatButtonStealth:!1,minimizeBigPopup:!1,floatButtonCorrection:!0,floatButtonHide:!1,autoCloseMinimal:!1,outWay:!0,miniMalWidth:"550px",miniMalHeight:"90%",malThumbnail:100,friendScore:!0,loadPTWForProgress:!1,quicklinks:["9anime","Crunchyroll","Gogoanime","Twistmoe","Mangadex","MangaNato","MangaFox","MangaSee","YugenAnime","Zoro","Funimation","Hulu","Netflix","Hidive","Vrv","VIZ","MangaPlus","MangaReader","marin","ComicK"],quicklinksPosition:"default",autofull:!1,autoresume:!1,autoNextEp:!1,highlightAllEp:!1,checkForFiller:!0,crashReport:!0,introSkip:85,introSkipFwd:[17,39],introSkipBwd:[17,37],nextEpShort:[],correctionShort:[67],syncShort:[],progressInterval:120,progressIntervalDefaultAnime:"en/sub",progressIntervalDefaultManga:"en/sub",progressNotificationsAnime:!0,progressNotificationsManga:!0,bookMarksList:!1,customDomains:[],anilistUpdateUi:!0,anilistToken:"",anilistOptions:{displayAdultContent:!0,scoreFormat:"POINT_10"},kitsuToken:"",kitsuOptions:{titleLanguagePreference:"canonical",sfwFilter:!1,ratingSystem:"regular"},simklToken:"",malToken:"",malRefresh:"",shikiToken:"",shikiOptions:{locale:"ru"}}),debounceArray:{},isInit:(0,u.iH)(!1),init(){return m(this,void 0,void 0,(function*(){const t=[];for(const e in this.options){const n=yield h.storage.get(`settings/${e}`);void 0!==n&&(this.options[e]=n,t[e]=/(token|refresh)/i.test(e)&&n?"********":n)}let e;return d.log("Settings",t),h.storage.storageOnChanged(((t,n)=>{if("sync"===n)for(const e in t){const n=t[e];/^settings\//i.test(e)&&(this.options[e.replace("settings/","")]=n.newValue,d.info(`Update ${e} option to ${n.newValue}`))}if("local"===n&&t.rateLimit)try{clearTimeout(e),t.rateLimit.newValue?(d.log("Rate limited"),$(".type-rate").length||p.flashm("Rate limited. Retrying in a moment",{error:!0,type:"rate",permanent:!0})):e=setTimeout((()=>{d.log("No Rate limited"),$(".type-rate").remove()}),5e3)}catch(t){d.error(t)}})),this.isInit.value=!0,this}))},get(t){if(!this.isInit.value)throw"Settings not initialized";return this.options[t]},set(t,e){if(!Object.prototype.hasOwnProperty.call(this.options,t)){const e=Error(`${t} is not a defined option`);throw d.error(e),e}return this.options[t]=e,h.storage.set(`settings/${t}`,e)},setDebounce(t,e){this.options[t]=e,clearTimeout(this.debounceArray[t]),this.debounceArray[t]=setTimeout((()=>{this.set(t,e),delete this.debounceArray[t]}),1e3)},getAsync(t){return m(this,void 0,void 0,(function*(){const e=yield h.storage.get(`settings/${t}`);return void 0===e&&void 0!==this.options[t]?this.options[t]:e}))}},g=o,_=c,y=f,v="webextension"},9e4:(t,e,n)=>{"use strict";n.r(e),n.d(e,{debug:()=>o,error:()=>s,info:()=>r,log:()=>i,m:()=>a});const i=Function.prototype.bind.call(console.log,console,"%cMAL-Sync","background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;"),s=Function.prototype.bind.call(console.error,console,"%cMAL-Sync","background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;"),r=Function.prototype.bind.call(console.info,console,"%cMAL-Sync","background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;"),o=Function.prototype.bind.call(console.debug,console,"%cMAL-Sync","background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;"),a=(t,e="",n=[])=>{let i="white";e||(e=function(t){if(!t)return"#ffffff";t=String(t);let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);let n="#";for(let t=0;t<3;t++)n+=`00${(e>>8*t&255).toString(16)}`.substr(-2);return n}(t)),"#"===e[0]&&(i=parseInt(e.replace("#",""),16)>8388607.5?"#000":"#fff");const s=`background-color: ${e}; color: ${i}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;n.push({name:t,style:s});const r={m:(t,e="")=>a(t,e,[...n])},o=n.reduce(((t,e)=>`${t}%c${e.name}`),""),l=n.map((t=>t.style));return r.log=Function.prototype.bind.call(console.log,console,`%cM ${o}`,"background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;",...l),r.error=Function.prototype.bind.call(console.error,console,`%cM ${o}`,"background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;",...l),r.info=Function.prototype.bind.call(console.info,console,`%cM ${o}`,"background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;",...l),r.debug=Function.prototype.bind.call(console.debug,console,`%cM ${o}`,"background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;",...l),r}},9375:(t,e,n)=>{"use strict";n.r(e),n.d(e,{absoluteLink:()=>w,canHideTabs:()=>G,changeDetect:()=>x,checkDoubleExecution:()=>R,clearCache:()=>ot,elementInViewport:()=>Z,episode:()=>g,favicon:()=>p,flashConfirm:()=>V,flashm:()=>Y,fullUrlChangeDetect:()=>E,generateUniqueID:()=>d,getAsyncWaitUntilTrue:()=>N,getBaseText:()=>h,getContinueWaching:()=>D,getEntrySettings:()=>M,getResumeWaching:()=>P,getStatusText:()=>H,getTooltip:()=>B,getUrlFromTags:()=>A,getselect:()=>b,handleMalImages:()=>j,htmlDecode:()=>nt,isDomainMatching:()=>lt,isFirefox:()=>it,lazyload:()=>X,makeDomainCompatible:()=>rt,notifications:()=>z,pageUrl:()=>tt,parseHtml:()=>k,planTo:()=>f,rateLimitExclude:()=>y,returnYYYYMMDD:()=>et,setContinueWaching:()=>L,setEntrySettings:()=>U,setResumeWaching:()=>I,setUrlInTags:()=>O,sortAlphabetically:()=>at,status:()=>v,statusTag:()=>W,syncRegex:()=>_,timeCache:()=>q,timeDiffToText:()=>F,upperCaseFirstLetter:()=>ct,urlChangeDetect:()=>S,urlParam:()=>u,urlPart:()=>l,urlStrip:()=>c,wait:()=>Q,waitForPageToBeVisible:()=>st,waitUntilTrue:()=>T,watching:()=>m});var i=n(19947),s=n(58339),r=n(9e4),o=n(9375),a=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};function l(t,e){if(!t)return"";const n=t.split("/");return n[e]?n[e].replace(/[#?].*/,""):""}function c(t){return t.replace(/[#?].*/,"")}function u(t,e){const n=new RegExp(`[?&]${e}=([^&#]*)`).exec(t);return null===n?null:decodeURI(n[1])||0}function h(t){let e=t.text();return t.children().each((function(){e=e.replace(i.$(this).text(),"")})),e}function d(t=10){const e=new Uint32Array(t);return window.crypto.getRandomValues(e),Array.from(e,(t=>t.toString(16))).join("")}function p(t){if(!t)return"";const e=t.match(/^(https?:\/\/)?[^/]+/);return e&&(t=e[0]),`https://favicon.malsync.moe/?domain=${t}`}function m(t){return"manga"===t?"Reading":"Watching"}function f(t){return"manga"===t?"Plan to Read":"Plan to Watch"}function g(t){return"manga"===t?s.storage.lang("UI_Chapter"):s.storage.lang("UI_Episode")}const _=/(^settings\/.*|^updateCheckTime$|^tempVersion$|^local:\/\/|^list-tagSettings$)/,y=/^https:\/\/api.malsync.moe\/(shark|mal\/|nc\/mal\/.*\/progress$)/i;var v;function b(t,e){let n=t.split(`name="${e}"`)[1].split("</select>")[0];if(n.indexOf('selected="selected"')>-1){n=n.split("<option");for(let t=0;t<n.length;++t)if(n[t].indexOf('selected="selected"')>-1)return n[t].split('value="')[1].split('"')[0]}return""}function w(t,e){return void 0===t||t.startsWith("http")||("/"!==t.charAt(0)&&(t=`/${t}`),t=e+t),t}function k(t){return(new DOMParser).parseFromString(`<!doctype html><body>${t}`,"text/html").body.textContent}function S(t){let e=window.location.href;return setInterval((function(){e!==window.location.href&&(e=window.location.href,t())}),100)}function E(t,e=!1){let n="";const i=setInterval((function(){const i=e?c(window.location.href):window.location.href;n!==i&&(n=i,t())}),100);return Number(i)}function x(t,e,n=!1){let i=e();const s=setInterval((function(){const n=e();void 0!==n&&i!==n&&(i=e(),t())}),500);return n&&t(),Number(s)}function T(t,e,n=100){const i=setInterval((function(){t()&&(clearInterval(i),e())}),n);return i}function N(t,e=100){let n,i;const s=()=>{clearTimeout(n),i&&i("AsyncWait stopped")};return{asyncWaitUntilTrue:()=>(s(),new Promise(((s,r)=>{i=r,n=T(t,(()=>s()),e)}))),reset:s}}!function(t){t[t.watching=1]="watching",t[t.completed=2]="completed",t[t.onhold=3]="onhold",t[t.dropped=4]="dropped",t[t.planToWatch=6]="planToWatch"}(v||(v={}));const C=Math.random();function R(){$(".mal-sync-double-detect").length&&$(".mal-sync-double-detect").each((function(t){$(this).text()!==C.toString()&&alert("Double execution detected! Please run MAL-Sync once only.")})),$("body").after(i.html(`<div class="mal-sync-double-detect" style="display: none;">${C.toString()}</div>`))}function A(t){return/malSync::[\d\D]+::/.test(t)?e(t.split("malSync::")[1].split("::")[0]):/last::[\d\D]+::/.test(t)?e(t.split("last::")[1].split("::")[0]):void 0;function e(t){try{return atob(t)}catch(e){return t}}}function O(t,e){if(""===t)return e.replace(/,?(malSync|last)::[^ \n]+?::/,"");if(!s.settings.get("malTags"))return e;const n=`malSync::${btoa(t)}::`;return/(last|malSync)::[\d\D]+::/.test(e)?e.replace(/(last|malSync)::[^^]*?::/,n):`${e},${n}`}function I(t,e,n,i){return a(this,void 0,void 0,(function*(){return s.storage.set(`resume/${n}/${i}`,{url:t,ep:e})}))}function P(t,e){return a(this,void 0,void 0,(function*(){if(s.settings.get("malResume"))return s.storage.get(`resume/${t}/${e}`)}))}function L(t,e,n,i){return a(this,void 0,void 0,(function*(){return s.storage.set(`continue/${n}/${i}`,{url:t,ep:e})}))}function D(t,e){return a(this,void 0,void 0,(function*(){if(s.settings.get("malContinue"))return s.storage.get(`continue/${t}/${e}`)}))}function U(t,e,n,i=""){return a(this,void 0,void 0,(function*(){const r={};if(n){for(const t in n)switch(t){case"u":case"p":r[t]=n[t]}s.settings.get("malTags")?i=O(JSON.stringify(r),i):yield s.storage.set(`tagSettings/${t}/${e}`,JSON.stringify(r))}return Object.values(r).find((t=>Boolean(t)))||(i=O("",i),s.settings.get("malTags")||(yield s.storage.remove(`tagSettings/${t}/${e}`))),i}))}function M(t,e,n=""){return a(this,void 0,void 0,(function*(){const i={u:null,c:null,r:null,p:""};if(s.settings.get("malTags")){const t=A(n);if(t)if("{"===t[0])try{const e=JSON.parse(t);for(const t in i)e[t]&&(i[t]=e[t])}catch(t){r.error(t)}else i.u=t}else{let n=yield s.storage.get(`tagSettings/${t}/${e}`);if(n){n=JSON.parse(n);for(const t in i)n[t]&&(i[t]=n[t])}}const o=yield D(t,e);o&&(i.c=o);const a=yield P(t,e);return a&&(i.r=a),s.settings.get("usedPage")||(i.u=null),i}))}function j(t){return-1!==t.indexOf("questionmark")?s.storage.assetUrl("questionmark.gif"):t}function B(t,e="",n="top"){const i=Math.floor(1e3*Math.random()+1);return`<div id="tt${i}" class="icon material-icons" style="font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${e}">contact_support</div>  <div class="mdl-tooltip mdl-tooltip--${n} mdl-tooltip--large" for="tt${i}">${t}</div>`}function F(t){let e="";t/=1e3;const n=Math.floor(t/31536e3);t-=31536e3*n,n&&(e+=`${n}y `);const i=Math.floor(t/86400);t-=86400*i,i&&(e+=`${i}d `);const s=Math.floor(t/3600)%24;t-=3600*s,s&&i<2&&(e+=`${s}h `);const r=Math.floor(t/60)%60;return t-=60*r,r&&!i&&s<3&&(e+=`${r}min `),e}function G(){return"undefined"!=typeof browser&&void 0!==browser.tabs.hide}function W(t,e,n){const i={anime:{1:{class:"watching",text:"CW",title:s.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:s.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:s.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:s.storage.lang("UI_Status_Dropped")},6:{class:"plantowatch",text:"PTW",title:s.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:s.storage.lang(`UI_Status_Rewatching_${e}`)}},manga:{1:{class:"reading",text:"CR",title:s.storage.lang(`UI_Status_watching_${e}`)},2:{class:"completed",text:"CMPL",title:s.storage.lang("UI_Status_Completed")},3:{class:"on-hold",text:"HOLD",title:s.storage.lang("UI_Status_OnHold")},4:{class:"dropped",text:"DROP",title:s.storage.lang("UI_Status_Dropped")},6:{class:"plantoread",text:"PTR",title:s.storage.lang(`UI_Status_planTo_${e}`)},23:{class:"rewatching",text:"RE",title:s.storage.lang(`UI_Status_Rewatching_${e}`)}}};if($.each([1,2,3,4,6,23],(function(t,e){i.anime[i.anime[e].title]=i.anime[e],i.manga[i.manga[e].title]=i.manga[e]})),t&&i[e][t]){const s=i[e][t];return` <a href="https://myanimelist.net/ownlist/${e}/${n}/edit?hideLayout=1" title="${s.title}" class="Lightbox_AddEdit button_edit ${s.class}">${s.text}</a>`}return!1}function H(t,e){switch(e){case 1:return s.storage.lang(`UI_Status_watching_${t}`);case 2:return s.storage.lang("UI_Status_Completed");case 3:return s.storage.lang("UI_Status_OnHold");case 4:return s.storage.lang("UI_Status_Dropped");case 6:return s.storage.lang(`UI_Status_planTo_${t}`);case 7:return s.storage.lang("UI_Status_All");case 23:return s.storage.lang(`UI_Status_Rewatching_${t}`);default:return""}}function z(t,e,n,i=""){const o={type:"basic",title:e,message:n,iconUrl:i};r.log("Notification",t,o),s.storage.get("notificationHistory").then((e=>{void 0===e&&(e=[]),"object"==typeof e&&(e.length>=10&&e.shift(),e.push({url:t,title:o.title,message:o.message,iconUrl:o.iconUrl,timestamp:Date.now()}),s.storage.set("notificationHistory",e))}));try{return chrome.notifications.create(t,o)}catch(t){r.error(t)}}function q(t,e,n){return a(this,void 0,void 0,(function*(){const i=yield s.storage.get(t);if("object"==typeof i&&(new Date).getTime()<i.timestamp)return i.data;const r=yield e();return s.storage.set(t,{data:r,timestamp:(new Date).getTime()+n}).then((()=>r))}))}function Y(t,e){i.$("#flash-div-top").length||function(){s.storage.addStyle('.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: "Helvetica","Arial",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }');let t="";s.settings.get("floatButtonStealth")&&(t="mini-stealth"),i.$("body").after(i.html(`<div id="flash-div-top" style="text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;"></div>        <div id="flash-div-bottom" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;"><div id="flash" style="display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);"></div></div>        <div id="flashinfo-div" class="${t}" style="text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;">`))}(),r.log("[Flash] Message:",t);let n="#323232";void 0!==e&&void 0!==e.error&&e.error&&(n="#3e0808");let o="#flash-div-bottom";void 0!==e&&void 0!==e.position&&e.position&&(o=`#flash-div-${e.position}`);let a="flash";if(void 0!==e&&void 0!==e.type&&e.type){const t=`type-${e.type}`;i.$(`${o} .${t}, #flashinfo-div .${t}`).removeClass(t).fadeOut({duration:1e3,queue:!1,complete(){i.$(this).remove()}}),a+=` ${t}`}let l,c=`<div class="${a}" style="display:none;">        <div style="display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; ">          ${t}        </div>      </div>`;return void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?(a+=" flashinfo",c=`<div class="${a}" style="display:none; max-height: 5000px; overflow: hidden;"><div style="display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${n}; position: relative;"><div style="max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;">${t}</div></div></div>`,i.$("#flashinfo-div").addClass("hover"),l=i.$(i.html(c)).appendTo("#flashinfo-div"),void 0!==e&&void 0!==e.minimized&&e.minimized&&l.css("max-height","8px")):l=i.$(i.html(c)).appendTo(o),void 0!==e&&void 0!==e.permanent&&e.permanent?l.slideDown(800):void 0!==e&&void 0!==e.hoverInfo&&e.hoverInfo?l.slideDown(800).delay(4e3).queue((function(){i.$("#flashinfo-div").removeClass("hover"),l.css("max-height","8px")})):l.slideDown(800).delay(4e3).slideUp(800,(()=>{i.$(this).remove()})),l}function V(t,e,n=(()=>{}),r=(()=>{}),o=!1){return a(this,void 0,void 0,(function*(){return new Promise((function(a,l){let c=s.storage.lang("Ok"),u=s.storage.lang("Cancel");o&&(c=s.storage.lang("Yes"),u=s.storage.lang("No"));const h=Y(t=`<div style="text-align: center;">${t}</div><div style="display: flex; justify-content: space-around;"><button class="Yes" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${c}</button><button class="Cancel" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;">${u}</button></div>`,{permanent:!0,position:"top",type:e});h.find(".Yes").click((function(t){a(!0),i.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){i.$(this).remove()})),n()})),h.find(".Cancel").click((function(t){a(!1),i.$(t.target).parentsUntil(".flash").fadeOut(300,(function(){i.$(this).remove()})),r()}))}))}))}let K=!1,J=[];function X(t,e=".mdl-layout__content"){function n(t,e){if(!i.$(t).is(":visible"))return!1;if(i.$(t).hasClass("lazyBack"))i.$(t).css("background-image",`url(${t.getAttribute("data-src")})`).removeClass("lazyBack");else{const n=new Image,i=t.getAttribute("data-src");n.onload=function(){t.parent?t.parent.replaceChild(n,t):t.src=i,e&&e()},n.src=i}}for(let t=0;t<J.length;t++)$(J[t]).addClass("init");J=[];const s=t.find("img.lazy.init, .lazyBack.init"),r=function(){for(let t=0;t<J.length;t++)o.elementInViewport(J[t],600)&&n(J[t],(function(){J.splice(t,t)})),$(J[t]).length||J.splice(t,t)};for(let t=0;t<s.length;t++)J.push(s[t]),$(s[t]).removeClass("init");r(),K||(K=!0,t.find(e).scroll((function(){r()})))}function Z(t,e=0){const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top-e<=(window.innerHeight||document.documentElement.clientHeight)}function Q(t){return new Promise((e=>{setTimeout(e,t)}))}function tt(t,e,n){switch(t){case"mal":return`https://myanimelist.net/${e}/${n}`;case"anilist":return`https://anilist.co/${e}/${n}`;case"kitsu":return`https://kitsu.io/${e}/${n}`;case"simkl":return`https://simkl.com/${e}/${n}`;default:throw`${t} not a valid page`}}function et(t=0){const e=new Date;e.setDate(e.getDate()+t);const n=e.getMonth()<9?`0${e.getMonth()+1}`:e.getMonth()+1,i=e.getDate()<10?`0${e.getDate()}`:e.getDate();return`${e.getFullYear()}-${n}-${i}`}function nt(t){return $("<textarea/>").html(i.html(t)).text()}function it(){return Boolean("undefined"!=typeof browser&&"undefined"!=typeof chrome)}function st(){const t=()=>Boolean(!document.visibilityState||"visible"===document.visibilityState);if(t())return Promise.resolve();r.log("Page in background");const{asyncWaitUntilTrue:e}=N((()=>t()));return e().then((()=>{r.log("Page is visible")}))}function rt(t){return t.split("/").length<4&&(t+="/"),t.replace(/\?.*/,"?")}function ot(){return a(this,void 0,void 0,(function*(){const t=yield s.storage.list();let e=0;i.$.each(t,(function(t,n){o.syncRegex.test(String(t))||/(^tagSettings\/.*)/.test(String(t))||(s.storage.remove(String(t)),e++)})),o.flashm(`Cache Cleared [${e}]`)}))}function at(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0}function lt(t,e){const n=new URL(t),{host:i}=n;return i===e||i.endsWith(`.${e}`)}function ct(t){return!t||t.length<2?t:t.charAt(0).toUpperCase()+t.slice(1)}},19947:(t,e,n)=>{"use strict";n.r(e),n.d(e,{$:()=>s,html:()=>r});var i=n(27856);const s=jQuery;function r(t){return i.sanitize(t,{SAFE_FOR_JQUERY:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["target"]})}},83744:(t,e)=>{"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,i]of e)n[t]=i;return n}},16245:t=>{"use strict";t.exports=JSON.parse('[{"name":"9anime","domain":"https://9anime.to","database":"9anime","search":{"anime":"https://9anime.to/filter?keyword={searchtermPlus}","manga":null}},{"name":"Crunchyroll","domain":"https://www.crunchyroll.com","database":"Crunchyroll","search":{"anime":"https://www.crunchyroll.com/search?q={searchtermPlus}","manga":null}},{"name":"Vrv","domain":"https://vrv.co","database":"Vrv","search":{"anime":"https://vrv.co/?q={searchterm}","manga":null}},{"name":"Mangadex","domain":"https://www.mangadex.org","database":"Mangadex","search":{"anime":null,"manga":"https://mangadex.org/titles?q={searchterm}"}},{"name":"Gogoanime","domain":"https://gogoanime.tv","database":"Gogoanime","search":{"anime":"https://www1.gogoanime.ai/search.html?keyword={searchterm}","manga":null}},{"name":"Twistmoe","domain":"https://twist.moe","database":"Twistmoe","search":{"anime":"home","manga":null}},{"name":"TurkAnime","domain":"https://www.turkanime.co","database":null,"search":{"anime":"home","manga":null}},{"name":"animepahe","domain":"https://animepahe.com","database":"animepahe","search":{"anime":"home","manga":null}},{"name":"Netflix","domain":"https://www.netflix.com","database":"Netflix","search":{"anime":"https://www.netflix.com/search?q={searchterm}","manga":null}},{"name":"Animeflv","domain":"https://animeflv.net","database":null,"search":{"anime":"https://www3.animeflv.net/browse?q={searchtermPlus}","manga":null}},{"name":"Jkanime","domain":"https://jkanime.net","database":null,"search":{"anime":"https://jkanime.net/buscar/{searchterm}","manga":null}},{"name":"Proxer","domain":"https://proxer.me","database":null,"search":{"anime":"https://proxer.me/search?s=search&name={searchterm}&typ=all-anime&tags=&notags=#top","manga":"https://proxer.me/search?s=search&name={searchterm}&typ=all-manga&tags=&notags=#top"}},{"name":"Wakanim","domain":"https://www.wakanim.tv","database":null,"search":{"anime":"https://www.wakanim.tv/de/v2/catalogue/search?search={searchterm}","manga":null}},{"name":"Emby","domain":"http://app.emby.media","database":null,"search":{"anime":"home","manga":null}},{"name":"Plex","domain":"http://app.plex.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"Aniflix","domain":"https://www1.aniflix.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"KickAssAnime","domain":"https://www.kickassanime.ro","database":null,"search":{"anime":"https://www2.kickassanime.ro/search?q={searchterm}","manga":null}},{"name":"Shinden","domain":"https://shinden.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"Voiranime","domain":"https://voiranime.com","database":null,"search":{"anime":"https://voiranime.com/?s={searchtermPlus}","manga":null}},{"name":"MangaNato","domain":"https://manganato.com","database":"MangaNato","search":{"anime":null,"manga":"https://manganato.com/search/story/{searchterm(_)[noSpecial]}"}},{"name":"VIZ","domain":"https://www.viz.com","database":"VIZ","search":{"anime":null,"manga":"https://www.viz.com/search?search={searchtermPlus}"}},{"name":"NekoSama","domain":"https://neko-sama.fr","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeOdcinki","domain":"https://anime-odcinki.pl","database":null,"search":{"anime":"https://anime-odcinki.pl/szukaj/{searchtermPlus}","manga":null}},{"name":"AnimeZone","domain":"https://www.animezone.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"serimanga","domain":"https://serimanga.com","database":null,"search":{"anime":null,"manga":"https://serimanga.com/mangalar?search={searchtermPlus}"}},{"name":"mangadenizi","domain":"https://mangadenizi.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"moeclip","domain":"https://moeclip.com","database":null,"search":{"anime":"https://moeclip.com/search/{searchtermPlus}","manga":null}},{"name":"mangalivre","domain":"https://mangalivre.net","database":null,"search":{"anime":null,"manga":"home"}},{"name":"tmofans","domain":"https://lectortmo.com","database":null,"search":{"anime":null,"manga":"https://lectortmo.com/library?_pg=1&title={searchtermPlus}"}},{"name":"unionmangas","domain":"https://unionleitor.top","database":null,"search":{"anime":null,"manga":"home"}},{"name":"MangaPlus","domain":"https://mangaplus.shueisha.co.jp","database":"MangaPlus","search":{"anime":null,"manga":"https://mangaplus.shueisha.co.jp/search_result?keyword={searchterm}"}},{"name":"JapScan","domain":"https://www.japscan.ws","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Goyabu","domain":"https://goyabu.com","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimesVision","domain":"https://animes.vision","database":null,"search":{"anime":"home","manga":null}},{"name":"Hulu","domain":"https://www.hulu.com","database":"Hulu","search":{"anime":"home","manga":null}},{"name":"Hidive","domain":"https://www.hidive.com","database":"Hidive","search":{"anime":"https://www.hidive.com/search?q={searchtermPlus}","manga":null}},{"name":"FallenAngels","domain":"https://manga.fascans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Amazon Prime Video","domain":"https://www.primevideo.com","database":null,"search":{"anime":"home","manga":null}},{"name":"MangaKatana","domain":"http://mangakatana.com","database":null,"search":{"anime":null,"manga":"http://mangakatana.com/?search={searchtermPlus}&search_by=book_name"}},{"name":"manga4life","domain":"https://manga4life.com","database":null,"search":{"anime":null,"manga":"https://manga4life.com/search/?name={searchterm}"}},{"name":"bato","domain":"https://bato.to","database":null,"search":{"anime":null,"manga":"https://bato.to/search?word={searchtermPlus}"}},{"name":"MangaPark","domain":"https://mangapark.net","database":null,"search":{"anime":null,"manga":"https://mangapark.net/search?word={searchterm}"}},{"name":"AnimesHouse","domain":"https://animeshouse.net","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeXin","domain":"https://animexinax.com","database":null,"search":{"anime":"https://animexinax.com/?s={searchtermPlus}","manga":null}},{"name":"MonosChinos","domain":"https://monoschinos2.com","database":null,"search":{"anime":"https://monoschinos2.com/buscar?q={searchtermPlus}","manga":null}},{"name":"AnimeFire","domain":"https://animefire.net","database":null,"search":{"anime":"home","manga":null}},{"name":"OtakuFR","domain":"https://otakufr.co","database":null,"search":{"anime":"https://otakufr.co/toute-la-liste-affiches/?q={searchtermPlus}","manga":null}},{"name":"Samehadaku","domain":"https://samehadaku.vip","database":null,"search":{"anime":"https://samehadaku.vip/?s={searchtermPlus}","manga":null}},{"name":"Tsuki Mangás","domain":"https://www.tsukimangas.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"mangatx","domain":"https://mangatx.com","database":null,"search":{"anime":null,"manga":"https://mangatx.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"name":"manhuafast","domain":"https://manhuafast.com","database":null,"search":{"anime":null,"manga":"https://manhuafast.com/?s={searchtermPlus}&post_type=wp-manga&post_type=wp-manga"}},{"name":"TRanimeizle","domain":"https://www.tranimeizle.net/","database":null,"search":{"anime":"home","manga":null}},{"name":"Anihub","domain":"https://anihub.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeStreamingFR","domain":"https://beta.animestreamingfr.fr","database":null,"search":{"anime":"https://beta.animestreamingfr.fr/catalogue/search?query={searchtermPlus}","manga":null}},{"name":"Scantrad","domain":"https://scantrad.net","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Furyosquad","domain":"https://furyosquad.com/","database":null,"search":{"anime":null,"manga":"home"}},{"name":"AnimeId","domain":"https://www.animeid.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"MyAnimeList","domain":"https://myanimelist.net","database":null,"search":{"anime":"https://myanimelist.net/anime.php?q={searchterm}","manga":"https://myanimelist.net/manga.php?q={searchterm}"}},{"name":"AnimeUnity","domain":"https://animeunity.it","database":null,"search":{"anime":"home","manga":null}},{"name":"MangaHere","domain":"http://www.mangahere.cc","database":null,"search":{"anime":null,"manga":"http://www.mangahere.cc/search?title={searchtermPlus}"}},{"name":"MangaFox","domain":"http://fanfox.net","database":"MangaFox","search":{"anime":null,"manga":"http://fanfox.net/search?title={searchtermPlus}"}},{"name":"YayAnimes","domain":"https://yayanimes.net","database":null,"search":{"anime":"https://yayanimes.net/?s={searchtermPlus}","manga":null}},{"name":"DesuOnline","domain":"https://desu-online.pl","database":null,"search":{"anime":"https://desu-online.pl/?s={searchtermPlus}","manga":null}},{"name":"Simplyaweeb","domain":"https://simplyaweeb.to","database":null,"search":{"anime":"home","manga":null}},{"name":"WuxiaWorld","domain":"https://wuxiaworld.site","database":null,"search":{"anime":null,"manga":"https://wuxiaworld.site/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"LeviatanScans","domain":"https://en.leviatanscans.com","database":null,"search":{"anime":null,"manga":"https://en.leviatanscans.com/?s={searchtermPlus}"}},{"name":"ReaperScans","domain":"https://reaperscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"LynxScans","domain":"https://lynxscans.com","database":null,"search":{"anime":null,"manga":"https://lynxscans.com/comics?query={searchtermPlus}"}},{"name":"SKScans","domain":"https://skscans.com","database":null,"search":{"anime":null,"manga":"https://skscans.com/?s={searchtermPlus}"}},{"name":"ZeroScans","domain":"https://zeroscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"DeathTollScans","domain":"https://reader.deathtollscans.net","database":null,"search":{"anime":null,"manga":"home"}},{"name":"SenseScans","domain":"https://sensescans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"ManhuaPlus","domain":"https://manhuaplus.com","database":null,"search":{"anime":null,"manga":"https://manhuaplus.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Readm","domain":"https://readm.org","database":null,"search":{"anime":null,"manga":"home"}},{"name":"tioanime","domain":"https://tioanime.com","database":null,"search":{"anime":"https://tioanime.com/directorio?q={searchtermPlus}","manga":null}},{"name":"YugenAnime","domain":"https://yugen.to","database":"YugenAnime","search":{"anime":"https://yugen.to/search/?q={searchtermPlus}","manga":null}},{"name":"MangaSee","domain":"https://mangasee123.com","database":"MangaSee","search":{"anime":null,"manga":"https://mangasee123.com/search/?name={searchterm}"}},{"name":"AnimeTribes","domain":"https://animetribes.ru","database":null,"search":{"anime":"home","manga":null}},{"name":"Okanime","domain":"https://okanime.tv","database":null,"search":{"anime":"https://okanime.tv/search?search={searchtermPlus}","manga":null}},{"name":"bs.to","domain":"https://bs.to","database":null,"search":{"anime":"home","manga":null}},{"name":"AsuraScans","domain":"https://asura.gg","database":null,"search":{"anime":null,"manga":"https://www.asurascans.com/?s={searchtermPlus}"}},{"name":"NaniScans","domain":"https://naniscans.com","database":null,"search":{"anime":null,"manga":"home"}},{"name":"Jellyfin","domain":"https://jellyfin.org/","database":null,"search":{"anime":"home","manga":null}},{"name":"An1me","domain":"https://an1me.nl","database":null,"search":{"anime":"https://an1me.nl/?s={searchtermPlus}&post_type=wp-manga","manga":null}},{"name":"MangaJar","domain":"https://mangajar.com","database":null,"search":{"anime":null,"manga":"https://mangajar.com/search?q={searchtermPlus}"}},{"name":"AnimeDao","domain":"https://animedao.to","database":null,"search":{"anime":"https://animedao.to/search/?search={searchtermPlus}","manga":null}},{"name":"Otakustv","domain":"https://www.otakustv.com","database":null,"search":{"anime":"https://www.otakustv.com/buscador.php?buscador={searchterm}","manga":null}},{"name":"Komga","domain":"https://komga.org","database":null,"search":{"anime":null,"manga":"home"}},{"name":"AnimeWho","domain":"https://animewho.com","database":null,"search":{"anime":"home","manga":null}},{"name":"AnimeSuge","domain":"https://animesuge.to","database":null,"search":{"anime":"home","manga":null}},{"name":"Toonily","domain":"https://toonily.net","database":null,"search":{"anime":null,"manga":"https://toonily.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Fumetsu","domain":"https://fumetsu.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"NonstopScans","domain":"https://www.nonstopscans.com","database":null,"search":{"anime":null,"manga":"https://www.nonstopscans.com/?s={searchtermPlus}"}},{"name":"FrixySubs","domain":"https://frixysubs.pl","database":null,"search":{"anime":"home","manga":null}},{"name":"Guya & Cubari","domain":"https://guya.moe","database":null,"search":{"anime":null,"manga":"home"}},{"name":"MangaHub","domain":"https://mangahub.io","database":null,"search":{"anime":null,"manga":"https://mangahub.io/search?q={searchterm}"}},{"name":"ComicK","domain":"https://comick.app","database":"Comick","search":{"anime":null,"manga":"https://comick.app/search?q={searchterm}"}},{"name":"Japanread","domain":"https://www.japanread.cc/","database":null,"search":{"anime":null,"manga":"https://www.japanread.cc/manga-list?q={searchterm}"}},{"name":"Bentomanga","domain":"https://www.bentomanga.com","database":null,"search":{"anime":null,"manga":"https://www.bentomanga.com/manga_list?search={searchterm}"}},{"name":"MangaSushi","domain":"https://mangasushi.net","database":null,"search":{"anime":null,"manga":"https://mangasushi.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"HunlightScans","domain":"https://hunlight-scans.info/","database":null,"search":{"anime":null,"manga":"https://hunlight-scans.info/comics?query={searchtermPlus}"}},{"name":"TritiniaScans","domain":"https://tritinia.com","database":null,"search":{"anime":null,"manga":"https://tritinia.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"ReadManhua","domain":"https://readmanhua.net","database":null,"search":{"anime":null,"manga":"https://readmanhua.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"FlameScans","domain":"https://flamescans.org","database":null,"search":{"anime":null,"manga":"https://flamescans.org/?s={searchtermPlus}"}},{"name":"ImmortalUpdates","domain":"https://immortalupdates.com","database":null,"search":{"anime":null,"manga":"https://immortalupdates.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Zoro","domain":"https://zoro.to","database":"Zoro","search":{"anime":"https://zoro.to/search?keyword={searchtermPlus}","manga":null}},{"name":"Funimation","domain":"https://www.funimation.com","database":"Funimation","search":{"anime":"https://www.funimation.com/search/?q={searchterm}","manga":null}},{"name":"Kitsune","domain":"https://beta.kitsune.tv","database":null,"search":{"anime":"https://kitsune.tv/shows?q={searchterm}","manga":null}},{"name":"AnimesOnline","domain":"https://animesonline.org","database":null,"search":{"anime":"https://animesonline.org/?s={searchtermPlus}","manga":null}},{"name":"LHTranslation","domain":"https://lhtranslation.net","database":null,"search":{"anime":null,"manga":"https://lhtranslation.net/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"MangasOrigines","domain":"https://mangas-origines.fr/","database":null,"search":{"anime":null,"manga":"https://mangas-origines.fr/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"shiro","domain":"https://shiro.is","database":null,"search":{"anime":"https://shiro.is/browse/?title={searchterm}","manga":null}},{"name":"BlueSolo","domain":"https://www.bluesolo.org","database":null,"search":{"anime":null,"manga":"home"}},{"name":"DisasterScans","domain":"https://disasterscans.com","database":null,"search":{"anime":null,"manga":"https://disasterscans.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"DynastyScans","domain":"https://dynasty-scans.com","database":null,"search":{"anime":null,"manga":"https://dynasty-scans.com/search?q={searchtermPlus}"}},{"name":"SugarBabies","domain":"https://sugarbbscan.com/","database":null,"search":{"anime":null,"manga":"https://sugarbbscan.com/?s={searchtermPlus}&post_type=wp-manga"}},{"name":"Aniworld","domain":"https://aniworld.to","database":null,"search":{"anime":"https://aniworld.to/search?q={searchterm}","manga":null}},{"name":"BetterAnime","domain":"https://betteranime.net","database":null,"search":{"anime":"https://betteranime.net/pesquisa?titulo={searchtermPlus}","manga":null}},{"name":"BilibiliComics","domain":"https://www.bilibilicomics.com","database":null,"search":{"anime":null,"manga":"https://www.bilibilicomics.com/search?keyword={searchterm( )[noLowercase]}"}},{"name":"MangaReader","domain":"https://mangareader.to","database":"MangaReader","search":{"anime":null,"manga":"https://mangareader.to/search?keyword={searchtermPlus}"}},{"name":"AnimeOnsen","domain":"https://animeonsen.xyz","database":null,"search":{"anime":"https://www.animeonsen.xyz/search/{searchterm}","manga":null}},{"name":"Puray","domain":"https://puray.moe","database":null,"search":{"anime":"home","manga":null}},{"name":"Animetoast","domain":"https://www.animetoast.cc","database":null,"search":{"anime":"https://www.animetoast.cc/?s={searchterm}","manga":null}},{"name":"MuitoMangá","domain":"https://muitomanga.com","database":null,"search":{"anime":null,"manga":"https://muitomanga.com/buscar?q={searchtermPlus}"}},{"name":"RealmScans","domain":"https://realmscans.com","database":null,"search":{"anime":null,"manga":"https://realmscans.com/?s={searchtermPlus}"}},{"name":"LuminousScans","domain":"https://luminousscans.com","database":null,"search":{"anime":null,"manga":"https://luminousscans.com/?s={searchtermPlus}"}},{"name":"Animeworld","domain":"https://www.animeworld.tv","database":null,"search":{"anime":"home","manga":null}},{"name":"MangaBuddy","domain":"https://mangabuddy.com","database":null,"search":{"anime":null,"manga":"https://mangabuddy.com/search?q={searchtermPlus}"}},{"name":"Vostfree","domain":"https://vostfree.cx","database":null,"search":{"anime":"https://vostfree.tv/index.php?do=search&subaction=search&story={searchterm}","manga":null}},{"name":"VoidScans","domain":"https://void-scans.com","database":null,"search":{"anime":null,"manga":"https://void-scans.com/?s={searchtermPlus}"}},{"name":"ToonAnime","domain":"https://vvww.toonanime.cc","database":null,"search":{"anime":"https://vvww.toonanime.cc/?story={searchtermPlus}&do=search&subaction=search","manga":null}},{"name":"ADKami","domain":"https://www.adkami.com/","database":null,"search":{"anime":"https://www.adkami.com/video?search={searchtermPlus}","manga":null}},{"name":"Kaguya","domain":"https://kaguya.live","database":null,"search":{"anime":"https://kaguya.live/browse?keyword={searchtermPlus}","manga":null}},{"name":"Hdrezka","domain":"https://hdrezka.ag","database":null,"search":{"anime":"https://hdrezka.ag/search/?do=search&subaction=search&q={searchterm}","manga":null}},{"name":"ADN","domain":"https://animationdigitalnetwork.fr","database":null,"search":{"anime":"https://animationdigitalnetwork.fr/video?search={searchterm}","manga":null}},{"name":"Aniyan","domain":"https://aniyan.net","database":"Aniyan","search":{"anime":"https://aniyan.net/?s={searchtermPlus}","manga":null}},{"name":"marin","domain":"https://marin.moe","database":"Marin","search":{"anime":"https://marin.moe/anime?search={searchterm}","manga":null}},{"name":"Isekaiscan","domain":"https://isekaiscan.com","database":null,"search":{"anime":null,"manga":"https://isekaiscan.com/?s={searchtermPlus}&post_type=wp-manga"}}]')}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};n.r(t),n.d(t,{FunctionToString:()=>Do,InboundFilters:()=>Io});var e={};n.r(e),n.d(e,{Breadcrumbs:()=>ma,Dedupe:()=>Wa,GlobalHandlers:()=>La,HttpContext:()=>Va,LinkedErrors:()=>Fa,TryCatch:()=>Aa});var i=n(3577),s=n(2262);function r(t,e,n,i){let s;try{s=i?t(...i):t()}catch(t){a(t,e,n)}return s}function o(t,e,n,s){if((0,i.mf)(t)){const o=r(t,e,n,s);return o&&(0,i.tI)(o)&&o.catch((t=>{a(t,e,n)})),o}const l=[];for(let i=0;i<t.length;i++)l.push(o(t[i],e,n,s));return l}function a(t,e,n,i=!0){if(e&&e.vnode,e){let i=e.parent;const s=e.proxy,o=n;for(;i;){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,s,o))return;i=i.parent}const a=e.appContext.config.errorHandler;if(a)return void r(a,null,10,[t,s,o])}!function(t,e,n,i=!0){console.error(t)}(t,0,0,i)}let l=!1,c=!1;const u=[];let h=0;const d=[];let p=null,m=0;const f=Promise.resolve();let g=null;function _(t){const e=g||f;return t?e.then(this?t.bind(this):t):e}function y(t){u.length&&u.includes(t,l&&t.allowRecurse?h+1:h)||(null==t.id?u.push(t):u.splice(function(t){let e=h+1,n=u.length;for(;e<n;){const i=e+n>>>1;k(u[i])<t?e=i+1:n=i}return e}(t.id),0,t),v())}function v(){l||c||(c=!0,g=f.then(E))}function b(t,e=(l?h+1:0)){for(;e<u.length;e++){const t=u[e];t&&t.pre&&(u.splice(e,1),e--,t())}}function w(t){if(d.length){const t=[...new Set(d)];if(d.length=0,p)return void p.push(...t);for(p=t,p.sort(((t,e)=>k(t)-k(e))),m=0;m<p.length;m++)p[m]();p=null,m=0}}const k=t=>null==t.id?1/0:t.id,S=(t,e)=>{const n=k(t)-k(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function E(t){c=!1,l=!0,u.sort(S),i.dG;try{for(h=0;h<u.length;h++){const t=u[h];t&&!1!==t.active&&r(t,null,14)}}finally{h=0,u.length=0,w(),l=!1,g=null,(u.length||d.length)&&E(t)}}function x(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||i.kT;let r=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in s){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:o}=s[t]||i.kT;o&&(r=n.map((t=>(0,i.HD)(t)?t.trim():t))),e&&(r=n.map(i.He))}let c,u=s[c=(0,i.hR)(e)]||s[c=(0,i.hR)((0,i._A)(e))];!u&&a&&(u=s[c=(0,i.hR)((0,i.rs)(e))]),u&&o(u,t,6,r);const h=s[c+"Once"];if(h){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,o(h,t,6,r)}}function T(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(void 0!==r)return r;const o=t.emits;let a={},l=!1;if(!(0,i.mf)(t)){const s=t=>{const n=T(t,e,!0);n&&(l=!0,(0,i.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(s),t.extends&&s(t.extends),t.mixins&&t.mixins.forEach(s)}return o||l?((0,i.kJ)(o)?o.forEach((t=>a[t]=null)):(0,i.l7)(a,o),(0,i.Kn)(t)&&s.set(t,a),a):((0,i.Kn)(t)&&s.set(t,null),null)}function N(t,e){return!(!t||!(0,i.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,i.RI)(t,(0,i.rs)(e))||(0,i.RI)(t,e))}new Set,new Map;let C=null,R=null;function A(t){const e=C;return C=t,R=t&&t.type.__scopeId||null,e}function O(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[l],slots:c,attrs:u,emit:h,render:d,renderCache:p,data:m,setupState:f,ctx:g,inheritAttrs:_}=t;let y,v;const b=A(t);try{if(4&n.shapeFlag){const t=r||s;y=be(d.call(t,t,p,o,f,m,g)),v=u}else{const t=e;y=be(t.length>1?t(o,{attrs:u,slots:c,emit:h}):t(o,null)),v=e.props?u:I(u)}}catch(e){ie.length=0,a(e,t,1),y=ge(ee)}let w=y;if(v&&!1!==_){const t=Object.keys(v),{shapeFlag:e}=w;t.length&&7&e&&(l&&t.some(i.tR)&&(v=P(v,l)),w=_e(w,v))}return n.dirs&&(w=_e(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,A(b),y}const I=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,i.F7)(n))&&((e||(e={}))[n]=t[n]);return e},P=(t,e)=>{const n={};for(const s in t)(0,i.tR)(s)&&s.slice(9)in e||(n[s]=t[s]);return n};function L(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!N(n,r))return!0}return!1}function D(t,e,n=!1){const s=Te||C;if(s){const r=null==s.parent?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&(0,i.mf)(e)?e.call(s.proxy):e}}const U={};function M(t,e,n){return j(t,e,n)}function j(t,e,{immediate:n,deep:a,flush:l,onTrack:c,onTrigger:u}=i.kT){const h=Te;let d,p,m=!1,f=!1;if((0,s.dq)(t)?(d=()=>t.value,m=(0,s.yT)(t)):(0,s.PG)(t)?(d=()=>t,a=!0):(0,i.kJ)(t)?(f=!0,m=t.some((t=>(0,s.PG)(t)||(0,s.yT)(t))),d=()=>t.map((t=>(0,s.dq)(t)?t.value:(0,s.PG)(t)?G(t):(0,i.mf)(t)?r(t,h,2):void 0))):d=(0,i.mf)(t)?e?()=>r(t,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),o(t,h,3,[_])}:i.dG,e&&a){const t=d;d=()=>G(t())}let g,_=t=>{p=k.onStop=()=>{r(t,h,4)}};if($e){if(_=i.dG,e?n&&o(e,h,3,[d(),f?[]:void 0,_]):d(),"sync"!==l)return i.dG;{const t=Ue();g=t.__watcherHandles||(t.__watcherHandles=[])}}let v=f?new Array(t.length).fill(U):U;const b=()=>{if(k.active)if(e){const t=k.run();(a||m||(f?t.some(((t,e)=>(0,i.aU)(t,v[e]))):(0,i.aU)(t,v)))&&(p&&p(),o(e,h,3,[t,v===U?void 0:f&&v[0]===U?[]:v,_]),v=t)}else k.run()};let w;b.allowRecurse=!!e,"sync"===l?w=b:"post"===l?w=()=>Kt(b,h&&h.suspense):(b.pre=!0,h&&(b.id=h.uid),w=()=>y(b));const k=new s.qq(d,w);e?n?b():v=k.run():"post"===l?Kt(k.run.bind(k),h&&h.suspense):k.run();const S=()=>{k.stop(),h&&h.scope&&(0,i.Od)(h.scope.effects,k)};return g&&g.push(S),S}function B(t,e,n){const s=this.proxy,r=(0,i.HD)(t)?t.includes(".")?F(s,t):()=>s[t]:t.bind(s,s);let o;(0,i.mf)(e)?o=e:(o=e.handler,n=e);const a=Te;Ce(this);const l=j(r,o.bind(s),n);return a?Ce(a):Re(),l}function F(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function G(t,e){if(!(0,i.Kn)(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),(0,s.dq)(t))G(t.value,e);else if((0,i.kJ)(t))for(let n=0;n<t.length;n++)G(t[n],e);else if((0,i.DM)(t)||(0,i._N)(t))t.forEach((t=>{G(t,e)}));else if((0,i.PO)(t))for(const n in t)G(t[n],e);return t}const W=[Function,Array],H={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:W,onEnter:W,onAfterEnter:W,onEnterCancelled:W,onBeforeLeave:W,onLeave:W,onAfterLeave:W,onLeaveCancelled:W,onBeforeAppear:W,onAppear:W,onAfterAppear:W,onAppearCancelled:W},setup(t,{slots:e}){const n=Ne(),i=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return at((()=>{t.isMounted=!0})),ut((()=>{t.isUnmounting=!0})),t}();let r;return()=>{const o=e.default&&X(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==ee){a=e,t=!0;break}}const l=(0,s.IU)(t),{mode:c}=l;if(i.isLeaving)return V(a);const u=K(a);if(!u)return V(a);const h=Y(u,l,i,n);J(u,h);const d=n.subTree,p=d&&K(d);let m=!1;const{getTransitionKey:f}=u.type;if(f){const t=f();void 0===r?r=t:t!==r&&(r=t,m=!0)}if(p&&p.type!==ee&&(!he(u,p)||m)){const t=Y(p,l,i,n);if(J(p,t),"out-in"===c)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&n.update()},V(a);"in-out"===c&&u.type!==ee&&(t.delayLeave=(t,e,n)=>{q(i,p)[String(p.key)]=p,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},z=H;function q(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Y(t,e,n,s){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:m,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:_,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=e,w=String(t.key),k=q(n,t),S=(t,e)=>{t&&o(t,s,9,e)},E=(t,e)=>{const n=e[1];S(t,e),(0,i.kJ)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},x={mode:a,persisted:l,beforeEnter(e){let i=c;if(!n.isMounted){if(!r)return;i=_||c}e._leaveCb&&e._leaveCb(!0);const s=k[w];s&&he(t,s)&&s.el._leaveCb&&s.el._leaveCb(),S(i,[e])},enter(t){let e=u,i=h,s=d;if(!n.isMounted){if(!r)return;e=y||u,i=v||h,s=b||d}let o=!1;const a=t._enterCb=e=>{o||(o=!0,S(e?s:i,[t]),x.delayedLeave&&x.delayedLeave(),t._enterCb=void 0)};e?E(e,[t,a]):a()},leave(e,i){const s=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();S(p,[e]);let r=!1;const o=e._leaveCb=n=>{r||(r=!0,i(),S(n?g:f,[e]),e._leaveCb=void 0,k[s]===t&&delete k[s])};k[s]=t,m?E(m,[e,o]):o()},clone:t=>Y(t,e,n,s)};return x}function V(t){if(Q(t))return(t=_e(t)).children=null,t}function K(t){return Q(t)?t.children?t.children[0]:void 0:t}function J(t,e){6&t.shapeFlag&&t.component?J(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function X(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:r);o.type===Qt?(128&o.patchFlag&&s++,i=i.concat(X(o.children,e,a))):(e||o.type!==ee)&&i.push(null!=a?_e(o,{key:a}):o)}if(s>1)for(let t=0;t<i.length;t++)i[t].patchFlag=-2;return i}const Z=t=>!!t.type.__asyncLoader,Q=t=>t.type.__isKeepAlive;function tt(t,e){nt(t,"a",e)}function et(t,e){nt(t,"da",e)}function nt(t,e,n=Te){const i=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(st(e,i,n),n){let t=n.parent;for(;t&&t.parent;)Q(t.parent.vnode)&&it(i,e,n,t),t=t.parent}}function it(t,e,n,s){const r=st(e,t,s,!0);ht((()=>{(0,i.Od)(s[e],r)}),n)}function st(t,e,n=Te,i=!1){if(n){const r=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;(0,s.Jd)(),Ce(n);const r=o(e,n,t,i);return Re(),(0,s.lk)(),r});return i?r.unshift(a):r.push(a),a}}RegExp,RegExp;const rt=t=>(e,n=Te)=>(!$e||"sp"===t)&&st(t,((...t)=>e(...t)),n),ot=rt("bm"),at=rt("m"),lt=rt("bu"),ct=rt("u"),ut=rt("bum"),ht=rt("um"),dt=rt("sp"),pt=rt("rtg"),mt=rt("rtc");function ft(t,e=Te){st("ec",t,e)}function gt(t,e,n,i){const r=t.dirs,a=e&&e.dirs;for(let l=0;l<r.length;l++){const c=r[l];a&&(c.oldValue=a[l].value);let u=c.dir[i];u&&((0,s.Jd)(),o(u,n,8,[t.el,c,t,e]),(0,s.lk)())}}const _t=Symbol();function yt(t,e,n,s){let r;const o=n&&n[s];if((0,i.kJ)(t)||(0,i.HD)(t)){r=new Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=e(t[n],n,void 0,o&&o[n])}else if("number"==typeof t){r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o&&o[n])}else if((0,i.Kn)(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=e(t[s],s,i,o&&o[i])}}else r=[];return n&&(n[s]=r),r}const vt=t=>t?Ae(t)?Pe(t)||t.proxy:vt(t.parent):null,bt=(0,i.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>vt(t.parent),$root:t=>vt(t.root),$emit:t=>t.emit,$options:t=>Tt(t),$forceUpdate:t=>t.f||(t.f=()=>y(t.update)),$nextTick:t=>t.n||(t.n=_.bind(t.proxy)),$watch:t=>B.bind(t)}),wt=(t,e)=>t!==i.kT&&!t.__isScriptSetup&&(0,i.RI)(t,e),kt={get({_:t},e){const{ctx:n,setupState:r,data:o,props:a,accessCache:l,type:c,appContext:u}=t;let h;if("$"!==e[0]){const s=l[e];if(void 0!==s)switch(s){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return a[e]}else{if(wt(r,e))return l[e]=1,r[e];if(o!==i.kT&&(0,i.RI)(o,e))return l[e]=2,o[e];if((h=t.propsOptions[0])&&(0,i.RI)(h,e))return l[e]=3,a[e];if(n!==i.kT&&(0,i.RI)(n,e))return l[e]=4,n[e];St&&(l[e]=0)}}const d=bt[e];let p,m;return d?("$attrs"===e&&(0,s.j)(t,"get",e),d(t)):(p=c.__cssModules)&&(p=p[e])?p:n!==i.kT&&(0,i.RI)(n,e)?(l[e]=4,n[e]):(m=u.config.globalProperties,(0,i.RI)(m,e)?m[e]:void 0)},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return wt(r,e)?(r[e]=n,!0):s!==i.kT&&(0,i.RI)(s,e)?(s[e]=n,!0):!((0,i.RI)(t.props,e)||"$"===e[0]&&e.slice(1)in t||(o[e]=n,0))},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o}},a){let l;return!!n[a]||t!==i.kT&&(0,i.RI)(t,a)||wt(e,a)||(l=o[0])&&(0,i.RI)(l,a)||(0,i.RI)(s,a)||(0,i.RI)(bt,a)||(0,i.RI)(r.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,i.RI)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let St=!0;function Et(t,e,n){o((0,i.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function xt(t,e,n,s){const r=s.includes(".")?F(n,s):()=>n[s];if((0,i.HD)(t)){const n=e[t];(0,i.mf)(n)&&M(r,n)}else if((0,i.mf)(t))M(r,t.bind(n));else if((0,i.Kn)(t))if((0,i.kJ)(t))t.forEach((t=>xt(t,e,n,s)));else{const s=(0,i.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,i.mf)(s)&&M(r,s,t)}}function Tt(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,l=o.get(e);let c;return l?c=l:r.length||n||s?(c={},r.length&&r.forEach((t=>Nt(c,t,a,!0))),Nt(c,e,a)):c=e,(0,i.Kn)(e)&&o.set(e,c),c}function Nt(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Nt(t,r,n,!0),s&&s.forEach((e=>Nt(t,e,n,!0)));for(const s in e)if(i&&"expose"===s);else{const i=Ct[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const Ct={data:Rt,props:Ot,emits:Ot,methods:Ot,computed:Ot,beforeCreate:$t,created:$t,beforeMount:$t,mounted:$t,beforeUpdate:$t,updated:$t,beforeDestroy:$t,beforeUnmount:$t,destroyed:$t,unmounted:$t,activated:$t,deactivated:$t,errorCaptured:$t,serverPrefetch:$t,components:Ot,directives:Ot,watch:function(t,e){if(!t)return e;if(!e)return t;const n=(0,i.l7)(Object.create(null),t);for(const i in e)n[i]=$t(t[i],e[i]);return n},provide:Rt,inject:function(t,e){return Ot(At(t),At(e))}};function Rt(t,e){return e?t?function(){return(0,i.l7)((0,i.mf)(t)?t.call(this,this):t,(0,i.mf)(e)?e.call(this,this):e)}:e:t}function At(t){if((0,i.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $t(t,e){return t?[...new Set([].concat(t,e))]:e}function Ot(t,e){return t?(0,i.l7)((0,i.l7)(Object.create(null),t),e):e}function It(t,e,n,r){const[o,a]=t.propsOptions;let l,c=!1;if(e)for(let s in e){if((0,i.Gg)(s))continue;const u=e[s];let h;o&&(0,i.RI)(o,h=(0,i._A)(s))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:N(t.emitsOptions,s)||s in r&&u===r[s]||(r[s]=u,c=!0)}if(a){const e=(0,s.IU)(n),r=l||i.kT;for(let s=0;s<a.length;s++){const l=a[s];n[l]=Pt(o,e,l,r[l],t,!(0,i.RI)(r,l))}}return c}function Pt(t,e,n,s,r,o){const a=t[n];if(null!=a){const t=(0,i.RI)(a,"default");if(t&&void 0===s){const t=a.default;if(a.type!==Function&&(0,i.mf)(t)){const{propsDefaults:i}=r;n in i?s=i[n]:(Ce(r),s=i[n]=t.call(null,e),Re())}else s=t}a[0]&&(o&&!t?s=!1:!a[1]||""!==s&&s!==(0,i.rs)(n)||(s=!0))}return s}function Lt(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const o=t.props,a={},l=[];let c=!1;if(!(0,i.mf)(t)){const s=t=>{c=!0;const[n,s]=Lt(t,e,!0);(0,i.l7)(a,n),s&&l.push(...s)};!n&&e.mixins.length&&e.mixins.forEach(s),t.extends&&s(t.extends),t.mixins&&t.mixins.forEach(s)}if(!o&&!c)return(0,i.Kn)(t)&&s.set(t,i.Z6),i.Z6;if((0,i.kJ)(o))for(let t=0;t<o.length;t++){const e=(0,i._A)(o[t]);Dt(e)&&(a[e]=i.kT)}else if(o)for(const t in o){const e=(0,i._A)(t);if(Dt(e)){const n=o[t],s=a[e]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:Object.assign({},n);if(s){const t=jt(Boolean,s.type),n=jt(String,s.type);s[0]=t>-1,s[1]=n<0||t<n,(t>-1||(0,i.RI)(s,"default"))&&l.push(e)}}}const u=[a,l];return(0,i.Kn)(t)&&s.set(t,u),u}function Dt(t){return"$"!==t[0]}function Ut(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function Mt(t,e){return Ut(t)===Ut(e)}function jt(t,e){return(0,i.kJ)(e)?e.findIndex((e=>Mt(e,t))):(0,i.mf)(e)&&Mt(e,t)?0:-1}const Bt=t=>"_"===t[0]||"$stable"===t,Ft=t=>(0,i.kJ)(t)?t.map(be):[be(t)],Gt=(t,e,n)=>{if(e._n)return e;const i=function(t,e=C,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&ae(-1);const s=A(e);let r;try{r=t(...n)}finally{A(s),i._d&&ae(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}(((...t)=>Ft(e(...t))),n);return i._c=!1,i},Wt=(t,e,n)=>{const s=t._ctx;for(const n in t){if(Bt(n))continue;const r=t[n];if((0,i.mf)(r))e[n]=Gt(0,r,s);else if(null!=r){const t=Ft(r);e[n]=()=>t}}},Ht=(t,e)=>{const n=Ft(e);t.slots.default=()=>n};function zt(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qt=0;function Yt(t,e){return function(n,s=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==s||(0,i.Kn)(s)||(s=null);const r=zt(),o=new Set;let a=!1;const l=r.app={_uid:qt++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:Me,get config(){return r.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&(0,i.mf)(t.install)?(o.add(t),t.install(l,...e)):(0,i.mf)(t)&&(o.add(t),t(l,...e))),l),mixin:t=>(r.mixins.includes(t)||r.mixins.push(t),l),component:(t,e)=>e?(r.components[t]=e,l):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,l):r.directives[t],mount(i,o,c){if(!a){const u=ge(n,s);return u.appContext=r,o&&e?e(u,i):t(u,i,c),a=!0,l._container=i,i.__vue_app__=l,Pe(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide:(t,e)=>(r.provides[t]=e,l)};return l}}function Vt(t,e,n,o,a=!1){if((0,i.kJ)(t))return void t.forEach(((t,s)=>Vt(t,e&&((0,i.kJ)(e)?e[s]:e),n,o,a)));if(Z(o)&&!a)return;const l=4&o.shapeFlag?Pe(o.component)||o.component.proxy:o.el,c=a?null:l,{i:u,r:h}=t,d=e&&e.r,p=u.refs===i.kT?u.refs={}:u.refs,m=u.setupState;if(null!=d&&d!==h&&((0,i.HD)(d)?(p[d]=null,(0,i.RI)(m,d)&&(m[d]=null)):(0,s.dq)(d)&&(d.value=null)),(0,i.mf)(h))r(h,u,12,[c,p]);else{const e=(0,i.HD)(h),r=(0,s.dq)(h);if(e||r){const s=()=>{if(t.f){const n=e?(0,i.RI)(m,h)?m[h]:p[h]:h.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,l):(0,i.kJ)(n)?n.includes(l)||n.push(l):e?(p[h]=[l],(0,i.RI)(m,h)&&(m[h]=p[h])):(h.value=[l],t.k&&(p[t.k]=h.value))}else e?(p[h]=c,(0,i.RI)(m,h)&&(m[h]=c)):r&&(h.value=c,t.k&&(p[t.k]=c))};c?(s.id=-1,Kt(s,n)):s()}}}const Kt=function(t,e){var n;e&&e.pendingBranch?(0,i.kJ)(t)?e.effects.push(...t):e.effects.push(t):(n=t,(0,i.kJ)(n)?d.push(...n):p&&p.includes(n,n.allowRecurse?m+1:m)||d.push(n),v())};function Jt(t,e){(0,i.E9)().__VUE__=!0;const{insert:n,remove:o,patchProp:l,createElement:c,createText:d,createComment:p,setText:m,setElementText:f,parentNode:g,nextSibling:_,setScopeId:v=i.dG,insertStaticContent:k}=t,S=(t,e,n,i=null,s=null,r=null,o=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!he(t,e)&&(i=nt(t),K(t,s,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case te:E(t,e,n,i);break;case ee:C(t,e,n,i);break;case ne:null==t&&R(e,n,i,o);break;case Qt:j(t,e,n,i,s,r,o,a,l);break;default:1&h?A(t,e,n,i,s,r,o,a,l):6&h?B(t,e,n,i,s,r,o,a,l):(64&h||128&h)&&c.process(t,e,n,i,s,r,o,a,l,st)}null!=u&&s&&Vt(u,t&&t.ref,r,e||t,!e)},E=(t,e,i,s)=>{if(null==t)n(e.el=d(e.children),i,s);else{const n=e.el=t.el;e.children!==t.children&&m(n,e.children)}},C=(t,e,i,s)=>{null==t?n(e.el=p(e.children||""),i,s):e.el=t.el},R=(t,e,n,i)=>{[t.el,t.anchor]=k(t.children,e,n,i,t.el,t.anchor)},A=(t,e,n,i,s,r,o,a,l)=>{o=o||"svg"===e.type,null==t?$(e,n,i,s,r,o,a,l):D(t,e,s,r,o,a,l)},$=(t,e,s,r,o,a,u,h)=>{let d,p;const{type:m,props:g,shapeFlag:_,transition:y,dirs:v}=t;if(d=t.el=c(t.type,a,g&&g.is,g),8&_?f(d,t.children):16&_&&P(t.children,d,null,r,o,a&&"foreignObject"!==m,u,h),v&&gt(t,null,r,"created"),g){for(const e in g)"value"===e||(0,i.Gg)(e)||l(d,e,null,g[e],a,t.children,r,o,et);"value"in g&&l(d,"value",null,g.value),(p=g.onVnodeBeforeMount)&&Se(p,r,t)}I(d,t,t.scopeId,u,r),v&&gt(t,null,r,"beforeMount");const b=(!o||o&&!o.pendingBranch)&&y&&!y.persisted;b&&y.beforeEnter(d),n(d,e,s),((p=g&&g.onVnodeMounted)||b||v)&&Kt((()=>{p&&Se(p,r,t),b&&y.enter(d),v&&gt(t,null,r,"mounted")}),o)},I=(t,e,n,i,s)=>{if(n&&v(t,n),i)for(let e=0;e<i.length;e++)v(t,i[e]);if(s&&e===s.subTree){const e=s.vnode;I(t,e,e.scopeId,e.slotScopeIds,s.parent)}},P=(t,e,n,i,s,r,o,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?we(t[c]):be(t[c]);S(null,l,e,n,i,s,r,o,a)}},D=(t,e,n,s,r,o,a)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:d}=e;u|=16&t.patchFlag;const p=t.props||i.kT,m=e.props||i.kT;let g;n&&Xt(n,!1),(g=m.onVnodeBeforeUpdate)&&Se(g,n,e,t),d&&gt(e,t,n,"beforeUpdate"),n&&Xt(n,!0);const _=r&&"foreignObject"!==e.type;if(h?U(t.dynamicChildren,h,c,n,s,_,o):a||z(t,e,c,null,n,s,_,o,!1),u>0){if(16&u)M(c,e,p,m,n,s,r);else if(2&u&&p.class!==m.class&&l(c,"class",null,m.class,r),4&u&&l(c,"style",p.style,m.style,r),8&u){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const o=i[e],a=p[o],u=m[o];u===a&&"value"!==o||l(c,o,a,u,r,t.children,n,s,et)}}1&u&&t.children!==e.children&&f(c,e.children)}else a||null!=h||M(c,e,p,m,n,s,r);((g=m.onVnodeUpdated)||d)&&Kt((()=>{g&&Se(g,n,e,t),d&&gt(e,t,n,"updated")}),s)},U=(t,e,n,i,s,r,o)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===Qt||!he(l,c)||70&l.shapeFlag)?g(l.el):n;S(l,c,u,null,i,s,r,o,!0)}},M=(t,e,n,s,r,o,a)=>{if(n!==s){if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in s||l(t,c,n[c],null,a,e.children,r,o,et);for(const c in s){if((0,i.Gg)(c))continue;const u=s[c],h=n[c];u!==h&&"value"!==c&&l(t,c,h,u,a,e.children,r,o,et)}"value"in s&&l(t,"value",n.value,s.value)}},j=(t,e,i,s,r,o,a,l,c)=>{const u=e.el=t?t.el:d(""),h=e.anchor=t?t.anchor:d("");let{patchFlag:p,dynamicChildren:m,slotScopeIds:f}=e;f&&(l=l?l.concat(f):f),null==t?(n(u,i,s),n(h,i,s),P(e.children,i,h,r,o,a,l,c)):p>0&&64&p&&m&&t.dynamicChildren?(U(t.dynamicChildren,m,i,r,o,a,l),(null!=e.key||r&&e===r.subTree)&&Zt(t,e,!0)):z(t,e,i,h,r,o,a,l,c)},B=(t,e,n,i,s,r,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?s.ctx.activate(e,n,i,o,l):F(e,n,i,s,r,o,l):G(t,e,l)},F=(t,e,n,o,l,c,u)=>{const h=t.component=function(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||Ee,a={uid:xe++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new s.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lt(r,o),emitsOptions:T(r,o),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:r.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=x.bind(null,a),t.ce&&t.ce(a),a}(t,o,l);if(Q(t)&&(h.ctx.renderer=st),function(t,e=!1){$e=e;const{props:n,children:o}=t.vnode,l=Ae(t);!function(t,e,n,r=!1){const o={},a={};(0,i.Nj)(a,de,1),t.propsDefaults=Object.create(null),It(t,e,o,a);for(const e in t.propsOptions[0])e in o||(o[e]=void 0);n?t.props=r?o:(0,s.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}(t,n,l,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,s.IU)(e),(0,i.Nj)(e,"_",n)):Wt(e,t.slots={})}else t.slots={},e&&Ht(t,e);(0,i.Nj)(t.slots,de,1)})(t,o);const c=l?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,s.Xl)(new Proxy(t.ctx,kt));const{setup:o}=n;if(o){const n=t.setupContext=o.length>1?function(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=function(t){return new Proxy(t.attrs,{get:(e,n)=>((0,s.j)(t,"get","$attrs"),e[n])})}(t))},slots:t.slots,emit:t.emit,expose:e}}(t):null;Ce(t),(0,s.Jd)();const l=r(o,t,0,[t.props,n]);if((0,s.lk)(),Re(),(0,i.tI)(l)){if(l.then(Re,Re),e)return l.then((n=>{Oe(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=l}else Oe(t,l,e)}else Ie(t,e)}(t,e):void 0;$e=!1}(h),h.asyncDep){if(l&&l.registerDep(h,W),!t.el){const t=h.subTree=ge(ee);C(null,t,e,n)}}else W(h,t,e,n,l,c,u)},G=(t,e,n)=>{const i=e.component=t.component;if(function(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||i!==o&&(i?!o||L(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?L(i,o,c):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==i[n]&&!N(c,n))return!0}}return!1}(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void H(i,e,n);i.next=e,function(t){const e=u.indexOf(t);e>h&&u.splice(e,1)}(i.update),i.update()}else e.el=t.el,i.vnode=e},W=(t,e,n,r,o,a,l)=>{const c=t.effect=new s.qq((()=>{if(t.isMounted){let e,{next:n,bu:s,u:r,parent:c,vnode:u}=t,h=n;Xt(t,!1),n?(n.el=u.el,H(t,n,l)):n=u,s&&(0,i.ir)(s),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Se(e,c,n,u),Xt(t,!0);const d=O(t),p=t.subTree;t.subTree=d,S(p,d,g(p.el),nt(p),t,o,a),n.el=d.el,null===h&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,d.el),r&&Kt(r,o),(e=n.props&&n.props.onVnodeUpdated)&&Kt((()=>Se(e,c,n,u)),o)}else{let s;const{el:l,props:c}=e,{bm:u,m:h,parent:d}=t,p=Z(e);if(Xt(t,!1),u&&(0,i.ir)(u),!p&&(s=c&&c.onVnodeBeforeMount)&&Se(s,d,e),Xt(t,!0),l&&ot){const n=()=>{t.subTree=O(t),ot(l,t.subTree,t,o,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const i=t.subTree=O(t);S(null,i,n,r,t,o,a),e.el=i.el}if(h&&Kt(h,o),!p&&(s=c&&c.onVnodeMounted)){const t=e;Kt((()=>Se(s,d,t)),o)}(256&e.shapeFlag||d&&Z(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&Kt(t.a,o),t.isMounted=!0,e=n=r=null}}),(()=>y(u)),t.scope),u=t.update=()=>c.run();u.id=t.uid,Xt(t,!0),u()},H=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,c=(0,s.IU)(o),[u]=t.propsOptions;let h=!1;if(!(r||l>0)||16&l){let s;It(t,e,o,a)&&(h=!0);for(const r in c)e&&((0,i.RI)(e,r)||(s=(0,i.rs)(r))!==r&&(0,i.RI)(e,s))||(u?!n||void 0===n[r]&&void 0===n[s]||(o[r]=Pt(u,c,r,void 0,t,!0)):delete o[r]);if(a!==c)for(const t in a)e&&(0,i.RI)(e,t)||(delete a[t],h=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let s=0;s<n.length;s++){let r=n[s];if(N(t.emitsOptions,r))continue;const l=e[r];if(u)if((0,i.RI)(a,r))l!==a[r]&&(a[r]=l,h=!0);else{const e=(0,i._A)(r);o[e]=Pt(u,c,e,l,t,!1)}else l!==a[r]&&(a[r]=l,h=!0)}}h&&(0,s.X$)(t,"set","$attrs")}(t,e.props,r,n),((t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,a=i.kT;if(32&s.shapeFlag){const t=e._;t?n&&1===t?o=!1:((0,i.l7)(r,e),n||1!==t||delete r._):(o=!e.$stable,Wt(e,r)),a=e}else e&&(Ht(t,e),a={default:1});if(o)for(const t in r)Bt(t)||t in a||delete r[t]})(t,e.children,n),(0,s.Jd)(),b(),(0,s.lk)()},z=(t,e,n,i,s,r,o,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:d,shapeFlag:p}=e;if(d>0){if(128&d)return void Y(c,h,n,i,s,r,o,a,l);if(256&d)return void q(c,h,n,i,s,r,o,a,l)}8&p?(16&u&&et(c,s,r),h!==c&&f(n,h)):16&u?16&p?Y(c,h,n,i,s,r,o,a,l):et(c,s,r,!0):(8&u&&f(n,""),16&p&&P(h,n,i,s,r,o,a,l))},q=(t,e,n,s,r,o,a,l,c)=>{t=t||i.Z6,e=e||i.Z6;const u=t.length,h=e.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const i=e[p]=c?we(e[p]):be(e[p]);S(t[p],i,n,null,r,o,a,l,c)}u>h?et(t,r,o,!0,!1,d):P(e,n,s,r,o,a,l,c,d)},Y=(t,e,n,s,r,o,a,l,c)=>{let u=0;const h=e.length;let d=t.length-1,p=h-1;for(;u<=d&&u<=p;){const i=t[u],s=e[u]=c?we(e[u]):be(e[u]);if(!he(i,s))break;S(i,s,n,null,r,o,a,l,c),u++}for(;u<=d&&u<=p;){const i=t[d],s=e[p]=c?we(e[p]):be(e[p]);if(!he(i,s))break;S(i,s,n,null,r,o,a,l,c),d--,p--}if(u>d){if(u<=p){const t=p+1,i=t<h?e[t].el:s;for(;u<=p;)S(null,e[u]=c?we(e[u]):be(e[u]),n,i,r,o,a,l,c),u++}}else if(u>p)for(;u<=d;)K(t[u],r,o,!0),u++;else{const m=u,f=u,g=new Map;for(u=f;u<=p;u++){const t=e[u]=c?we(e[u]):be(e[u]);null!=t.key&&g.set(t.key,u)}let _,y=0;const v=p-f+1;let b=!1,w=0;const k=new Array(v);for(u=0;u<v;u++)k[u]=0;for(u=m;u<=d;u++){const i=t[u];if(y>=v){K(i,r,o,!0);continue}let s;if(null!=i.key)s=g.get(i.key);else for(_=f;_<=p;_++)if(0===k[_-f]&&he(i,e[_])){s=_;break}void 0===s?K(i,r,o,!0):(k[s-f]=u+1,s>=w?w=s:b=!0,S(i,e[s],n,null,r,o,a,l,c),y++)}const E=b?function(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(s=n[n.length-1],t[s]<l){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<l?r=a+1:o=a;l<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}(k):i.Z6;for(_=E.length-1,u=v-1;u>=0;u--){const t=f+u,i=e[t],d=t+1<h?e[t+1].el:s;0===k[u]?S(null,i,n,d,r,o,a,l,c):b&&(_<0||u!==E[_]?V(i,n,d,2):_--)}}},V=(t,e,i,s,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)V(t.component.subTree,e,i,s);else if(128&u)t.suspense.move(e,i,s);else if(64&u)a.move(t,e,i,st);else if(a!==Qt)if(a!==ne)if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(o),n(o,e,i),Kt((()=>l.enter(o)),r);else{const{leave:t,delayLeave:s,afterLeave:r}=l,a=()=>n(o,e,i),c=()=>{t(o,(()=>{a(),r&&r()}))};s?s(o,a,c):c()}else n(o,e,i);else(({el:t,anchor:e},i,s)=>{let r;for(;t&&t!==e;)r=_(t),n(t,i,s),t=r;n(e,i,s)})(t,e,i);else{n(o,e,i);for(let t=0;t<c.length;t++)V(c[t],e,i,s);n(t.anchor,e,i)}},K=(t,e,n,i=!1,s=!1)=>{const{type:r,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&Vt(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,m=!Z(t);let f;if(m&&(f=o&&o.onVnodeBeforeUnmount)&&Se(f,e,t),6&u)tt(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);p&&gt(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,s,st,i):c&&(r!==Qt||h>0&&64&h)?et(c,e,n,!1,!0):(r===Qt&&384&h||!s&&16&u)&&et(l,e,n),i&&J(t)}(m&&(f=o&&o.onVnodeUnmounted)||p)&&Kt((()=>{f&&Se(f,e,t),p&&gt(t,null,e,"unmounted")}),n)},J=t=>{const{type:e,el:n,anchor:i,transition:s}=t;if(e===Qt)return void X(n,i);if(e===ne)return void(({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=_(t),o(t),t=n;o(e)})(t);const r=()=>{o(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:i}=s,o=()=>e(n,r);i?i(t.el,r,o):o()}else r()},X=(t,e)=>{let n;for(;t!==e;)n=_(t),o(t),t=n;o(e)},tt=(t,e,n)=>{const{bum:s,scope:r,update:o,subTree:a,um:l}=t;s&&(0,i.ir)(s),r.stop(),o&&(o.active=!1,K(a,t,e,n)),l&&Kt(l,e),Kt((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},et=(t,e,n,i=!1,s=!1,r=0)=>{for(let o=r;o<t.length;o++)K(t[o],e,n,i,s)},nt=t=>6&t.shapeFlag?nt(t.component.subTree):128&t.shapeFlag?t.suspense.next():_(t.anchor||t.el),it=(t,e,n)=>{null==t?e._vnode&&K(e._vnode,null,null,!0):S(e._vnode||null,t,e,null,null,null,n),b(),w(),e._vnode=t},st={p:S,um:K,m:V,r:J,mt:F,mc:P,pc:z,pbc:U,n:nt,o:t};let rt,ot;return e&&([rt,ot]=e(st)),{render:it,hydrate:rt,createApp:Yt(it,rt)}}function Xt({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Zt(t,e,n=!1){const s=t.children,r=e.children;if((0,i.kJ)(s)&&(0,i.kJ)(r))for(let t=0;t<s.length;t++){const e=s[t];let i=r[t];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=r[t]=we(r[t]),i.el=e.el),n||Zt(e,i)),i.type===te&&(i.el=e.el)}}const Qt=Symbol(void 0),te=Symbol(void 0),ee=Symbol(void 0),ne=Symbol(void 0),ie=[];let se=null;function re(t=!1){ie.push(se=t?null:[])}let oe=1;function ae(t){oe+=t}function le(t){return t.dynamicChildren=oe>0?se||i.Z6:null,ie.pop(),se=ie[ie.length-1]||null,oe>0&&se&&se.push(t),t}function ce(t,e,n,i,s,r){return le(fe(t,e,n,i,s,r,!0))}function ue(t){return!!t&&!0===t.__v_isVNode}function he(t,e){return t.type===e.type&&t.key===e.key}const de="__vInternal",pe=({key:t})=>null!=t?t:null,me=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,i.HD)(t)||(0,s.dq)(t)||(0,i.mf)(t)?{i:C,r:t,k:e,f:!!n}:t:null;function fe(t,e=null,n=null,s=0,r=null,o=(t===Qt?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pe(e),ref:e&&me(e),scopeId:R,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:C};return l?(ke(c,n),128&o&&t.normalize(c)):n&&(c.shapeFlag|=(0,i.HD)(n)?8:16),oe>0&&!a&&se&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&se.push(c),c}const ge=function(t,e=null,n=null,r=0,o=null,a=!1){if(t&&t!==_t||(t=ee),ue(t)){const i=_e(t,e,!0);return n&&ke(i,n),oe>0&&!a&&se&&(6&i.shapeFlag?se[se.indexOf(t)]=i:se.push(i)),i.patchFlag|=-2,i}if(function(t){return(0,i.mf)(t)&&"__vccOpts"in t}(t)&&(t=t.__vccOpts),e){e=function(t){return t?(0,s.X3)(t)||de in t?(0,i.l7)({},t):t:null}(e);let{class:t,style:n}=e;t&&!(0,i.HD)(t)&&(e.class=(0,i.C_)(t)),(0,i.Kn)(n)&&((0,s.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),e.style=(0,i.j5)(n))}return fe(t,e,n,r,o,(0,i.HD)(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:(0,i.Kn)(t)?4:(0,i.mf)(t)?2:0,a,!0)};function _e(t,e,n=!1){const{props:s,ref:r,patchFlag:o,children:a}=t,l=e?function(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s)if("class"===t)e.class!==s.class&&(e.class=(0,i.C_)([e.class,s.class]));else if("style"===t)e.style=(0,i.j5)([e.style,s.style]);else if((0,i.F7)(t)){const n=e[t],r=s[t];!r||n===r||(0,i.kJ)(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=s[t])}return e}(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&pe(l),ref:e&&e.ref?n&&r?(0,i.kJ)(r)?r.concat(me(e)):[r,me(e)]:me(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qt?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_e(t.ssContent),ssFallback:t.ssFallback&&_e(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function ye(t=" ",e=0){return ge(te,null,t,e)}function ve(t="",e=!1){return e?(re(),le(ge(ee,null,t,n,i,!0))):ge(ee,null,t);var n,i}function be(t){return null==t||"boolean"==typeof t?ge(ee):(0,i.kJ)(t)?ge(Qt,null,t.slice()):"object"==typeof t?we(t):ge(te,null,String(t))}function we(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:_e(t)}function ke(t,e){let n=0;const{shapeFlag:s}=t;if(null==e)e=null;else if((0,i.kJ)(e))n=16;else if("object"==typeof e){if(65&s){const n=e.default;return void(n&&(n._c&&(n._d=!1),ke(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||de in e?3===i&&C&&(1===C.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=C}}else(0,i.mf)(e)?(e={default:e,_ctx:C},n=32):(e=String(e),64&s?(n=16,e=[ye(e)]):n=8);t.children=e,t.shapeFlag|=n}function Se(t,e,n,i=null){o(t,e,7,[n,i])}const Ee=zt();let xe=0;let Te=null;const Ne=()=>Te||C,Ce=t=>{Te=t,t.scope.on()},Re=()=>{Te&&Te.scope.off(),Te=null};function Ae(t){return 4&t.vnode.shapeFlag}let $e=!1;function Oe(t,e,n){(0,i.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Kn)(e)&&(t.setupState=(0,s.WL)(e)),Ie(t,n)}function Ie(t,e,n){const r=t.type;t.render||(t.render=r.render||i.dG),Ce(t),(0,s.Jd)(),function(t){const e=Tt(t),n=t.proxy,r=t.ctx;St=!1,e.beforeCreate&&Et(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:m,beforeUpdate:f,updated:g,activated:_,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:w,unmounted:k,render:S,renderTracked:E,renderTriggered:x,errorCaptured:T,serverPrefetch:N,expose:C,inheritAttrs:R,components:A,directives:$,filters:O}=e;if(h&&function(t,e,n=i.dG,r=!1){(0,i.kJ)(t)&&(t=At(t));for(const n in t){const o=t[n];let a;a=(0,i.Kn)(o)?"default"in o?D(o.from||n,o.default,!0):D(o.from||n):D(o),(0,s.dq)(a)&&r?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[n]=a}}(h,r,null,t.appContext.config.unwrapInjectedRef),l)for(const t in l){const e=l[t];(0,i.mf)(e)&&(r[t]=e.bind(n))}if(o){const e=o.call(n,n);(0,i.Kn)(e)&&(t.data=(0,s.qj)(e))}if(St=!0,a)for(const t in a){const e=a[t],s=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG,o=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,l=Le({get:s,set:o});Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const t in c)xt(c[t],r,n,t);if(u){const t=(0,i.mf)(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{!function(t,e){if(Te){let n=Te.provides;const i=Te.parent&&Te.parent.provides;i===n&&(n=Te.provides=Object.create(i)),n[t]=e}}(e,t[e])}))}function I(t,e){(0,i.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&Et(d,t,"c"),I(ot,p),I(at,m),I(lt,f),I(ct,g),I(tt,_),I(et,y),I(ft,T),I(mt,E),I(pt,x),I(ut,b),I(ht,k),I(dt,N),(0,i.kJ)(C))if(C.length){const e=t.exposed||(t.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===i.dG&&(t.render=S),null!=R&&(t.inheritAttrs=R),A&&(t.components=A),$&&(t.directives=$)}(t),(0,s.lk)(),Re()}function Pe(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,s.WL)((0,s.Xl)(t.exposed)),{get:(e,n)=>n in e?e[n]:n in bt?bt[n](t):void 0,has:(t,e)=>e in t||e in bt}))}const Le=(t,e)=>(0,s.Fl)(t,e,$e),De=Symbol(""),Ue=()=>D(De),Me="3.2.45",je="undefined"!=typeof document?document:null,Be=je&&je.createElement("template"),Fe={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?je.createElementNS("http://www.w3.org/2000/svg",t):je.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&s.setAttribute("multiple",i.multiple),s},createText:t=>je.createTextNode(t),createComment:t=>je.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>je.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),s!==r&&(s=s.nextSibling););else{Be.innerHTML=i?`<svg>${t}</svg>`:t;const s=Be.content;if(i){const t=s.firstChild;for(;t.firstChild;)s.appendChild(t.firstChild);s.removeChild(t)}e.insertBefore(s,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ge=/\s*!important$/;function We(t,e,n){if((0,i.kJ)(n))n.forEach((n=>We(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=function(t,e){const n=ze[e];if(n)return n;let s=(0,i._A)(e);if("filter"!==s&&s in t)return ze[e]=s;s=(0,i.kC)(s);for(let n=0;n<He.length;n++){const i=He[n]+s;if(i in t)return ze[e]=i}return e}(t,e);Ge.test(n)?t.setProperty((0,i.rs)(s),n.replace(Ge,""),"important"):t[s]=n}}const He=["Webkit","Moz","ms"],ze={},qe="http://www.w3.org/1999/xlink";const Ye=/(?:Once|Passive|Capture)$/;let Ve=0;const Ke=Promise.resolve(),Je=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const Xe="transition",Ze="animation",Qe=(t,{slots:e})=>function(t,e,n){const s=arguments.length;return 2===s?(0,i.Kn)(e)&&!(0,i.kJ)(e)?ue(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):3===s&&ue(n)&&(n=[n]),ge(t,e,n))}(z,function(t){const e={};for(const n in t)n in tn||(e[n]=t[n]);if(!1===t.css)return e;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,f=function(t){if(null==t)return null;if((0,i.Kn)(t))return[sn(t.enter),sn(t.leave)];{const e=sn(t);return[e,e]}}(r),g=f&&f[0],_=f&&f[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:b,onLeave:w,onLeaveCancelled:k,onBeforeAppear:S=y,onAppear:E=v,onAppearCancelled:x=b}=e,T=(t,e,n)=>{on(t,e?h:l),on(t,e?u:a),n&&n()},N=(t,e)=>{t._isLeaving=!1,on(t,d),on(t,m),on(t,p),e&&e()},C=t=>(e,n)=>{const i=t?E:v,r=()=>T(e,t,n);en(i,[e,r]),an((()=>{on(e,t?c:o),rn(e,t?h:l),nn(i)||cn(e,s,g,r)}))};return(0,i.l7)(e,{onBeforeEnter(t){en(y,[t]),rn(t,o),rn(t,a)},onBeforeAppear(t){en(S,[t]),rn(t,c),rn(t,u)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>N(t,e);rn(t,d),document.body.offsetHeight,rn(t,p),an((()=>{t._isLeaving&&(on(t,d),rn(t,m),nn(w)||cn(t,s,_,n))})),en(w,[t,n])},onEnterCancelled(t){T(t,!1),en(b,[t])},onAppearCancelled(t){T(t,!0),en(x,[t])},onLeaveCancelled(t){N(t),en(k,[t])}})}(t),e);Qe.displayName="Transition";const tn={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},en=(Qe.props=(0,i.l7)({},z.props,tn),(t,e=[])=>{(0,i.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)}),nn=t=>!!t&&((0,i.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function sn(t){return(0,i.He)(t)}function rn(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function on(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function an(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let ln=0;function cn(t,e,n,i){const s=t._endId=++ln,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=function(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),s=i("transitionDelay"),r=i("transitionDuration"),o=un(s,r),a=i("animationDelay"),l=i("animationDuration"),c=un(a,l);let u=null,h=0,d=0;return e===Xe?o>0&&(u=Xe,h=o,d=r.length):e===Ze?c>0&&(u=Ze,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?Xe:Ze:null,d=u?u===Xe?r.length:l.length:0),{type:u,timeout:h,propCount:d,hasTransform:u===Xe&&/\b(transform|all)(,|$)/.test(i("transitionProperty").toString())}}(t,e);if(!o)return i();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,d),r()},d=e=>{e.target===t&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),t.addEventListener(c,d)}function un(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>hn(e)+hn(t[n]))))}function hn(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}new WeakMap,new WeakMap;const dn=(0,i.l7)({patchProp:(t,e,n,s,r=!1,a,l,c,u)=>{"class"===e?function(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,s,r):"style"===e?function(t,e,n){const s=t.style,r=(0,i.HD)(n);if(n&&!r){for(const t in n)We(s,t,n[t]);if(e&&!(0,i.HD)(e))for(const t in e)null==n[t]&&We(s,t,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}(t,n,s):(0,i.F7)(e)?(0,i.tR)(e)||function(t,e,n,s,r=null){const a=t._vei||(t._vei={}),l=a[e];if(s&&l)l.value=s;else{const[n,c]=function(t){let e;if(Ye.test(t)){let n;for(e={};n=t.match(Ye);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[":"===t[2]?t.slice(3):(0,i.rs)(t.slice(2)),e]}(e);if(s){const l=a[e]=function(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();o(function(t,e){if((0,i.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=Ve||(Ke.then((()=>Ve=0)),Ve=Date.now()),n}(s,r);!function(t,e,n,i){t.addEventListener(e,n,i)}(t,n,l,c)}else l&&(function(t,e,n,i){t.removeEventListener(e,n,i)}(t,n,l,c),a[e]=void 0)}}(t,e,0,s,l):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,s){return s?"innerHTML"===e||"textContent"===e||!!(e in t&&Je.test(e)&&(0,i.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!Je.test(e)||!(0,i.HD)(n))&&e in t))))}(t,e,s,r))?function(t,e,n,s,r,o,a){if("innerHTML"===e||"textContent"===e)return s&&a(s,r,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}let l=!1;if(""===n||null==n){const s=typeof t[e];"boolean"===s?n=(0,i.yA)(n):null==n&&"string"===s?(n="",l=!0):"number"===s&&(n=0,l=!0)}try{t[e]=n}catch(t){}l&&t.removeAttribute(e)}(t,e,s,a,l,c,u):("true-value"===e?t._trueValue=s:"false-value"===e&&(t._falseValue=s),function(t,e,n,s,r){if(s&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(qe,e.slice(6,e.length)):t.setAttributeNS(qe,e,n);else{const s=(0,i.Pq)(e);null==n||s&&!(0,i.yA)(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}(t,e,s,r))}},Fe);let pn;var mn=n(27856);function fn(){return mn()}const gn={install(t,e={},n=fn){t.directive("dompurify-html",function(t={},e=fn){const n=e();!function(t,e){const n=t.hooks??{};let i;for(i in n){const t=n[i];void 0!==t&&e.addHook(i,t)}}(t,n);const i=function(e,i){const s=i.value;if(i.oldValue===s)return;const r=`${s}`,o=i.arg,a=t.namedConfigurations,l=t.default??{};e.innerHTML=a&&void 0!==o?n.sanitize(r,a[o]??l):n.sanitize(r,l)};return{mounted:i,updated:i}}(e,n))}};var _n,yn,vn,bn=n(58339);function wn(t,e,n){const s=((...t)=>{const e=(pn||(pn=Jt(dn))).createApp(...t),{mount:n}=e;return e.mount=t=>{const s=function(t){return(0,i.HD)(t)?document.querySelector(t):t}(t);if(!s)return;const r=e._component;(0,i.mf)(r)||r.render||r.template||(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e})(t);s.use(gn,{default:{ADD_ATTR:["target"]}}),n&&n.use&&n.use(s);let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error("Can't find root element");if(n&&n.shadowDom){let t;r.shadowRoot?(t=r.shadowRoot,t.innerHTML=""):t=r.attachShadow({mode:"open"}),r=t.appendChild(document.createElement("div"))}const o={};return s.mixin({beforeCreate(){this.$options.styles&&!o[this.$options.__file]&&(r.appendChild(function(t,e=""){const n=document.createElement("style");n.type="text/css",n.setAttribute("data-name",e);const i=document.createTextNode(t);return n.appendChild(i),n}(this.$options.styles.join("\n"),this.$options.__file)),o[this.$options.__file]=!0)},methods:{lang:bn.storage.lang,getOption:t=>bn.settings.get(t)}}),s.directive("visible",((t,e)=>{t.style.visibility=e.value?"visible":"hidden"})),s.mount(r)}(yn=_n||(_n={}))[yn.NoState=0]="NoState",yn[yn.Watching=1]="Watching",yn[yn.Completed=2]="Completed",yn[yn.Onhold=3]="Onhold",yn[yn.Dropped=4]="Dropped",yn[yn.PlanToWatch=6]="PlanToWatch",yn[yn.All=7]="All",yn[yn.Rewatching=23]="Rewatching",function(t){t[t.NoScore=0]="NoScore",t[t.R1=1]="R1",t[t.R2=2]="R2",t[t.R3=3]="R3",t[t.R4=4]="R4",t[t.R5=5]="R5",t[t.R6=6]="R6",t[t.R7=7]="R7",t[t.R8=8]="R8",t[t.R9=9]="R9",t[t.R10=10]="R10"}(vn||(vn={}));var kn=n(9e4);let Sn;if(function(){try{return localStorage.getItem("x"),!0}catch(t){return kn.info("Local storage is not available",t),!1}}())Sn=localStorage;else{let t={};Sn={getItem:e=>e in t?t[e]:null,setItem(e,n){t[e]=n},removeItem(e){e in t&&delete t[e]},clear(){t={}}}}const En=Sn;var xn=n(58339),Tn=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class Nn{constructor(t,e,n=!0,i=0){return this.key=t,this.ttl=e,this.localStorage=n,this.refetchTtl=i,this}containsValue(t){return null!=t}valueValid(t,e){return!(!t||!t.timestamp)&&(new Date).getTime()<t.timestamp+e}ttlValid(t){return this.valueValid(t,this.ttl)}refetchTtlValid(t){return this.valueValid(t,this.refetchTtl)}hasValue(){return Tn(this,void 0,void 0,(function*(){const t=yield this.getStorage();return!(!this.containsValue(t)||!this.ttlValid(t))}))}hasValueAndIsNotEmpty(){return Tn(this,void 0,void 0,(function*(){const t=yield this.getStorage();return!!(this.containsValue(t)&&void 0!==t.data&&null!==t.data&&Object.keys(t.data).length&&this.ttlValid(t))}))}fullState(){return Tn(this,void 0,void 0,(function*(){const t=yield this.getStorage(),e=this.containsValue(t)&&this.refetchTtlValid(t),n=this.ttlValid(t);return{value:t,hasValue:e,isValid:n,refetch:e&&!n}}))}getValue(){return Tn(this,void 0,void 0,(function*(){return(yield this.getStorage()).data}))}setValue(t){return Tn(this,void 0,void 0,(function*(){const e={data:t,timestamp:(new Date).getTime()};return this.localStorage?En.setItem(this.key,JSON.stringify(e)):xn.storage.set(this.key,e)}))}clearValue(){return Tn(this,void 0,void 0,(function*(){return this.localStorage?En.removeItem(this.key):xn.storage.remove(this.key)}))}getStorage(){return Tn(this,void 0,void 0,(function*(){return this.localStorage?JSON.parse(En.getItem(this.key)):xn.storage.get(this.key)}))}}n(58339);var Cn=n(56387),Rn=n(9e4),An=n(58339);const $n=Math.floor(1e9*Math.random()),On=new Cn.EventEmitter2({wildcard:!0});function In(t,...e){Rn.m("Global").m("Emit").debug(t,...e),On.emit(`${t}`,...e),void 0!==An&&An&&"webextension"===An.type&&chrome.runtime.sendMessage({name:"emitter",item:{event:t,params:e,id:$n}})}void 0!==An&&An&&"webextension"===An.type&&chrome.runtime.onMessage.addListener(((t,e,n)=>{t.name&&"emitter"===t.name&&(Rn.m("Global").m("Event").debug(t.item.id,t.item.event,t.item.params),t.item.id!==$n&&On.emit(t.item.event,...t.item.params))}));var Pn=n(58339);class Ln extends Error{constructor(t){super(t),this.name="NotAutenticatedError"}}class Dn extends Error{constructor(t){super(t),this.name="UrlNotSupportedError"}}class Un extends Error{constructor(t){super(t),this.name="ServerOfflineError"}}class Mn extends Error{constructor(t){super(t),this.name="NotFoundError"}}class jn extends Error{constructor(t){super(t),this.name="UnexpectedResponseError"}}function Bn(t,e){return t instanceof Ln?Pn.storage.lang("Error_Authenticate",[e]):t instanceof Un?"Server Offline":t instanceof Dn?`Incorrect url provided [${t.message}]`:t instanceof Mn?"Could not find this entry":t.message}var Fn,Gn,Wn=n(58339),Hn=n(9e4),zn=n(9375),qn=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.seal(On),n(19947),n(9375),n(58339),n(58339),function(t){t[t.watching=_n.Watching]="watching",t[t.completed=_n.Completed]="completed",t[t.on_hold=_n.Onhold]="on_hold",t[t.dropped=_n.Dropped]="dropped",t[t.plan_to_watch=_n.PlanToWatch]="plan_to_watch"}(Fn||(Fn={})),function(t){t[t.reading=_n.Watching]="reading",t[t.completed=_n.Completed]="completed",t[t.on_hold=_n.Onhold]="on_hold",t[t.dropped=_n.Dropped]="dropped",t[t.plan_to_read=_n.PlanToWatch]="plan_to_read"}(Gn||(Gn={})),n(58339),n(9e4);var Yn,Vn=n(9e4);n(58339),Vn.m("anilist","#3db4f2"),function(t){t[t.CURRENT=_n.Watching]="CURRENT",t[t.PLANNING=_n.PlanToWatch]="PLANNING",t[t.COMPLETED=_n.Completed]="COMPLETED",t[t.DROPPED=_n.Dropped]="DROPPED",t[t.PAUSED=_n.Onhold]="PAUSED",t[t.REPEATING=_n.Rewatching]="REPEATING"}(Yn||(Yn={})),n(58339),n(9e4);var Kn=n(9e4);n(58339),Kn.m("kitsu","#d65e43"),n(58339),n(9e4);var Jn=n(9e4),Xn=n(58339),Zn=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};function Qn(t,e=null){const n={watching:1,plantowatch:6,completed:2,notinteresting:4,hold:3};return null!==e?Object.keys(n).find((t=>n[t]===e)):n[t]}function ti(t,e){return Number.isNaN(t)||!t?`simkl:${e}`:t}function ei(t){if("number"==typeof t)return t;if(t){const e=t.match(/e\d+/i);if(null!==e){const t=parseInt(e[0].replace(/\D/,""));return Number.isNaN(t)?0:t}}return 0}let ni;function ii(t=!1){return Zn(this,void 0,void 0,(function*(){const e=Jn.m("Simkl","#9b7400").m("list");if(void 0===ni)ni=yield Xn.storage.get("simklList");else if(t)return ni;const n=yield Xn.storage.get("simklLastCheck"),i=yield this.call("https://api.simkl.com/sync/activities");if(e.log("Activity",n,i.anime),n&&n.removed_from_list!==i.anime.removed_from_list){const t=yield this.call("https://api.simkl.com/sync/all-items/anime"),n={};if(t)for(let e=0;e<t.anime.length;e++){const i=t.anime[e];void 0!==ni[i.show.ids.simkl]&&(n[i.show.ids.simkl]=ni[i.show.ids.simkl])}ni=n,e.log("remove",ni)}let s="";if(n&&ni&&(s=`date_from=${n.all}`,n.all===i.anime.all))return e.log("Up to date"),ni;if(ni||(ni={}),n&&n.rated_at!==i.anime.rated_at){const t=yield this.call(`https://api.simkl.com/sync/ratings/anime?${s}`);if(e.log("ratedUpdate",t),t)for(let e=0;e<t.anime.length;e++){const n=t.anime[e];ni[n.show.ids.simkl]=n}}const r=yield this.call(`https://api.simkl.com/sync/all-items/anime?${s}`);if(e.log("listUpdate",r),r)for(let t=0;t<r.anime.length;t++){const e=r.anime[t];ni[e.show.ids.simkl]=e}return e.log("totalList",ni),yield Xn.storage.set("simklList",ni),yield Xn.storage.set("simklLastCheck",i.anime),ni}))}function si(t,e=!1){return Zn(this,void 0,void 0,(function*(){const n=yield this.syncList(e);if(t.simkl){if(void 0!==n[t.simkl])return n[t.simkl]}else{if(!t.mal)throw"No id passed";{const e=Object.values(n);for(let n=0;n<e.length;n++){const i=e[n];if(void 0!==i.show.ids.mal&&Number(i.show.ids.mal)===Number(t.mal))return i}}}return null}))}function ri(t,e={},n=!1,i="GET",s=!0){return Zn(this,void 0,void 0,(function*(){const r=Jn.m("Simkl","#9b7400").m("call");n&&(t+=`?${new URLSearchParams(Object.entries(e))}`,e=void 0),r.log(i,t,e);const o={"simkl-api-key":"39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0",Accept:"application/vnd.api+json","Content-Type":"application/json"};return s?o.Authorization=`Bearer ${Xn.settings.get("simklToken")}`:r.log("No login"),Xn.request.xhr(i,{url:t,headers:o,data:e}).then((t=>Zn(this,void 0,void 0,(function*(){const e=function(t){try{return JSON.parse(t)}catch(t){throw new jn(t.message)}}(t.responseText);return this.errorHandling(e,t.status),e}))))}))}function oi(t,e){if(e>499&&e<600||0===e)throw new Un(`Server Offline status: ${e}`);if(t&&void 0!==t.error){this.logger.error("[SINGLE]","Error",t.error);const{error:e}=t;if(e.code)throw e.code,new Error(e.error);if("user_token_failed"===e)throw new Ln("user_token_failed");throw e}}var ai,li=n(58339),ci=n(9e4),ui=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class hi extends class{constructor(t=1,e="anime",n="default"){return this.status=t,this.listType=e,this.sort=n,this.done=!1,this.loading=!1,this.firstLoaded=!1,this.seperateRewatching=!1,this.modes={frontend:!1,sortAiring:!1,initProgress:!1,cached:!1},this.username="",this.offset=0,this.templist=[],this.api=Wn,this.cacheObj=void 0,this.status=Number(this.status),this.logger=Hn.m("[S]","#348fff"),this}setTemplist(t){return this.templist=t,this}getTemplist(){return this.templist}setSort(t){if(this.firstLoaded||this.loading)throw"To late to change sort";this.sort=t}isDone(){return this.done}isLoading(){return this.loading}isFirstLoaded(){return this.firstLoaded}getCompleteList(){return qn(this,void 0,void 0,(function*(){do{yield this.getNext()}while(!this.done);return this.modes.sortAiring&&(yield this.sortAiringList()),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,18)),this.firstLoaded=!0,this.templist}))}getNextPage(){return qn(this,void 0,void 0,(function*(){return this.done?this.templist:!this.modes.frontend||1!==this.status||"default"!==this.sort&&"unread"!==this.sort?(yield this.getNext(),this.modes.cached&&this.getCache().setValue(this.templist.slice(0,24)),this.firstLoaded=!0,this.templist):(this.modes.sortAiring=!0,this.getCompleteList())}))}getNext(){return qn(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.getPart();this.templist=this.templist.concat(t),this.loading=!1}))}getCached(){return qn(this,void 0,void 0,(function*(){if(yield this.getCache().hasValue()){const t=yield this.getCache().getValue();return t.forEach((t=>{(t=this.fn(t)).watchedEp="",t.score=""})),t}return[]}))}initFrontendMode(){this.modes.frontend=!0,this.updateListener=On.on("update.*",(t=>{if(Hn.log("update",t),t.cacheKey){const e=this.templist.find((e=>e.cacheKey===t.cacheKey));Hn.log(e),e&&t.state&&(e.watchedEp=t.state.episode,e.score=t.state.score,e.status=t.state.status)}}),{objectify:!0})}destroy(){this.updateListener&&this.updateListener.off()}getUsername(){return this.getUserObject().then((t=>t.username))}getSortingOptions(t=!1){const e=[{icon:"filter_list",title:"Default",value:"default"}];return 1===this.status&&"manga"===this.listType&&e.push({icon:"adjust",title:"Unread",value:"unread"}),this._getSortingOptions().forEach((n=>{if(!t){if(n.asc){const t=Object.assign({},n);delete t.asc,t.value+="_asc",t.title+=" Ascending",e.push(t)}delete n.asc}e.push(n)})),e}flashmError(t){zn.flashm(this.errorMessage(t),{error:!0,type:"error"})}errorMessage(t){return Bn(t,this.authenticationUrl)}fn(t,e=""){return qn(this,void 0,void 0,(function*(){let n=null;return t.fn={continueUrl:()=>null!==n?n:zn.getContinueWaching(t.type,t.cacheKey).then((e=>{const i=parseInt(t.watchedEp.toString());return void 0===e||e.ep!==i+1?"":(n=e.url,n)})),initProgress:()=>new ki(t.cacheKey,t.type).init().then((e=>{t.fn.progress=e})),progress:!1},t.options=yield zn.getEntrySettings(t.type,t.cacheKey,t.tags),e&&(t.options.u=e),(this.modes.sortAiring||this.modes.initProgress)&&(yield t.fn.initProgress()),t}))}initProgress(){return qn(this,void 0,void 0,(function*(){const t=[];this.templist.forEach((e=>{t.push(e.fn.initProgress())})),yield Promise.all(t)}))}sortAiringList(){return qn(this,void 0,void 0,(function*(){if("unread"===this.sort)return void this.sortUnread();const t=[];let e=[],n=[];function i(t,e){let n=t.fn.progress.getPredictionTimestamp(),i=e.fn.progress.getPredictionTimestamp();return n||(n=999999999999),i||(i=n),n-i}this.templist.forEach((i=>{const s=i.fn.progress;"anime"===this.listType?s&&s.isAiring()&&s.getPredictionTimestamp()?i.watchedEp<s.getCurrentEpisode()?e.push(i):n.push(i):t.push(i):s&&s.isAiring()&&s.getCurrentEpisode()&&i.watchedEp&&i.watchedEp<s.getCurrentEpisode()&&i.watchedEp+6>s.getCurrentEpisode()?e.push(i):t.push(i)})),e=e.sort(i).reverse(),n=n.sort(i),this.templist=e.concat(n,t)}))}sortUnread(){this.templist=this.templist.sort((function(t,e){let n=1e4,i=1e4;if(t.fn.progress&&t.fn.progress.getCurrentEpisode()){const e=t.fn.progress.getCurrentEpisode()-t.watchedEp;e>0&&(n=e)}if(e.fn.progress&&e.fn.progress.getCurrentEpisode()){const t=e.fn.progress.getCurrentEpisode()-e.watchedEp;t>0&&(i=t)}return n-i}))}getCache(){return this.cacheObj||(this.cacheObj=new Nn(`list/${this.name}/${this.listType}/${this.status}/${this.sort}`,1728e5)),this.cacheObj}}{constructor(){super(...arguments),this.name="Simkl",this.authenticationUrl="https://simkl.com/oauth/authorize?response_type=code&client_id=39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0&redirect_uri=https://simkl.com/apps/chrome/mal-sync/connected/",this.errorHandling=oi,this.syncList=ii,this.translateList=Qn,this.getCacheKey=ti,this.getEpisode=ei,this.call=ri}getUserObject(){return ui(this,void 0,void 0,(function*(){return this.call("https://api.simkl.com/users/settings").then((t=>{if(t&&t.user&&void 0!==t.user.name)return{username:t.user.name,picture:t.user.avatar||"",href:`https://simkl.com/${t.account.id}`};throw new Ln("Not Authenticated")}))}))}deauth(){return li.settings.set("simklToken","")}_getSortingOptions(){return[]}getPart(){return ui(this,void 0,void 0,(function*(){if(ci.log("[UserList][Simkl]",`status: ${this.status}`),"manga"===this.listType)throw new Error("Does not support manga");return this.syncList().then((t=>ui(this,void 0,void 0,(function*(){this.done=!0;const e=yield this.prepareData(Object.values(t),this.listType,this.status);return ci.log(e),e}))))}))}prepareData(t,e,n){return ui(this,void 0,void 0,(function*(){const i=[];for(let s=0;s<t.length;s++){const r=t[s],o=this.translateList(r.status);if(7!==n&&parseInt(o)!==n)continue;let a=this.getEpisode(r.last_watched);if(2===o&&(a=r.total_episodes_count),"anime"===e){const t=yield this.fn({malId:r.show.ids.mal,apiCacheKey:r.show.ids.mal,uid:r.show.ids.simkl,cacheKey:this.getCacheKey(r.show.ids.mal,r.show.ids.simkl),type:e,title:r.show.title,url:`https://simkl.com/${e}/${r.show.ids.simkl}`,watchedEp:a,totalEp:r.total_episodes_count,status:o,score:r.user_rating?r.user_rating:0,image:`https://simkl.in/posters/${r.show.poster}_ca.jpg`,imageLarge:`https://simkl.in/posters/${r.show.poster}_m.jpg`,imageBanner:`https://simkl.in/posters/${r.show.poster}_w.jpg`,tags:r.private_memo,airingState:r.anime_airing_status});i.push(t)}}return i}))}}n(58339),function(t){t[t.watching=_n.Watching]="watching",t[t.planned=_n.PlanToWatch]="planned",t[t.completed=_n.Completed]="completed",t[t.dropped=_n.Dropped]="dropped",t[t.on_hold=_n.Onhold]="on_hold",t[t.rewatching=_n.Rewatching]="rewatching"}(ai||(ai={})),n(58339),n(9e4),n(58339),n(9e4),n(9375),n(58339);var di=n(58339),pi=n(9e4),mi=n(9375),fi=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};function gi(t,e){return fi(this,void 0,void 0,(function*(){if(!e)return{};const n=yield di.request.xhr("GET",`https://api.malsync.moe/nc/mal/${t}/${e}/pr`);return JSON.parse(n.responseText)}))}var _i=n(58339);function yi(t,e=!0){if(!t)return"";const n=Date.now();let i,s;if(n>t?(s=!1,i=n-t):(s=!0,i=t-n),i<3e4)return _i.storage.lang("bookmarksItem_now");let r=function(t){let e="";return 1===t.y?e+=` ${t.y} ${_i.storage.lang("bookmarksItem_Year")}`:t.y>1&&(e+=` ${t.y} ${_i.storage.lang("bookmarksItem_Years")}`),1===t.d?e+=` ${t.d} ${_i.storage.lang("bookmarksItem_Day")}`:t.d>1&&(e+=` ${t.d} ${_i.storage.lang("bookmarksItem_Days")}`),1===t.h?e+=` ${t.h} ${_i.storage.lang("bookmarksItem_Hour")}`:t.h>1&&(e+=` ${t.h} ${_i.storage.lang("bookmarksItem_Hours")}`),1===t.m?e+=` ${t.m} ${_i.storage.lang("bookmarksItem_min")}`:t.m>1&&(e+=` ${t.m} ${_i.storage.lang("bookmarksItem_mins")}`),1===t.s?e+=` ${t.s} ${_i.storage.lang("bookmarksItem_sec")}`:t.s>1&&(e+=` ${t.s} ${_i.storage.lang("bookmarksItem_secs")}`),e.trim()}((o=function(t){let e,n,i,s;s=Math.floor(t/1e3),i=Math.floor(s/60),s%=60,n=Math.floor(i/60),i%=60,e=Math.floor(n/24),n%=24;const r=Math.floor(e/365);return e%=365,{y:r,d:e,h:n,m:i,s}}(i)).y>1?o.d>182?{y:o.y+1,d:0,h:0,m:0,s:0}:{y:o.y,d:0,h:0,m:0,s:0}:o.y?{y:o.y,d:o.d,h:0,m:0,s:0}:o.d>3?o.h>11?{y:0,d:o.d+1,h:0,m:0,s:0}:{y:0,d:o.d,h:0,m:0,s:0}:o.d?{y:0,d:o.d,h:o.h,m:0,s:0}:o.h>5?o.m>29?{y:0,d:0,h:o.h+1,m:0,s:0}:{y:0,d:0,h:o.h,m:0,s:0}:o.h?{y:0,d:0,h:o.h,m:o.m,s:0}:o.m>14?{y:0,d:0,h:0,m:o.m,s:0}:{y:0,d:0,h:0,m:o.m,s:o.s});var o;return!s&&e&&(r=_i.storage.lang("bookmarksItem_ago",[r])),r}var vi=n(9e4),bi=n(58339),wi=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class ki{constructor(t,e){return this.cacheKey=t,this.type=e,this.releaseItem=void 0,this.logger=vi.m("progress").m(t.toString()),this}initReleaseProgress(t){return wi(this,void 0,void 0,(function*(){t&&(yield function(t,e,n="default",i=pi.m("release")){return fi(this,void 0,void 0,(function*(){if(n||(n="default"),(i=i.m(t.uid.toString())).log(t.title,t.cacheKey,t.apiCacheKey,`Mode: ${n}`),!t.apiCacheKey)return void i.log("No Api Cache Id");if(!di.settings.get("epPredictions"))return void i.log("epPredictions disabled");const s=yield di.storage.get(`release/${e}/${t.cacheKey}`);i.m("Load").log(s);let r,o=!1;if(s&&s.mode&&s.mode!==n&&(o=!0),s&&s.timestamp&&Date.now()-s.timestamp<12e4&&!o)return void i.log("Up to date");if(s&&s.finished&&s.timestamp&&Date.now()-s.timestamp<6048e5&&!o)return void i.log("Fininshed");if(s&&!s.value&&s.timestamp&&Date.now()-s.timestamp<864e5&&!o)return void i.log("Nulled");o&&i.log("Update forced"),"off"===n&&(i.log("Disabled"),t.xhr=[]),void 0!==t.xhr?r=t.xhr:(r=yield gi(e,t.apiCacheKey),yield mi.wait(500)),i.log(r);const a=function(t,e,n){const i={};if(!t.length)return null;let s;if("default"===e?(i.mainId="anime"===n?di.settings.get("progressIntervalDefaultAnime"):di.settings.get("progressIntervalDefaultManga"),i.fallback="en/sub"):i.mainId=e,i.fallbackPrediction="jp/dub",i.mainId){const e=t.find((t=>t.id===i.mainId));e&&(s=e)}if(i.fallback&&!s){const e=t.find((t=>t.id===i.fallback));e&&(s=e)}if(i.fallbackPrediction&&s&&!s.predicition&&s.lastEp&&s.lastEp.timestamp){const e=t.find((t=>t.id===i.fallbackPrediction)),n=s.lastEp.timestamp+6048e5;n&&e&&e.predicition&&(s.lastEp.total===e.lastEp.total?Math.abs(n-e.predicition.timestamp)<108e6&&(s.predicition={timestamp:n,probability:"medium"}):e.lastEp.total&&s.lastEp.total===e.lastEp.total-1&&Math.abs(n-(e.predicition.timestamp-6048e5))<108e6&&(s.predicition={timestamp:n,probability:"medium"}))}if(i.fallbackPrediction&&!s){const e=t.find((t=>t.id===i.fallbackPrediction));e&&e.lastEp&&e.predicition&&0===e.lastEp.total&&(s=e,s.predicition.probability="medium")}return s||null}(r,n,e);a||i.log("No value for the selected mode");let l=!1;a&&a.state&&"complete"===a.state&&(l=!0),i.m("Save").log(a),s&&s.value&&function(t,e,n,i){fi(this,void 0,void 0,(function*(){try{if("anime"===i&&!di.settings.get("progressNotificationsAnime")||"manga"===i&&!di.settings.get("progressNotificationsManga"))return;if(t&&n&&n&&e.lastEp&&void 0!==e.lastEp.total&&n.lastEp&&n.lastEp.total&&e.lang===n.lang&&e.type===n.type&&e.lastEp.total<n.lastEp.total&&t.watchedEp+1===n.lastEp.total){let e;e=t.single?{title:t.title,text:di.storage.lang(`syncPage_malObj_nextEp_${i}`,[n.lastEp.total]),sticky:!0,image:yield t.single.getImage(),url:t.single.getStreamingUrl()?t.single.getStreamingUrl():t.single.getUrl()}:{title:t.title,text:di.storage.lang(`syncPage_malObj_nextEp_${i}`,[n.lastEp.total]),sticky:!0,image:t.image,url:t.options&&t.options.u?t.options.u:t.url},di.request.notification(e)}}catch(t){pi.error("Could not check notification Progress",t)}}))}(t,s.value,a,e),yield di.storage.set(`release/${e}/${t.cacheKey}`,{timestamp:Date.now(),value:a,mode:n,finished:l})}))}(t,this.type,t.progressMode));const e=yield bi.storage.get(`release/${this.type}/${this.cacheKey}`);this.logger.m("Init Release").log(e),e&&(function(t){if(t&&t.timestamp){const e=(new Date).getTime()-t.timestamp;if(t.finished&&e<6048e5)return!1;if(!t.value&&e<864e5)return!1;if(e<864e5)return!1}return!0}(e)?this.logger.log("Too old"):this.releaseItem=e)}))}getProgressCurrentEpisode(){const t=this.releaseItem;return t&&t.value&&t.value.lastEp&&t.value.lastEp.total?t.value.lastEp.total:null}isProgressFinished(){const t=this.releaseItem;return!(!t||!t.finished)}getProgressPrediction(){const t=this.releaseItem;return t&&t.value&&t.value.predicition&&t.value.predicition.timestamp?t.value.predicition.timestamp:null}getProgressLastTimestamp(){const t=this.releaseItem;return t&&t.value&&t.value.lastEp&&t.value.lastEp.timestamp?t.value.lastEp.timestamp:null}init(t=!1){return wi(this,void 0,void 0,(function*(){return yield Promise.all([this.initReleaseProgress(t)]),this}))}getCurrentEpisode(){return bi.settings.get("epPredictions")?this.getProgressCurrentEpisode():null}isFinished(){return this.isProgressFinished()}isAiring(){return!this.isFinished()}getPredictionTimestamp(){return!this.getProgressPrediction()||(new Date).getTime()>this.getProgressPrediction()?NaN:this.getProgressPrediction()}getPrediction(){return yi(this.getPredictionTimestamp())}getPredictionText(){const t=this.getPrediction();return t?bi.storage.lang(`prediction_Episode_${this.type}`,[t]):""}getLastTimestamp(){return this.getProgressLastTimestamp()}getLast(t=!0){return yi(this.getLastTimestamp(),t)}getLastText(){const t=this.getLast(!1);return t?bi.storage.lang(`prediction_Last_${this.type}`,[t]):""}getAuto(){const t=this.getPrediction();if(t)return t;return this.getLast()||""}getAutoText(){const t=this.getPredictionText();if(t)return t;return this.getLastText()||""}getColor(){return"#f57c00"}getBars(t,e){const n=this.getCurrentEpisode(),i={totalWidth:100,epWidth:0,predWidth:0};if(!e)if(i.totalWidth=0,t&&(!n||t>=n))e=Math.ceil(1.2*t);else{if(!n||t&&!(t<n))return i;e=Math.ceil(1.2*n)}return t&&(i.epWidth=t/e*100,i.epWidth>100&&(i.epWidth=100)),n&&(i.predWidth=n/e*100,i.predWidth>100&&(i.predWidth=100)),i}}Error;class Si extends Error{constructor(t){super(t),this.name="SafeError"}}Error,Error;var Ei=n(58339);const xi={ui:{module:"dropdown"},getOptions:()=>[{value:0,label:Ei.storage.lang("UI_Score_Not_Rated")},{value:100,label:Ei.storage.lang("UI_Score_Masterpiece")},{value:90,label:Ei.storage.lang("UI_Score_Great")},{value:80,label:Ei.storage.lang("UI_Score_VeryGood")},{value:70,label:Ei.storage.lang("UI_Score_Good")},{value:60,label:Ei.storage.lang("UI_Score_Fine")},{value:50,label:Ei.storage.lang("UI_Score_Average")},{value:40,label:Ei.storage.lang("UI_Score_Bad")},{value:30,label:Ei.storage.lang("UI_Score_VeryBad")},{value:20,label:Ei.storage.lang("UI_Score_Horrible")},{value:10,label:Ei.storage.lang("UI_Score_Appalling")}],valueToOptionValue:t=>t?t<10?10:10*Math.round(t/10):0,optionValueToValue:t=>t?Number(t):0};var Ti=n(9e4),Ni=n(58339),Ci=n(9375),Ri=n(19947),Ai=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.seal(On);var $i=n(9e4),Oi=n(9375),Ii=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class Pi extends class{constructor(t){return this.url=t,this.type=null,this.rewatchingSupport=!0,this.ids={mal:NaN,ani:NaN,kitsu:{id:NaN,slug:""},simkl:NaN},this.options=null,this.progress=!1,this.updateProgress=!1,this._onList=!1,this._authenticated=!1,this.handleUrl(t),this.logger=Ti.m("[S]","#348fff"),this}getType(){return this.type}getUrl(){return this.url}supportsRewatching(){return this.rewatchingSupport}getApiCacheKey(){return this.getKey(["ANILIST"])}getRulesCacheKey(){return this.getKey(["ANILIST","KITSU"],!1)}setStatus(t){return t=Number(t),this._setStatus(t),this}getStatus(){return this.isOnList()?this._getStatus():_n.NoState}getScoreMode(){return xi}setScore(t){return(t=parseInt(`${t}`))||(t=0),this._setScore(t),this}getScore(){return this._getScore()||0}setAbsoluteScore(t){return t=parseInt(`${t}`),this._setAbsoluteScore(t),this}getAbsoluteScore(){return this._getAbsoluteScore()||0}setEpisode(t){return t=parseInt(`${t}`),this.getTotalEpisodes()&&t>this.getTotalEpisodes()&&(t=this.getTotalEpisodes()),this._setEpisode(t),this}getEpisode(){return this._getEpisode()}setVolume(t){return this._setVolume(t),this}getVolume(){return this._getVolume()}setStreamingUrl(t){return this.options&&(this.options.u=t),this}getStreamingUrl(){if(this.options&&this.options.u)return this.options.u}cleanTags(){this.options=null}initProgress(){return Ai(this,void 0,void 0,(function*(){const t=yield gi(this.getType(),this.getApiCacheKey());return new ki(this.getCacheKey(),this.getType()).init({uid:this.getCacheKey(),apiCacheKey:this.getApiCacheKey(),title:this.getTitle(),cacheKey:this.getCacheKey(),progressMode:this.getProgressMode(),watchedEp:this.getEpisode(),single:this,xhr:t}).then((e=>{this.updateProgress=!1,this.progress=e,this.progressXhr=t}))}))}getProgress(){return!!this.progress&&this.progress}getProgressFormated(){const t=[],e=new Intl.DisplayNames("en",{type:"language"});return Ti.log(this.progressXhr),this.progressXhr&&Object.keys(this.progressXhr).length&&this.progressXhr.forEach((n=>{t.push({type:n.type,key:n.id,state:n.state,label:e.of(n.lang.replace(/^jp$/,"ja"))||n.lang,dropped:"dropped"===n.state||"discontinued"===n.state,episode:n.lastEp&&n.lastEp.total?n.lastEp.total:0,lastEp:n.lastEp,predicition:n.prediction})})),t}getProgressOptions(){return this.getProgressFormated().filter((t=>"complete"!==t.state))}getProgressCompleted(){return this.getProgressFormated().filter((t=>"complete"===t.state))}getProgressMode(){return this.options&&this.options.p?this.options.p:""}setProgressMode(t){this.options&&(this.options.p=t,this.updateProgress=!0),Ni.settings.get("malTags")||Ci.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags()).then((()=>this.initProgress()))}getProgressKey(){let t=this.getProgressMode();if(t||(t="anime"===this.getType()?Ni.settings.get("progressIntervalDefaultAnime"):Ni.settings.get("progressIntervalDefaultManga")),!t)return null;const e=/^([^/]*)\/(.*)$/.exec(t);return e?{key:t,lang:e[1],type:e[2]}:null}getPageRelations(){const t=this.shortName,e=[];return this.ids.mal&&"MAL"!==t&&e.push({name:"MAL",icon:"https://cdn.myanimelist.net/images/favicon.ico",link:`https://myanimelist.net/${this.type}/${this.ids.mal}`}),this.ids.ani&&"AniList"!==t&&e.push({name:"AniList",icon:"https://anilist.co/img/icons/favicon-32x32.png",link:`https://anilist.co/${this.type}/${this.ids.ani}`}),this.ids.kitsu.id&&"Kitsu"!==t&&e.push({name:"Kitsu",icon:"https://kitsu.io/favicon-32x32-3e0ecb6fc5a6ae681e65dcbc2bdf1f17.png",link:`https://kitsu.io/${this.type}/${this.ids.kitsu.id}`}),this.ids.simkl&&"Simkl"!==t&&e.push({name:"Simkl",icon:"https://eu.simkl.in/img_favicon/v2/favicon-32x32.png",link:`https://simkl.com/${this.type}/${this.ids.simkl}`}),e}fillRelations(){return Promise.resolve()}update(){return this.logger.log("[SINGLE]","Update info",this.ids),this.lastError=null,this._update().catch((t=>{throw this.lastError=t,t})).then((()=>(this.persistanceState=this.getStateEl(),Ci.getEntrySettings(this.type,this.getCacheKey(),this._getTags())))).then((t=>{this.options=t,this.registerEvent(),this.emitUpdate("state")}))}sync(){return Ai(this,void 0,void 0,(function*(){return this.logger.log("[SINGLE]","Sync",this.ids),this.lastError=null,this._setTags(yield Ci.setEntrySettings(this.type,this.getCacheKey(),this.options,this._getTags())),this._sync().catch((t=>{throw this.lastError=t,t})).then((()=>{this.undoState=this.persistanceState,this.updateProgress&&this.initProgress(),this._onList=!0,this.emitUpdate()}))}))}emitUpdate(t="update"){In(`${t}.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey(),state:this.getStateEl(),meta:{title:this.getTitle(),image:this.getImage(),malId:this.getMalId(),totalEp:this.getTotalEpisodes(),url:this.getUrl()}})}delete(){return Ai(this,void 0,void 0,(function*(){return this._delete().then((()=>{this._onList=!1,In(`delete.${this.getCacheKey()}`,{id:this.getPageId(),type:this.getType(),cacheKey:this.getCacheKey()})}))}))}registerEvent(){this.globalUpdateEvent||(this.globalUpdateEvent=On.on(`update.${this.getCacheKey()}`,(t=>this.updateEvent(t))))}updateEvent(t){this.isDirty()?this.logger.log("Ignore event"):t&&t.state&&(this.setStateEl(t.state),this.persistanceState=this.getStateEl(),On.emit("syncPage_fillUi"))}isDirty(){return JSON.stringify(this.persistanceState)!==JSON.stringify(this.getStateEl())||this.updateProgress}undo(){if(this.logger.log("[SINGLE]","Undo",this.undoState),!this.undoState)throw new Si("No undo state found");if(!this.undoState.onList){if(void 0===this.delete)throw new Error("Deleting an entry is not supported");return this.delete().then((()=>{this.setStateEl(this.undoState),this.undoState=null}))}return this.setStateEl(this.undoState),this.sync().then((()=>{this.undoState=null}))}getTitle(t=!1){return this._getTitle(t)}getTotalEpisodes(){let t=this._getTotalEpisodes();return t||(t=0),t}getTotalVolumes(){return this._getTotalVolumes()}isOnList(){return this._onList}isAuthenticated(){return this._authenticated}getDisplayUrl(){return this._getDisplayUrl()}getMalUrl(){return Number.isNaN(this.ids.mal)?null:`https://myanimelist.net/${this.getType()}/${this.ids.mal}`}getMalId(){return Number.isNaN(this.ids.mal)?null:this.ids.mal}getIds(){return this.ids}getImage(){return this._getImage()}getRating(){return this._getRating().then((t=>t||"N/A"))}setResumeWatching(t,e){return Ci.setResumeWaching(t,e,this.type,this.getCacheKey())}getResumeWatching(){return this.options&&this.options.r?this.options.r:null}setContinueWatching(t,e){return Ci.setContinueWaching(t,e,this.type,this.getCacheKey())}getContinueWatching(){return this.options&&this.options.c?this.options.c:null}increaseRewatchCount(){}getStateEl(){return{onList:this.isOnList(),episode:this.getEpisode(),volume:this.getVolume(),status:this.getStatus(),score:this.getScore(),absoluteScore:this.getAbsoluteScore()}}setStateEl(t){this._onList=t.onList,this.setEpisode(t.episode),this.setVolume(t.volume),this.setStatus(t.status),this.setScore(t.score),t.absoluteScore&&this.setAbsoluteScore(t.absoluteScore)}getStateDiff(){const t=this.getStateEl();if(t&&this.undoState){const e={};for(const n in t)t[n]!==this.undoState[n]&&(e[n]=t[n]);return e}}checkSync(t,e){return Ai(this,void 0,void 0,(function*(){const n=this.getEpisode(),i=this.getStatus(),s=this.getVolume();return i===_n.Completed?1===t&&this.startRewatchingMessage():!(n>=t&&!(void 0!==e&&(s||e>1||!t)&&e>s))&&(t&&t===this.getTotalEpisodes()?(i===_n.Rewatching?yield this.finishRewatchingMessage():yield this.finishWatchingMessage(),!0):i===_n.Watching||i===_n.Rewatching||this.startWatchingMessage())}))}startWatchingMessage(){return Ai(this,void 0,void 0,(function*(){return Ci.flashConfirm(Ni.storage.lang(`syncPage_flashConfirm_start_${this.getType()}`),"add").then((t=>(t&&this.setStatus(_n.Watching),t)))}))}finishWatchingMessage(){return Ai(this,void 0,void 0,(function*(){const t=this.getScoreCheckboxValue();let e='<div><select id="finish_score" style="margin-top:5px; color:white; background-color:#4e4e4e; border: none;">';return this.getScoreCheckbox().forEach((n=>{e+=`<option value="${n.value}" ${t===n.value?"selected":""}>${n.label}</option>`})),e+="</select></div>",Ci.flashConfirm(Ni.storage.lang("syncPage_flashConfirm_complete")+e,"complete").then((t=>(t&&(this.setStatus(_n.Completed),Number(Ri.$("#finish_score").val())>0&&(this.logger.log(`finish_score: ${Ri.$("#finish_score :selected").val()}`),this.handleScoreCheckbox(Ri.$("#finish_score :selected").val()))),t)))}))}startRewatchingMessage(){return Ai(this,void 0,void 0,(function*(){return Ci.flashConfirm(Ni.storage.lang(`syncPage_flashConfirm_rewatch_start_${this.getType()}`),"add").then((t=>(t&&this.setStatus(_n.Rewatching),t)))}))}finishRewatchingMessage(){return Ai(this,void 0,void 0,(function*(){return Ci.flashConfirm(Ni.storage.lang(`syncPage_flashConfirm_rewatch_finish_${this.getType()}`),"complete").then((t=>(t&&(this.setStatus(_n.Completed),this.increaseRewatchCount()),t)))}))}getScoreCheckbox(){return this.getScoreMode().getOptions()}getScoreCheckboxValue(){return this.getScoreMode().valueToOptionValue(this.getAbsoluteScore())}handleScoreCheckbox(t){this.setAbsoluteScore(this.getScoreMode().optionValueToValue(t))}getDisplayScoreCheckbox(){const t=this.getScoreCheckboxValue(),e=this.getScoreCheckbox().filter((e=>e.value===t));return e.length?e[0].label:""}getStatusCheckbox(){const t=[{value:"1",label:Ni.storage.lang(`UI_Status_watching_${this.getType()}`)},{value:"2",label:Ni.storage.lang("UI_Status_Completed")},{value:"3",label:Ni.storage.lang("UI_Status_OnHold")},{value:"4",label:Ni.storage.lang("UI_Status_Dropped")},{value:"6",label:Ni.storage.lang(`UI_Status_planTo_${this.getType()}`)}];return this.rewatchingSupport&&t.push({value:"23",label:Ni.storage.lang(`UI_Status_Rewatching_${this.getType()}`)}),t}handleStatusCheckbox(t){this.setStatus(t)}getStatusCheckboxValue(){return this.getStatus()}getKey(t,e=!0){return e&&this.ids.mal?this.ids.mal:this.ids.ani&&t.includes("ANILIST")?`anilist:${this.ids.ani}`:this.ids.kitsu.id&&t.includes("KITSU")?`kitsu:${this.ids.kitsu.id}`:this.ids.simkl&&t.includes("SIMKL")?`simkl:${this.ids.simkl}`:this.ids.mal}getLastError(){return this.lastError}getLastErrorMessage(){return this.errorMessage(this.getLastError())}flashmError(t){Ci.flashm(this.errorMessage(t),{error:!0,type:"error"})}errorMessage(t){return Bn(t,this.authenticationUrl)}}{constructor(t){return super(t),this.url=t,this.episodeUpdate=!1,this.statusUpdate=!1,this.ratingUpdate=!1,this.minWatchedEp=1,this.curWatchedEp=0,this.shortName="Simkl",this.authenticationUrl="https://simkl.com/oauth/authorize?response_type=code&client_id=39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0&redirect_uri=https://simkl.com/apps/chrome/mal-sync/connected/",this.rewatchingSupport=!1,this.syncList=ii,this.getSingle=si,this.call=ri,this.errorHandling=oi,this.logger=$i.m(this.shortName,"#9b7400"),this}handleUrl(t){if(t.match(/simkl\.com\/(anime|manga)\/\d*/i)){if(this.type="anime"===Oi.urlPart(t,3)?"anime":"manga",this.ids.simkl=parseInt(Oi.urlPart(t,4)),"manga"===this.type)throw"Simkl has no manga support"}else{if(!t.match(/myanimelist\.net\/(anime|manga)\/\d*/i))throw new Dn(t);if(this.type="anime"===Oi.urlPart(t,3)?"anime":"manga",this.ids.mal=Number(Oi.urlPart(t,4)),"manga"===this.type)throw"Simkl has no manga support"}}getCacheKey(){return this.getKey(["SIMKL"])}getPageId(){return this.ids.simkl}_getStatus(){return parseInt(Qn(this.animeInfo.status))}_setStatus(t){23===t&&(t=1),(t=Qn(t,parseInt(t.toString())))!==this.animeInfo.status&&(this.statusUpdate=!0),this.animeInfo.status=t}_getScore(){const t=this.animeInfo.user_rating;return null===t?0:t}_setScore(t){0===t&&(t=null),t!==this.animeInfo.user_rating&&(this.ratingUpdate=!0),this.animeInfo.user_rating=t}_getAbsoluteScore(){return 10*this.getScore()}_setAbsoluteScore(t){t?t<10?this.setScore(1):this.setScore(Math.round(t/10)):this.setScore(0)}_getEpisode(){return 2===this._getStatus()?this._getTotalEpisodes():this.curWatchedEp}_setEpisode(t){t!==this.curWatchedEp&&(this.episodeUpdate=!0),this.curWatchedEp=t}_getVolume(){return 0}_setVolume(t){this.logger.error("You cant set Volumes for animes")}_getTags(){let t=this.animeInfo.private_memo;return null!==t&&"null"!==t||(t=""),t}_setTags(t){this.animeInfo.private_memo=t}_getTitle(){return this.animeInfo.show.title}_getTotalEpisodes(){const t=this.animeInfo.total_episodes_count;return null===t?0:t}_getTotalVolumes(){return 0}_getDisplayUrl(){return`https://simkl.com/${this.getType()}/${this.ids.simkl}`}_getImage(){return`https://simkl.in/posters/${this.animeInfo.show.poster}_ca.jpg`}_getRating(){return Ii(this,void 0,void 0,(function*(){try{return(yield this.call("https://api.simkl.com/ratings",{simkl:this.ids.simkl},!0)).simkl.rating}catch(t){return this.logger.error(t),"N/A"}}))}_update(){return Ii(this,void 0,void 0,(function*(){let t;return t=Number.isNaN(this.ids.mal)?{simkl:this.ids.simkl}:{mal:this.ids.mal},this._authenticated=!0,this.getSingle(t).catch((t=>{if(t instanceof Ln)return this._authenticated=!1,"";throw t})).then((e=>Ii(this,void 0,void 0,(function*(){if(this.logger.log(e),this.episodeUpdate=!1,this.statusUpdate=!1,this.ratingUpdate=!1,this.animeInfo=e,this._onList=!0,!this.animeInfo){let e;if(this._onList=!1,t.simkl){if(e=yield this.call(`https://api.simkl.com/anime/${t.simkl}`,{extended:"full"},!0),!e)throw new Mn("Anime not found")}else{if(e=yield this.call("https://api.simkl.com/search/id",t,!0),!e)throw new Mn("Anime not found");if(e[0].mal&&e[0].mal.type&&"Special"===e[0].mal.type)throw new Error("Is a special");e=e[0]}this.animeInfo={last_watched:"",last_watched_at:"",next_to_watch:"",not_aired_episodes_count:0,private_memo:"",status:"plantowatch",total_episodes_count:0,user_rating:null,watched_episodes_count:0,show:e},this.logger.log("Add anime",this.animeInfo)}if(Number.isNaN(this.ids.simkl)&&(this.ids.simkl=parseInt(this.animeInfo.show.ids.simkl)),Number.isNaN(this.ids.mal)&&void 0!==this.animeInfo.show.ids.mal&&(this.ids.mal=this.animeInfo.show.ids.mal),this.curWatchedEp=ei(this.animeInfo.last_watched),!this.curWatchedEp&&this.animeInfo.next_to_watch){const t=ei(this.animeInfo.next_to_watch);t&&(this.curWatchedEp=t-1)}if(this.minWatchedEp=this.curWatchedEp+1,!this._authenticated)throw new Ln("Not Authenticated")}))))}))}_sync(){return Ii(this,void 0,void 0,(function*(){if(this.logger.log("[SET] Object:",this.animeInfo,"status",this.statusUpdate,"episode",this.episodeUpdate,"rating",this.ratingUpdate,"minWatchedEp",this.minWatchedEp,"curWatchedEp",this.curWatchedEp),this.statusUpdate||!this.isOnList()){const t=yield this.call("https://api.simkl.com/sync/add-to-list",JSON.stringify({shows:[{to:this.animeInfo.status,ids:{simkl:this.ids.simkl}}]}),!1,"POST");this.logger.log("Status response",t)}if(this.episodeUpdate||!this.isOnList()){const t=this.curWatchedEp,e=[];if(this.minWatchedEp<=t){if(t){for(let n=this.minWatchedEp;n<=t;n++)e.push({number:n});const n=yield this.call("https://api.simkl.com/sync/history",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl},private_memo:this.animeInfo.private_memo,seasons:[{number:1,episodes:e}]}]}),!1,"POST");this.logger.log("Episode response",n)}}else{for(let n=this.minWatchedEp-1;n>t;n-=1)e.push({number:n});const n=yield this.call("https://api.simkl.com/sync/history/remove",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl},seasons:[{number:1,episodes:e}]}]}),!1,"POST");this.logger.log("Episode remove response",n)}this.minWatchedEp=t+1}if(this.ratingUpdate)if(this.animeInfo.user_rating){const t=yield this.call("https://api.simkl.com/sync/ratings",JSON.stringify({shows:[{rating:this.animeInfo.user_rating,ids:{simkl:this.ids.simkl}}]}),!1,"POST");this.logger.log("Rating response",t)}else{const t=yield this.call("https://api.simkl.com/sync/ratings/remove",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl}}]}),!1,"POST");this.logger.log("Rating remove response",t)}this.episodeUpdate=!1,this.statusUpdate=!1,this.ratingUpdate=!1}))}_delete(){return this.call("https://api.simkl.com/sync/history/remove",JSON.stringify({shows:[{ids:{simkl:this.ids.simkl}}]}),!1,"POST")}}var Li=n(19947),Di=n(9e4),Ui=n(58339),Mi=n(9375),ji=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const Bi="39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0";function Fi(t,e={},n=!1,i="GET",s=!0){return ji(this,void 0,void 0,(function*(){n&&(t+=`?${Li.$.param(e)}`),Di.log("call",i,t,e);const r={Authorization:s?`Bearer ${Ui.settings.get("simklToken")}`:void 0,"simkl-api-key":Bi,Accept:"application/vnd.api+json","Content-Type":"application/json"};return s||Di.log("No login"),Ui.request.xhr(i,{url:t,headers:r,data:e}).then((r=>ji(this,void 0,void 0,(function*(){switch(r.status){case 200:case 201:case 204:case 302:break;case 401:if(s)return Fi(t,e,n,i,!1);throw Mi.flashm('Please Authenticate <a target="_blank" href="https://simkl.com/oauth/authorize?response_type=code&client_id=39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0&redirect_uri=https://simkl.com/apps/chrome/mal-sync/connected/">Here</a>',{error:!0,type:"error"}),a();default:throw Mi.flashm(`Simkl: ${o()}`,{error:!0,type:"error"}),a()}try{return JSON.parse(r.responseText)}catch(t){throw Di.error(r),t}function o(){return JSON.parse(r.responseText).error}function a(){return{status:r.status,message:o()}}}))))}))}const Gi=t=>(R="data-v-2f7a8d1e",t=t(),R=null,t),Wi={class:"malsync-page-relation"},Hi=["href","title"],zi=["src"],qi={class:"simkltvdetailonlinehead"},Yi={class:"simkltvdetailonlineheadleft"},Vi=Gi((()=>fe("div",{class:"simkltvdetailonlineheadtitle"},"Stream online:",-1))),Ki=["href"],Ji={class:"simkltvdetailonlineheadbuttonimage"},Xi=["src","title"],Zi=["href"],Qi=[Gi((()=>fe("div",{class:"simkltvdetailonlineheadbuttontitle"},"Watch next episode",-1))),Gi((()=>fe("div",{class:"simkltvdetailonlineheadbuttonico",style:{"margin-top":"-4px"}},null,-1)))],ts=["href"],es=Gi((()=>fe("div",{class:"simkltvdetailonlineheadbuttontitle"},"Resume episode",-1))),ns=["src"],is={key:0,class:"simkltvdetailonlineheadbuttontitle"},ss={key:1,class:"simkltvdetailonlineheadbuttontitle"},rs=Gi((()=>fe("div",{class:"simkltvdetailonlineheadbuttonicoarrow"},null,-1))),os=[Gi((()=>fe("div",{class:"simkltvdetailonlineheadbuttontitle"},"Search",-1))),Gi((()=>fe("div",{class:"simkltvdetailonlineheadbuttonicoarrow"},null,-1)))],as=[Gi((()=>fe("div",{class:"simkltvdetailonlineheadrightclose"},[fe("div",{class:"simkltvdetailonlineheadrightname",style:{"--data-online-block-title":"'MAL-Sync'"}}),fe("div",{class:"simkltvdetailonlineheadrightcloseico"})],-1)))],ls={class:"simkltvdetailonlineitems Search"},cs=["href"],us={class:"simkltvdetailonlineitemsearchico"},hs=["src"],ds={class:"simkltvdetailonlineitemsearchtitle"},ps=["href"],ms={class:"simkltvdetailonlineitems Links"},fs={key:0},gs={class:"simkltvdetailonlineitemtop"},_s={class:"simkltvdetailonlineitemico"},ys=["src"],vs={class:"simkltvdetailonlineitemname"},bs=["onClick"],ws={class:"simkltvdetailonlineitemlinks"},ks=["href"];var Ss=n(58339),Es=n(9e4),xs=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const Ts=n(16245);function Ns(t,e,n){return function(t,e){let n=e.trim(),i=[];const s=t.match(/{searchterm(\(.\))?(\[[^[\]]*\])?}/);if(!s)return t;const[r,o,a]=s;return a&&(i=a.substring(1,a.length-1).split(",")),i.includes("noLowercase")||(n=n.toLowerCase()),i.includes("noSpecial")?n=n.replace(/[^a-zA-Z\d ]/g,"").replace(/ +/g," ").trim():i.includes("specialReplace")&&(n=n.replace(/[^a-zA-Z\d ]/g," ").replace(/ +/g," ").trim()),n=i.includes("noEncode")?n.replace(/\//g," "):encodeURIComponent(n),o&&(n=n.replace(/(%20| )/g,o[1])),t.replace(r,n)}(t.replace("{searchtermPlus}","{searchterm(+)}").replace("{searchtermMinus}","{searchterm(-)}").replace("{searchtermUnderscore}","{searchterm(_)}").replace("{searchtermRaw}","{searchterm[noEncode,noLowercase]}").replace("{cacheId}",n),e)}function Cs(t,e,n){return xs(this,void 0,void 0,(function*(){let i=function(){const t=Ss.settings.get("quicklinks").map((t=>{return(e=t)?e.custom?e:Ts.find((t=>t.name===e)):null;var e})).filter((t=>t));return JSON.parse(JSON.stringify(t))}();if(e)try{i=yield function(t,e,n){return xs(this,void 0,void 0,(function*(){const i=yield function(t,e){return xs(this,void 0,void 0,(function*(){const n=`https://api.malsync.moe/mal/${t}/${e}`;return Ss.request.xhr("GET",n).then((t=>xs(this,void 0,void 0,(function*(){if(Es.log("malSync response",t),400===t.status)return{};if(200===t.status){const e=JSON.parse(t.responseText);return e&&e.Sites?e.Sites:{}}throw new Error("malsync offline")}))))}))}(e,n);return t.map((t=>(t.database&&i[t.database]&&(t.databaseLinks=i[t.database]),t)))}))}(i,t,e)}catch(t){Es.m("API Problem").error(t)}return function(t,e,n,i){return t.filter((t=>t.search&&t.search[e])).map((t=>{const s=[];let r;return t.databaseLinks?(r="link",Object.values(t.databaseLinks).forEach((t=>{s.push({name:t.title,url:t.url})}))):"home"===t.search[e]?(r="home",s.push({name:"Homepage",url:t.domain})):(r="search",s.push({name:"Quicksearch",url:Ns(t.search[e],n,i),fn:n=>Ns(t.search[e],n,i)})),{name:t.name,domain:t.domain,group:r,links:s}}))}(i,t,n,e)}))}var Rs=n(58339),As=n(9375),$s=n(9e4);const Os="SIMKL-MAL-SYNC",Is={data:()=>({streamUrl:void 0,continueUrl:null,resumeUrl:null,links:null,pageSearch:null,pageRelation:null,classes:{minimized:!0,search:!1}}),watch:{streamUrl(t){t&&(this.classes.minimized=!0,this.classes.search=!1)}},created(){const t=JSON.parse(En.getItem(Os));t&&(this.classes=t)},methods:{lang:Rs.storage.lang,favicon:As.favicon,assetUrl:Rs.storage.assetUrl,getMal2KissFavicon(t){try{return As.favicon(t)}catch(t){return $s.error(t),""}},toggleSearch(){this.classes.search=!this.classes.search,this.saveClasses()},pressMinimized(){null===this.links||Object.keys(this.links).length?this.toggleMinimized():this.toggleSearch(),this.saveClasses()},toggleMinimized(){this.classes.minimized=!this.classes.minimized,this.classes.search&&this.classes.minimized&&this.toggleSearch(),this.saveClasses()},removeSource(t){!function(t){const e=Ss.settings.get("quicklinks");Ss.settings.set("quicklinks",function(t,e){return e?t.filter((t=>!(!t||t===e||"object"==typeof t&&t.name===e))):t}(e,t))}(String(t.name)),window.location.reload()},saveClasses(){En.setItem(Os,JSON.stringify(this.classes))}}},Ps=(0,n(83744).Z)(Is,[["render",function(t,e,n,s,r,o){return re(),ce("div",{id:"malkiss",class:(0,i.C_)(["simkltvdetailonline",{Minimized:t.classes.minimized,Search:t.classes.search}])},[fe("div",Wi,[(re(!0),ce(Qt,null,yt(t.pageRelation,(t=>(re(),ce("a",{key:t.title,href:t.link,target:"_blank",title:t.name},[fe("img",{src:t.icon,width:"16",height:"16"},null,8,zi)],8,Hi)))),128))]),fe("div",qi,[fe("div",Yi,[Vi,t.streamUrl?(re(),ce("a",{key:0,href:t.streamUrl,target:"_blank",class:"simkltvdetailonlineheadbutton simkltvdetailonlineheadbuttonstream"},[fe("div",Ji,[fe("img",{src:o.favicon(t.streamUrl.split("/")[2]),alt:"",title:t.streamUrl.split("/")[2]},null,8,Xi)])],8,Ki)):ve("v-if",!0),t.continueUrl?(re(),ce("a",{key:1,href:t.continueUrl,target:"_blank",class:"simkltvdetailonlineheadbutton"},Qi,8,Zi)):ve("v-if",!0),t.resumeUrl&&!t.continueUrl?(re(),ce("a",{key:2,href:t.resumeUrl,target:"_blank",class:"simkltvdetailonlineheadbutton"},[es,fe("img",{src:o.assetUrl("arrow-16px.png"),width:"16",height:"16",style:{filter:"invert(1)","margin-top":"-1px"}},null,8,ns)],8,ts)):ve("v-if",!0),null===t.links||Object.keys(t.links).length?(re(),ce("div",{key:3,class:"simkltvdetailonlineheadbutton Sources",onClick:e[0]||(e[0]=t=>o.toggleMinimized())},[null!==t.links&&Object.keys(t.links).length?(re(),ce("div",is,(0,i.zw)(Object.keys(t.links).length)+" streaming sources ",1)):(re(),ce("div",ss,"Loading")),rs])):ve("v-if",!0),null!==t.pageSearch?(re(),ce("div",{key:4,class:"simkltvdetailonlineheadbutton Search",onClick:e[1]||(e[1]=t=>o.toggleSearch())},os)):ve("v-if",!0)]),fe("div",{class:"simkltvdetailonlineheadright",onClick:e[2]||(e[2]=t=>o.pressMinimized())},as)]),fe("div",ls,[(re(!0),ce(Qt,null,yt(t.pageSearch,(t=>(re(),ce("div",{key:t.search,class:"simkltvdetailonlineitemsearch"},[fe("a",{href:t.search,target:"_blank",class:"simkltvdetailonlineitemsearchhref"},[fe("div",us,[fe("img",{src:t.favicon,class:"simkltvdetailonlineitemsearchicoimg"},null,8,hs)]),fe("div",ds,(0,i.zw)(t.name),1)],8,cs),t.googleSeach.length?(re(),ce("a",{key:0,href:t.googleSeach,target:"_blank",class:"simkltvdetailonlineitemsearchgoogle"},null,8,ps)):ve("v-if",!0)])))),128))]),fe("div",ms,[null===t.links?(re(),ce("div",fs,"Loading")):ve("v-if",!0),(re(!0),ce(Qt,null,yt(t.links,(t=>(re(),ce("div",{key:t.name,class:"simkltvdetailonlineitem"},[fe("div",gs,[fe("div",_s,[fe("img",{src:o.getMal2KissFavicon(t.domain),alt:""},null,8,ys)]),fe("div",vs,(0,i.zw)(t.name),1),fe("div",{class:"simkltvdetailonlineitemclose",onClick:e=>o.removeSource(t)},null,8,bs)]),fe("div",ws,[(re(!0),ce(Qt,null,yt(t.links,(t=>(re(),ce("a",{key:t.url,target:"_blank",href:t.url,class:"simkltvdetailonlineitemhref"},(0,i.zw)(t.name),9,ks)))),128))])])))),128))])],2)}],["styles",[".Sources[data-v-2f7a8d1e] {\n  min-width: 178px;\n}\n.simkltvdetailonlineheadbuttonstream[data-v-2f7a8d1e] {\n  width: auto;\n  min-width: auto;\n}\n#malkiss[data-v-2f7a8d1e] {\n  position: relative;\n}\n.malsync-page-relation[data-v-2f7a8d1e] {\n  display: flex;\n  position: absolute;\n  bottom: -1px;\n  right: -1px;\n}\n.malsync-page-relation > a[data-v-2f7a8d1e] {\n  margin-left: 5px;\n}\n.simkltvdetailonlineitemlinks[data-v-2f7a8d1e] {\n  word-break: break-all;\n}\n"]],["__scopeId","data-v-2f7a8d1e"],["__file","malkiss.vue"]]);var Ls=n(9375),Ds=n(9375),Us=n(58339),Ms=n(9e4),js=n(19947),Bs=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class Fs{constructor(t){this.url=t,this.page=null,Ds.urlChangeDetect((()=>{clearInterval(this.interval),this.interval=Ds.waitUntilTrue((function(){return!($("#global_div").length&&1!==parseInt($("#global_div").css("opacity"))||$("#tvMainTable").length&&1!==parseInt($("#tvMainTable").css("opacity")))}),(()=>{this.url=window.location.href,this.init()}),1e3)})),Us.storage.addStyle(n(38186).toString()),$(document).ready((()=>{this.init()}))}init(){return Bs(this,void 0,void 0,(function*(){yield(0,Ls.waitForPageToBeVisible)(),Ms.log(this.url),clearInterval(this.interval2),this.url.indexOf("apps/chrome/mal-sync")>-1&&this.authentication();const t=Ds.urlPart(this.url,3),e=Ds.urlPart(this.url,4);if(("anime"===t||"manga"===t)&&!Number.isNaN(Number(e))){const e=new Pi(this.url);return yield e.update(),this.page={page:"detail",id:e.getIds().simkl,malid:e.getIds().mal,type:t,malObj:e},Ms.log("page",this.page),$("#malkiss").length||$(".SimklTVAboutBlockTitle, .simkltvdetailmobilesummaryinfo").after(js.html('<div id="malkiss"></div>')),this.malkiss&&this.malkiss.$.appContext.app.unmount(),this.malkiss=wn(Ps,"#malkiss"),this.streamingUI(),this.malToKiss(),void this.pageRelation()}"anime"!==t&&"manga"!==t||"all"!==e||(this.page={page:"bookmarks",type:t},this.bookmarksAnime()),("anime"===e||"manga"===e)&&"watching"===Ds.urlPart(this.url,5)&&(this.page={page:"bookmarks",type:e},this.bookmarksProfile())}))}getMalUrl(){return Bs(this,void 0,void 0,(function*(){const t=Ds.urlPart(this.url,3);return"anime"===t||"manga"===t?(e=Ds.urlPart(this.url,4),Fi(`https://api.simkl.com/anime/${e}`,{extended:"full"},!0).then((t=>void 0===t.ids.mal?null:t.ids.mal))).then((e=>e?`https://myanimelist.net/${t}/${e}/${Ds.urlPart(this.url,5)}`:"")):"";var e}))}authentication(){try{Ds.checkDoubleExecution()}catch(t){Ms.error(t)}try{const e=Ds.urlParam(this.url,"code");if(!e)throw"No code found!";Fi("https://api.simkl.com/oauth/token",JSON.stringify({code:e,client_id:Bi,client_secret:"3f883e8e6cdd60d2d5e765aaf0612953f743dc77f44c422af98b38e083cf038b",redirect_uri:"https://simkl.com/apps/chrome/mal-sync/connected/",grant_type:"authorization_code"}),!1,"POST").then((t=>{if(void 0!==t.error||void 0===t.access_token)throw t;return Us.settings.set("simklToken",t.access_token)})).then((t=>{$(".firstStage").addClass("HideImportant"),$(".secondStage").removeClass("HideImportant"),$(".secondStage .SimklTVKodiheaddesc").css("text-align","center")})).catch((e=>{t(e)}))}catch(e){t(e)}function t(t){Ms.error(t),$(".firstStage .SimklTVKodititletext, .secondStage .SimklTVKodititletext").text("Something went wrong")}}streamingUI(){return Bs(this,void 0,void 0,(function*(){Ms.log("Streaming UI");const{malObj:t}=this.page,e=t.getStreamingUrl();if(void 0!==e){this.malkiss.streamUrl=e;const n=t.getResumeWatching(),i=t.getContinueWatching();Ms.log("Resume",n,"Continue",i),i&&i.ep===t.getEpisode()+1?this.malkiss.continueUrl=i.url:n&&n.ep===t.getEpisode()&&(this.malkiss.resumeUrl=n.url)}else this.malkiss.streamUrl=null}))}getImage(){return $("#detailPosterImg").attr("src")}getTitle(){return $("h1").first().text().trim()||""}malToKiss(){Ms.log("malToKiss");const t=this.getTitle();Cs(this.page.type,this.page.malid,t).then((t=>{this.malkiss.links=t}))}pageRelation(){return Bs(this,void 0,void 0,(function*(){yield this.page.malObj.fillRelations(),this.malkiss.pageRelation=this.page.malObj.getPageRelations()}))}bookmarksProfile(){const t=new hi(1,this.page.type);t.getCompleteList().then((t=>{$.each(t,((t,e)=>Bs(this,void 0,void 0,(function*(){Ms.log("en",e);const t=$(`a[href^="/${this.page.type}/${e.uid}"]`);if(t&&!t.hasClass("malSyncDone2")&&(t.addClass("malSyncDone2"),e.options&&e.options.u)){Ms.log(e.options.u),t.after(js.html(`\n            <a class="mal-sync-stream mal-rem" onclick="event.stopPropagation();" title="${e.options.u.split("/")[2]}" target="_blank" style="display: inline-block; height: 0; position: relative; top: -11px; margin-left: 5px;" href="${e.options.u}">\n              <img src="${Ds.favicon(e.options.u.split("/")[2])}">\n            </a>`));const n=e.options.r,i=e.options.c,s=e.watchedEp;Ms.log("Resume",n,"Continue",i),i&&i.ep===s+1?t.parent().append(js.html(`<a class="nextStream mal-rem" onclick="event.stopPropagation();" title="Continue watching" target="_blank" style="display: inline-block; height: 0; position: relative; top: -11px; margin-left: 5px; color: #BABABA;" href="${i.url}">\n                <img src="${Us.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n              </a>`)):n&&n.ep===s&&t.parent().append(js.html(`<a class="resumeStream mal-rem" onclick="event.stopPropagation();" title="Resume watching" target="_blank" style="display: inline-block; height: 0; position: relative; top: -11px; margin-left: 5px; color: #BABABA;" href="${n.url}">\n                <img src="${Us.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n              </a>`))}}))))})).catch((e=>{Ms.error(e),t.flashmError(e)}))}bookmarksAnime(){const t=new hi(1,this.page.type);t.getCompleteList().then((t=>{function e(){Ms.info("list"),$.each(t,((t,e)=>Bs(this,void 0,void 0,(function*(){const t=$(`#c${e.uid}`);if(t&&t.length&&!t.hasClass("malSyncDone2")&&(t.addClass("malSyncDone2").css("position","relative"),e.options&&e.options.u)){Ms.log(e.options.u),t.append(js.html(`\n              <a class="mal-sync-stream mal-rem" onclick="event.stopPropagation();" title="${e.options.u.split("/")[2]}" target="_blank" style="position: absolute; z-index: 10; right: 0; top: 0; background-color: #00000057; padding: 5px;" href="${e.options.u}">\n                <img src="${Ds.favicon(e.options.u.split("/")[2])}">\n              </a>`));const n=e.options.r,i=e.options.c,s=e.watchedEp;Ms.log("Resume",n,"Continue",i),i&&i.ep===s+1?t.append(js.html(`<a class="nextStream mal-rem" onclick="event.stopPropagation();" title="Continue watching" target="_blank" style="position: absolute; z-index: 10; right: 0; top: 26px; background-color: #00000057; padding: 5px;" href="${i.url}">\n                  <img src="${Us.storage.assetUrl("double-arrow-16px.png")}" width="16" height="16">\n                </a>`)):n&&n.ep===s&&t.append(js.html(`<a class="resumeStream mal-rem" onclick="event.stopPropagation();" title="Resume watching" target="_blank" style="position: absolute; z-index: 10; right: 0; top: 26px; background-color: #00000057; padding: 5px;" href="${n.url}">\n                  <img src="${Us.storage.assetUrl("arrow-16px.png")}" width="16" height="16">\n                </a>`))}}))))}e(),this.interval2=Ds.changeDetect((()=>{e()}),(()=>$("#tv_best_left_addContainer li").length+$("#tv_best_left_addContainer > div").height()))})).catch((e=>{Ms.error(e),t.flashmError(e)}))}}var Gs=n(58339),Ws=n(19947),Hs=n(9e4),zs=n(9375),qs=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};function Ys(){return qs(this,void 0,void 0,(function*(){const t=yield Gs.storage.get("timestampUpdate/firebaseNotification");(void 0===t||Ws.$.now()-t>6e5)&&(yield Vs(),Gs.storage.set("timestampUpdate/firebaseNotification",Ws.$.now()))}))}function Vs(){return qs(this,void 0,void 0,(function*(){Hs.log("checkNotifications");const t=yield Gs.request.xhr("GET","https://kissanimelist.firebaseio.com/Data2/Notification/Current.json"),e=parseInt(JSON.parse(t.responseText));Number.isNaN(e)&&Hs.error("Could not read current Notification number"),Hs.log("Current Notification",e);const n=parseInt(yield Gs.storage.get("firebaseNotification")),i=n+1;if(void 0===n||Number.isNaN(n))return void Gs.storage.set("firebaseNotification",e);if(e<i)return void Hs.log("No new notifications");const s=`https://kissanimelist.firebaseio.com/Data2/Notification/list/N${i}.json`,r=yield Gs.request.xhr("GET",s);if(!r)return;const o=JSON.parse(r.responseText);if(!o)return Hs.info("Notification empty",r.responseText),void Gs.storage.set("firebaseNotification",i).then((function(){Vs()}));Ws.$(document).ready((function(){const t=zs.flashm(`<div style="text-align: left;">${o}</div><button class="okChangelog" style="background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px;cursor: pointer;">Close</button>`,{permanent:!0,position:"top"});t.find(".okChangelog").click((function(){t.remove(),Gs.storage.set("firebaseNotification",i).then((function(){Vs()}))}))}))}))}class Ks extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}const Js=Object.prototype.toString;function Xs(t){switch(Js.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return or(t,Error)}}function Zs(t,e){return Js.call(t)===`[object ${e}]`}function Qs(t){return Zs(t,"ErrorEvent")}function tr(t){return Zs(t,"DOMError")}function er(t){return Zs(t,"String")}function nr(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function ir(t){return Zs(t,"Object")}function sr(t){return"undefined"!=typeof Event&&or(t,Event)}function rr(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function or(t,e){try{return t instanceof e}catch(t){return!1}}var ar;function lr(t){return new ur((e=>{e(t)}))}function cr(t){return new ur(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(ar||(ar={}));class ur{__init(){this._state=ar.PENDING}__init2(){this._handlers=[]}constructor(t){ur.prototype.__init.call(this),ur.prototype.__init2.call(this),ur.prototype.__init3.call(this),ur.prototype.__init4.call(this),ur.prototype.__init5.call(this),ur.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new ur(((n,i)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){i(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){i(t)}else i(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new ur(((e,n)=>{let i,s;return this.then((e=>{s=!1,i=e,t&&t()}),(e=>{s=!0,i=e,t&&t()})).then((()=>{s?n(i):e(i)}))}))}__init3(){this._resolve=t=>{this._setResult(ar.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(ar.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{this._state===ar.PENDING&&(rr(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===ar.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===ar.RESOLVED&&t[1](this._value),this._state===ar.REJECTED&&t[2](this._value),t[0]=!0)}))}}}const hr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dr(t,e=!1){const{host:n,path:i,pass:s,port:r,projectId:o,protocol:a,publicKey:l}=t;return`${a}://${l}${e&&s?`:${s}`:""}@${n}${r?`:${r}`:""}/${i?`${i}/`:i}${o}`}function pr(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}var mr=n(71235);const fr=(0,mr.Rf)();function gr(t,e={}){try{let n=t;const i=5,s=[];let r=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&r++<i&&(c=_r(n,u),!("html"===c||r>1&&o+s.length*l+c.length>=h));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch(t){return"<unknown>"}}function _r(t,e){const n=t,i=[];let s,r,o,a,l;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const c=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(c&&c.length)c.forEach((t=>{i.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),s=n.className,s&&er(s))for(r=s.split(/\s+/),l=0;l<r.length;l++)i.push(`.${r[l]}`);const u=["type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=n.getAttribute(o),a&&i.push(`[${o}="${a}"]`);return i.join("")}function yr(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.substr(0,e)}...`}function vr(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const i=t[e];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function br(t,e=[],n=!1){return e.some((e=>function(t,e,n=!1){return!!er(t)&&(Zs(e,"RegExp")?e.test(t):!!er(e)&&(n?t===e:t.includes(e)))}(t,e,n)))}function wr(t,e,n){if(!(e in t))return;const i=t[e],s=n(i);if("function"==typeof s)try{Sr(s,i)}catch(t){}t[e]=s}function kr(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function Sr(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,kr(t,"__sentry_original__",e)}function Er(t){return t.__sentry_original__}function xr(t){if(Xs(t))return{message:t.message,name:t.name,stack:t.stack,...Nr(t)};if(sr(t)){const e={type:t.type,target:Tr(t.target),currentTarget:Tr(t.currentTarget),...Nr(t)};return"undefined"!=typeof CustomEvent&&or(t,CustomEvent)&&(e.detail=t.detail),e}return t}function Tr(t){try{return"undefined"!=typeof Element&&or(t,Element)?gr(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function Nr(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Cr(t,e=40){const n=Object.keys(xr(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return yr(n[0],e);for(let t=n.length;t>0;t--){const i=n.slice(0,t).join(", ");if(!(i.length>e))return t===n.length?i:yr(i,e)}return""}function Rr(t){return Ar(t,new Map)}function Ar(t,e){if(ir(t)){const n=e.get(t);if(void 0!==n)return n;const i={};e.set(t,i);for(const n of Object.keys(t))void 0!==t[n]&&(i[n]=Ar(t[n],e));return i}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const i=[];return e.set(t,i),t.forEach((t=>{i.push(Ar(t,e))})),i}return t}function $r(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0)=>{const i=[];for(const s of t.split("\n").slice(n)){const t=s.replace(/\(error: (.*)\)/,"$1");for(const n of e){const e=n(t);if(e){i.push(e);break}}}return function(t){if(!t.length)return[];let e=t;const n=e[0].function||"",i=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((t=>({...t,filename:t.filename||e[0].filename,function:t.function||"?"}))).reverse()}(i)}}const Or="<anonymous>";function Ir(t){try{return t&&"function"==typeof t&&t.name||Or}catch(t){return Or}}function Pr(t,e=1/0,n=1/0){try{return Dr("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Lr(t,e=3,n=102400){const i=Pr(t,e);return function(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}(i)>n?Lr(t,e-1,n):i}function Dr(t,e,i=1/0,s=1/0,r=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[o,a]=r;if(null===e||["number","boolean","string"].includes(typeof e)&&("number"!=typeof(l=e)||l==l))return e;var l;const c=function(t,e){try{return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n.g&&e===n.g?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":function(t){return ir(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?`[Function: ${Ir(e)}]`:"symbol"==typeof e?`[${String(e)}]`:"bigint"==typeof e?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(t){return`**non-serializable** (${t})`}}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;if(0===i)return c.replace("object ","");if(o(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return Dr("",u.toJSON(),i-1,s,r)}catch(t){}const h=Array.isArray(e)?[]:{};let d=0;const p=xr(e);for(const t in p){if(!Object.prototype.hasOwnProperty.call(p,t))continue;if(d>=s){h[t]="[MaxProperties ~]";break}const e=p[t];h[t]=Dr(t,e,i-1,s,r),d++}return a(e),h}function Ur(t,e=[]){return[t,e]}function Mr(t,e){const[n,i]=t;return[n,[...i,e]]}function jr(t,e){t[1].forEach((t=>{const n=t[0].type;e(t,n)}))}function Br(t,e){return(e||new TextEncoder).encode(t)}function Fr(t,e){const[n,i]=t;let s=JSON.stringify(n);function r(t){"string"==typeof s?s="string"==typeof t?s+t:[Br(s,e),t]:s.push("string"==typeof t?Br(t,e):t)}for(const t of i){const[e,n]=t;if(r(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)r(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(Pr(n))}r(t)}}return"string"==typeof s?s:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let i=0;for(const e of t)n.set(e,i),i+=e.length;return n}(s)}function Gr(t,e){const n="string"==typeof t.data?Br(t.data,e):t.data;return[Rr({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const Wr={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay_event",replay_recording:"replay_recording"};function Hr(t){return Wr[t]}function zr(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}const qr=["debug","info","warn","error","log","assert","trace"];function Yr(t){if(!("console"in mr.n2))return t();const e=mr.n2.console,n={};qr.forEach((t=>{const i=e[t]&&e[t].__sentry_original__;t in e&&i&&(n[t]=e[t],e[t]=i)}));try{return t()}finally{Object.keys(n).forEach((t=>{e[t]=n[t]}))}}function Vr(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?qr.forEach((n=>{e[n]=(...e)=>{t&&Yr((()=>{mr.n2.console[n](`Sentry Logger [${n}]:`,...e)}))}})):qr.forEach((t=>{e[t]=()=>{}})),e}let Kr;function Jr(t,e,n=function(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(i){if(!(void 0===t||e.length<t))return cr(new Ks("Not adding Promise because buffer limit was reached."));const s=i();return-1===e.indexOf(s)&&e.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(t){return new ur(((n,i)=>{let s=e.length;if(!s)return n(!0);const r=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{lr(t).then((()=>{--s||(clearTimeout(r),n(!0))}),i)}))}))}}}(t.bufferSize||30)){let i={};return{send:function(s){const r=[];if(jr(s,((e,n)=>{const s=Hr(n);if(function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(i,s)){const i=Xr(e,n);t.recordDroppedEvent("ratelimit_backoff",s,i)}else r.push(e)})),0===r.length)return lr();const o=Ur(s[0],r),a=e=>{jr(o,((n,i)=>{const s=Xr(n,i);t.recordDroppedEvent(e,Hr(i),s)}))};return n.add((()=>e({body:Fr(o,t.textEncoder)}).then((t=>{void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),i=function(t,{statusCode:e,headers:n},i=Date.now()){const s={...t},r=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(r)for(const t of r.trim().split(",")){const[e,n]=t.split(":",2),r=parseInt(e,10),o=1e3*(isNaN(r)?60:r);if(n)for(const t of n.split(";"))s[t]=i+o;else s.all=i+o}else o?s.all=i+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const i=Date.parse(`${t}`);return isNaN(i)?6e4:i-e}(o,i):429===e&&(s.all=i+6e4);return s}(i,t)}),(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error("Failed while sending event:",t),a("network_error")})))).then((t=>t),(t=>{if(t instanceof Ks)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error("Skipped sending event because buffer is full."),a("queue_overflow"),lr();throw t}))},flush:t=>n.drain(t)}}function Xr(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}Kr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,mr.YO)("logger",Vr):Vr();const Zr=(0,mr.Rf)();function Qr(){if(!("fetch"in Zr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function to(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function eo(){const t=mr.n2,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function no(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function io(t){const{message:e,event_id:n}=t;if(e)return e;const i=no(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function so(t,e,n){const i=t.exception=t.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{};r.value||(r.value=e||""),r.type||(r.type=n||"Error")}function ro(t,e){const n=no(t);if(!n)return;const i=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...i,...e},e&&"data"in e){const t={...i&&i.data,...e.data};n.mechanism.data=t}}function oo(t){if(t&&t.__sentry_captured__)return!0;try{kr(t,"__sentry_captured__",!0)}catch(t){}return!1}function ao(t){return Array.isArray(t)?t:[t]}var lo=n(21170),co=n(72176);function uo(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,lo.ph)(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:eo()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}class ho{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new ho;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&uo(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof ho?e:this}return t instanceof ho?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):ir(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const i={timestamp:(0,lo.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const e=this._span.transaction&&this._span.transaction.name;e&&(t.tags={transaction:e,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...po(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,n,i=0){return new ur(((s,r)=>{const o=t[i];if(null===e||"function"!=typeof o)s(e);else{const a=o({...e},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.id&&null===a&&Kr.log(`Event processor "${o.id}" dropped event`),rr(a)?a.then((e=>this._notifyEventProcessors(t,e,n,i+1).then(s))).then(null,r):this._notifyEventProcessors(t,a,n,i+1).then(s).then(null,r)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?ao(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function po(){return(0,mr.YO)("globalEventProcessors",(()=>[]))}function mo(t){po().push(t)}const fo=100;class go{__init(){this._stack=[{}]}constructor(t,e=new ho,n=4){this._version=n,go.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=ho.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:eo(),i=new Error("Sentry syntheticException");return this._withClient(((s,r)=>{s.captureException(t,{originalException:t,syntheticException:i,...e,event_id:n},r)})),n}captureMessage(t,e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:eo(),s=new Error(t);return this._withClient(((r,o)=>{r.captureMessage(t,e,{originalException:t,syntheticException:s,...n,event_id:i},o)})),i}captureEvent(t,e){const n=e&&e.event_id?e.event_id:eo();return"transaction"!==t.type&&(this._lastEventId=n),this._withClient(((i,s)=>{i.captureEvent(t,{...e,event_id:n},s)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:i}=this.getStackTop();if(!n||!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:r=fo}=i.getOptions&&i.getOptions()||{};if(r<=0)return;const o={timestamp:(0,lo.yW)(),...t},a=s?Yr((()=>s(o,e))):o;null!==a&&n.addBreadcrumb(a,r)}setUser(t){const e=this.getScope();e&&e.setUser(t)}setTags(t){const e=this.getScope();e&&e.setTags(t)}setExtras(t){const e=this.getScope();e&&e.setExtras(t)}setTag(t,e){const n=this.getScope();n&&n.setTag(t,e)}setExtra(t,e){const n=this.getScope();n&&n.setExtra(t,e)}setContext(t,e){const n=this.getScope();n&&n.setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();e&&n&&t(e)}run(t){const e=yo(this);try{t(this)}finally{yo(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&function(t,e){let n={};"ok"===t.status&&(n={status:"exited"}),uo(t,n)}(n),this._sendSessionUpdate(),e&&e.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:i,environment:s}=n&&n.getOptions()||{},{userAgent:r}=mr.n2.navigator||{},o=function(t){const e=(0,lo.ph)(),n={sid:eo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return Rr({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&uo(n,t),n}({release:i,environment:s,...e&&{user:e.getUser()},...r&&{userAgent:r},...t});if(e){const t=e.getSession&&e.getSession();t&&"ok"===t.status&&uo(t,{status:"exited"}),this.endSession(),e.setSession(o)}return o}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop();if(!t)return;const n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const n=_o().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function _o(){return mr.n2.__SENTRY__=mr.n2.__SENTRY__||{extensions:{},hub:void 0},mr.n2}function yo(t){const e=_o(),n=wo(e);return ko(e,t),n}function vo(){const t=_o();return bo(t)&&!wo(t).isOlderThan(4)||ko(t,new go),(0,co.KV)()?function(t){try{const e=_o().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return wo(t);if(!bo(n)||wo(n).isOlderThan(4)){const e=wo(t).getStackTop();ko(n,new go(e.client,ho.clone(e.scope)))}return wo(n)}catch(e){return wo(t)}}(t):wo(t)}function bo(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function wo(t){return(0,mr.YO)("hub",(()=>new go),t)}function ko(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}function So(t,e){return vo().captureException(t,{captureContext:e})}function Eo(t){vo().withScope(t)}const xo=mr.n2;let To,No=0;function Co(){return No>0}function Ro(){No++,setTimeout((()=>{No--}))}function Ao(t,e={},n){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if(Er(t))return t}catch(e){return t}const i=function(){const i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const s=i.map((t=>Ao(t,e)));return t.apply(this,s)}catch(t){throw Ro(),Eo((n=>{n.addEventProcessor((t=>(e.mechanism&&(so(t,void 0,void 0),ro(t,e.mechanism)),t.extra={...t.extra,arguments:i},t))),So(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}catch(t){}Sr(i,t),kr(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>t.name})}catch(t){}return i}function $o(t,e=function(){if(To)return To;if(to(xo.fetch))return To=xo.fetch.bind(xo);const t=xo.document;let e=xo.fetch;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const i=n.contentWindow;i&&i.fetch&&(e=i.fetch),t.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return To=e.bind(xo)}()){return Jr(t,(function(n){const i={body:n.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n.body.length<=65536,...t.fetchOptions};try{return e(t.url,i).then((t=>({statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return To=void 0,cr(t)}}))}const Oo=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Io{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Io.id}constructor(t={}){this._options=t,Io.prototype.__init.call(this)}setupOnce(t,e){const n=t=>{const n=e();if(n){const e=n.getIntegration(Io);if(e){const i=n.getClient(),s=i?i.getOptions():{},r=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...Oo],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(e._options,s);return function(t,e){return e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${io(t)}`),!0):function(t,e){return!(!e||!e.length)&&function(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error(`Cannot extract message for event ${io(t)}`),[]}return[]}(t).some((t=>br(t,e)))}(t,e.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${io(t)}`),!0):function(t,e){if(!e||!e.length)return!1;const n=Po(t);return!!n&&br(n,e)}(t,e.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${io(t)}.\nUrl: ${Po(t)}`),!0):!function(t,e){if(!e||!e.length)return!0;const n=Po(t);return!n||br(n,e)}(t,e.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${io(t)}.\nUrl: ${Po(t)}`),!0)}(t,r)?null:t}}return t};n.id=this.name,t(n)}}function Po(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error(`Cannot extract url for event ${io(t)}`),null}}let Lo;Io.__initStatic();class Do{constructor(){Do.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Do.id}setupOnce(){Lo=Function.prototype.toString,Function.prototype.toString=function(...t){const e=Er(this)||this;return Lo.apply(e,t)}}}Do.__initStatic();const Uo=[];function Mo(t){const e=t.defaultIntegrations||[],n=t.integrations;let i;e.forEach((t=>{t.isDefaultInstance=!0})),i=Array.isArray(n)?[...e,...n]:"function"==typeof n?ao(n(e)):e;const s=function(t){const e={};return t.forEach((t=>{const{name:n}=t,i=e[n];i&&!i.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.values(e)}(i),r=s.findIndex((t=>"Debug"===t.name));if(-1!==r){const[t]=s.splice(r,1);s.push(t)}return s}const jo=(0,mr.Rf)(),Bo={},Fo={};function Go(t,e){Bo[t]=Bo[t]||[],Bo[t].push(e),function(t){if(!Fo[t])switch(Fo[t]=!0,t){case"console":"console"in jo&&qr.forEach((function(t){t in jo.console&&wr(jo.console,t,(function(e){return function(...n){Wo("console",{args:n,level:t}),e&&e.apply(jo.console,n)}}))}));break;case"dom":!function(){if(!("document"in jo))return;const t=Wo.bind(null,"dom"),e=Ko(t,!0);jo.document.addEventListener("click",e,!1),jo.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=jo[e]&&jo[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(wr(n,"addEventListener",(function(e){return function(n,i,s){if("click"===n||"keypress"==n)try{const i=this,r=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const i=Ko(t);o.handler=i,e.call(this,n,i,s)}o.refCount++}catch(t){}return e.call(this,n,i,s)}})),wr(n,"removeEventListener",(function(t){return function(e,n,i){if("click"===e||"keypress"==e)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},r=s[e];r&&(r.refCount--,r.refCount<=0&&(t.call(this,e,r.handler,i),r.handler=void 0,delete s[e]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,i)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in jo))return;const t=XMLHttpRequest.prototype;wr(t,"open",(function(t){return function(...e){const n=this,i=e[1],s=n.__sentry_xhr__={method:er(e[0])?e[0].toUpperCase():e[0],url:e[1]};er(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const r=function(){if(4===n.readyState){try{s.status_code=n.status}catch(t){}Wo("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?wr(n,"onreadystatechange",(function(t){return function(...e){return r(),t.apply(n,e)}})):n.addEventListener("readystatechange",r),t.apply(n,e)}})),wr(t,"send",(function(t){return function(...e){return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),Wo("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":(function(){if(!Qr())return!1;if(to(Zr.fetch))return!0;let t=!1;const e=Zr.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=to(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t})()&&wr(jo,"fetch",(function(t){return function(...e){const n={args:e,fetchData:{method:Ho(e),url:zo(e)},startTimestamp:Date.now()};return Wo("fetch",{...n}),t.apply(jo,e).then((t=>(Wo("fetch",{...n,endTimestamp:Date.now(),response:t}),t)),(t=>{throw Wo("fetch",{...n,endTimestamp:Date.now(),error:t}),t}))}}));break;case"history":!function(){if(!function(){const t=Zr.chrome,e=t&&t.app&&t.app.runtime,n="history"in Zr&&!!Zr.history.pushState&&!!Zr.history.replaceState;return!e&&n}())return;const t=jo.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=qo,e=String(n);qo=e,Wo("history",{from:t,to:e})}return t.apply(this,e)}}jo.onpopstate=function(...e){const n=jo.location.href,i=qo;if(qo=n,Wo("history",{from:i,to:n}),t)try{return t.apply(this,e)}catch(t){}},wr(jo.history,"pushState",e),wr(jo.history,"replaceState",e)}();break;case"error":Jo=jo.onerror,jo.onerror=function(t,e,n,i,s){return Wo("error",{column:i,error:s,line:n,msg:t,url:e}),!!Jo&&Jo.apply(this,arguments)};break;case"unhandledrejection":Xo=jo.onunhandledrejection,jo.onunhandledrejection=function(t){return Wo("unhandledrejection",t),!Xo||Xo.apply(this,arguments)};break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("unknown instrumentation type:",t)}}(t)}function Wo(t,e){if(t&&Bo[t])for(const n of Bo[t]||[])try{n(e)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Ir(n)}\nError:`,e)}}function Ho(t=[]){return"Request"in jo&&or(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function zo(t=[]){return"string"==typeof t[0]?t[0]:"Request"in jo&&or(t[0],Request)?t[0].url:String(t[0])}let qo,Yo,Vo;function Ko(t,e=!1){return n=>{if(!n||Vo===n)return;if(function(t){if("keypress"!==t.type)return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n))return;const i="keypress"===n.type?"input":n.type;(void 0===Yo||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(Vo,n))&&(t({event:n,name:i,global:e}),Vo=n),clearTimeout(Yo),Yo=jo.setTimeout((()=>{Yo=void 0}),1e3)}}let Jo=null,Xo=null;function Zo(t,e={}){const n="string"==typeof e?e:e.tunnel,i="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${function(t){return`${function(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){return n={sentry_key:t.publicKey,sentry_version:"7",...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(n).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`)).join("&");var n}(t,i)}`}const Qo="Not capturing exception because it's already been captured.";class ta{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(ta.prototype.__init.call(this),ta.prototype.__init2.call(this),ta.prototype.__init3.call(this),ta.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=function(t){const e="string"==typeof t?function(t){const e=hr.exec(t);if(!e)throw new Ks(`Invalid Sentry Dsn: ${t}`);const[n,i,s="",r,o="",a]=e.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const t=c.match(/^\d+/);t&&(c=t[0])}return pr({host:r,pass:s,path:l,projectId:c,port:o,protocol:n,publicKey:i})}(t):pr(t);return function(t){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:e,projectId:n,protocol:i}=t;if(["protocol","publicKey","host","projectId"].forEach((e=>{if(!t[e])throw new Ks(`Invalid Sentry Dsn: ${e} missing`)})),!n.match(/^\d+$/))throw new Ks(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(t){return"http"===t||"https"===t}(i))throw new Ks(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(e&&isNaN(parseInt(e,10)))throw new Ks(`Invalid Sentry Dsn: Invalid port ${e}`)}(e),e}(t.dsn);const e=Zo(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("No DSN provided, client will not do anything.")}captureException(t,e,n){if(oo(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log(Qo));let i=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,n))).then((t=>{i=t}))),i}captureMessage(t,e,n,i){let s=n&&n.event_id;const r=nr(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(r.then((t=>this._captureEvent(t,n,i))).then((t=>{s=t}))),s}captureEvent(t,e,n){if(e&&e.originalException&&oo(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log(Qo));let i=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((t=>{i=t}))),i}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),uo(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t)))):lr(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,t)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(t){const e={};return t.forEach((t=>{e[t.name]=t,-1===Uo.indexOf(t.name)&&(t.setupOnce(mo,vo),Uo.push(t.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log(`Integration installed: ${t.name}`))})),e}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let n=function(t,e,n,i){const s=zr(n),r=t.type||"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const o=function(t,e,n,i){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&{dsn:dr(i)},..."transaction"===t.type&&s&&{trace:Rr({...s})}}}(t,s,i,e);return delete t.sdkProcessingMetadata,Ur(o,[[{type:r},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=Mr(n,Gr(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(t){if(this._dsn){const e=function(t,e,n,i){const s=zr(n);return Ur({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!i&&{dsn:dr(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(t,e){let n=!1,i=!1;const s=e.exception&&e.exception.values;if(s){i=!0;for(const t of s){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const r="ok"===t.status;(r&&0===t.errors||r&&n)&&(uo(t,{...n&&{status:"crashed"},errors:t.errors||Number(i||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new ur((e=>{let n=0;const i=setInterval((()=>{0==this._numProcessing?(clearInterval(i),e(!0)):(n+=1,t&&n>=t&&(clearInterval(i),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,n){return function(t,e,n,i){const{normalizeDepth:s=3,normalizeMaxBreadth:r=1e3}=t,o={...e,event_id:e.event_id||n.event_id||eo(),timestamp:e.timestamp||(0,lo.yW)()};!function(t,e){const{environment:n,release:i,dist:s,maxValueLength:r=250}=e;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==s&&(t.dist=s),t.message&&(t.message=yr(t.message,r));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=yr(o.value,r));const a=t.request;a&&a.url&&(a.url=yr(a.url,r))}(o,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(o,t.integrations.map((t=>t.name)));let a=i;n.captureContext&&(a=ho.clone(a).update(n.captureContext));let l=lr(o);if(a){if(a.getAttachments){const t=[...n.attachments||[],...a.getAttachments()];t.length&&(n.attachments=t)}l=a.applyToEvent(o,n)}return l.then((t=>"number"==typeof s&&s>0?function(t,e,n){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:Pr(t.data,e,n)}})))},...t.user&&{user:Pr(t.user,e,n)},...t.contexts&&{contexts:Pr(t.contexts,e,n)},...t.extra&&{extra:Pr(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=Pr(t.contexts.trace.data,e,n))),t.spans&&(i.spans=t.spans.map((t=>(t.data&&(t.data=Pr(t.data,e,n)),t)))),i}(t,s,r):t))}(this.getOptions(),t,e,n)}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e=t;"log"===e.logLevel?Kr.log(e.message):Kr.warn(e)}}))}_processEvent(t,e,n){const i=this.getOptions(),{sampleRate:s}=i;if(!this._isEnabled())return cr(new Ks("SDK not enabled, will not capture event.","log"));const r=na(t),o=ea(t),a=t.type||"error",l=`before send for type \`${a}\``;return o&&"number"==typeof s&&Math.random()>s?(this.recordDroppedEvent("sample_rate","error",t),cr(new Ks(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"))):this._prepareEvent(t,e,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",a,t),new Ks("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const s=function(t,e,n){const{beforeSend:i,beforeSendTransaction:s}=t;return ea(e)&&i?i(e,n):na(e)&&s?s(e,n):e}(i,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(rr(t))return t.then((t=>{if(!ir(t)&&null!==t)throw new Ks(n);return t}),(t=>{throw new Ks(`${e} rejected with ${t}`)}));if(!ir(t)&&null!==t)throw new Ks(n);return t}(s,l)})).then((i=>{if(null===i)throw this.recordDroppedEvent("before_send",t.type||"error",t),new Ks(`${l} returned \`null\`, will not send event.`,"log");const s=n&&n.getSession();!r&&s&&this._updateSessionFromEvent(s,i);const o=i.transaction_info;if(r&&o&&i.transaction!==t.transaction){const t="custom";i.transaction_info={...o,source:t,changes:[...o.changes,{source:t,timestamp:i.timestamp,propagations:o.propagations}]}}return this.sendEvent(i,e),i})).then(null,(t=>{if(t instanceof Ks)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new Ks(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error("Error while sending event:",t)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,i]=e.split(":");return{reason:n,category:i,quantity:t[e]}}))}}function ea(t){return void 0===t.type}function na(t){return"transaction"===t.type}const ia="7.29.0";function sa(t,e){const n=oa(t,e),i={type:e&&e.name,value:la(e)};return n.length&&(i.stacktrace={frames:n}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function ra(t,e){return{exception:{values:[sa(t,e)]}}}function oa(t,e){const n=e.stacktrace||e.stack||"",i=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(aa.test(t.message))return 1}return 0}(e);try{return t(n,i)}catch(t){}return[]}const aa=/Minified React error #\d+;/i;function la(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function ca(t,e,n,i,s){let r;if(Qs(e)&&e.error)return ra(t,e.error);if(tr(e)||Zs(e,"DOMException")){const s=e;if("stack"in e)r=ra(t,e);else{const e=s.name||(tr(s)?"DOMError":"DOMException"),o=s.message?`${e}: ${s.message}`:e;r=ua(t,o,n,i),so(r,o)}return"code"in s&&(r.tags={...r.tags,"DOMException.code":`${s.code}`}),r}return Xs(e)?ra(t,e):ir(e)||sr(e)?(r=function(t,e,n,i){const s=vo().getClient(),r=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:sr(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${Cr(e)}`}]},extra:{__serialized__:Lr(e,r)}};if(n){const e=oa(t,n);e.length&&(o.exception.values[0].stacktrace={frames:e})}return o}(t,e,n,s),ro(r,{synthetic:!0}),r):(r=ua(t,e,n,i),so(r,`${e}`,void 0),ro(r,{synthetic:!0}),r)}function ua(t,e,n,i){const s={message:e};if(i&&n){const i=oa(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]})}return s}const ha=["fatal","error","warning","log","info","debug"];function da(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}const pa="Breadcrumbs";class ma{static __initStatic(){this.id=pa}__init(){this.name=ma.id}constructor(t){ma.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){var t;this.options.console&&Go("console",fa),this.options.dom&&Go("dom",(t=this.options.dom,function(e){let n,i="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=1024),"string"==typeof i&&(i=[i]);try{n=e.event.target?gr(e.event.target,{keyAttrs:i,maxStringLength:s}):gr(e.event,{keyAttrs:i,maxStringLength:s})}catch(t){n="<unknown>"}0!==n.length&&vo().addBreadcrumb({category:`ui.${e.name}`,message:n},{event:e.event,name:e.name,global:e.global})})),this.options.xhr&&Go("xhr",ga),this.options.fetch&&Go("fetch",_a),this.options.history&&Go("history",ya)}addSentryBreadcrumb(t){this.options.sentry&&vo().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:io(t)},{event:t})}}function fa(t){for(let e=0;e<t.args.length;e++)if("ref=Ref<"===t.args[e]){t.args[e+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:(n=t.level,"warn"===n?"warning":ha.includes(n)?n:"log"),message:vr(t.args," ")};var n;if("assert"===t.level){if(!1!==t.args[0])return;e.message=`Assertion failed: ${vr(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1)}vo().addBreadcrumb(e,{input:t.args,level:t.level})}function ga(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;const{method:e,url:n,status_code:i,body:s}=t.xhr.__sentry_xhr__||{};vo().addBreadcrumb({category:"xhr",data:{method:e,url:n,status_code:i},type:"http"},{xhr:t.xhr,input:s})}}function _a(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?vo().addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args}):vo().addBreadcrumb({category:"fetch",data:{...t.fetchData,status_code:t.response.status},type:"http"},{input:t.args,response:t.response})))}function ya(t){let e=t.from,n=t.to;const i=da(xo.location.href);let s=da(e);const r=da(n);s.path||(s=i),i.protocol===r.protocol&&i.host===r.host&&(n=r.relative),i.protocol===s.protocol&&i.host===s.host&&(e=s.relative),vo().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}ma.__initStatic();class va extends ta{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:ia}],version:ia},super(t),t.sendClientReports&&xo.document&&xo.document.addEventListener("visibilitychange",(()=>{"hidden"===xo.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return function(t,e,n,i){const s=ca(t,e,n&&n.syntheticException||void 0,i);return ro(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),lr(s)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return function(t,e,n="info",i,s){const r=ua(t,e,i&&i.syntheticException||void 0,s);return r.level=n,i&&i.event_id&&(r.event_id=i.event_id),lr(r)}(this._options.stackParser,t,e,n,this._options.attachStacktrace)}sendEvent(t,e){!function(t){let e,n=t[0],i=1;for(;i<t.length;){const s=t[i],r=t[i+1];if(i+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(e=n,n=r(n)):"call"!==s&&"optionalCall"!==s||(n=r(((...t)=>n.call(e,...t))),e=void 0)}}([this.getIntegrationById(pa),"optionalAccess",t=>t.addSentryBreadcrumb,"optionalCall",e=>e(t)]),super.sendEvent(t,e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log("Sending outcomes:",t);const e=Zo(this._dsn,this._options),n=(i=t,Ur((s=this._options.tunnel&&dr(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:(0,lo.yW)(),discarded_events:i}]]));var i,s;try{"[object Navigator]"===Object.prototype.toString.call(xo&&xo.navigator)&&"function"==typeof xo.navigator.sendBeacon&&!this._options.transportOptions?xo.navigator.sendBeacon.bind(xo.navigator)(e,Fr(n)):this._sendEnvelope(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.error(t)}}}const ba="?";function wa(t,e,n,i){const s={filename:t,function:e,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==i&&(s.colno=i),s}const ka=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Sa=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ea=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,xa=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ta=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Na=$r([30,t=>{const e=ka.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=Sa.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,n]=Ca(e[1]||ba,e[2]);return wa(n,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],[50,t=>{const e=Ea.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=xa.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||ba;return[n,t]=Ca(n,t),wa(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],[40,t=>{const e=Ta.exec(t);return e?wa(e[2],e[1]||ba,+e[3],e[4]?+e[4]:void 0):void 0}]),Ca=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),i=-1!==t.indexOf("safari-web-extension");return n||i?[-1!==t.indexOf("@")?t.split("@")[0]:ba,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Ra=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Aa{static __initStatic(){this.id="TryCatch"}__init(){this.name=Aa.id}constructor(t){Aa.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&wr(xo,"setTimeout",$a),this._options.setInterval&&wr(xo,"setInterval",$a),this._options.requestAnimationFrame&&wr(xo,"requestAnimationFrame",Oa),this._options.XMLHttpRequest&&"XMLHttpRequest"in xo&&wr(XMLHttpRequest.prototype,"send",Ia);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:Ra).forEach(Pa)}}function $a(t){return function(...e){const n=e[0];return e[0]=Ao(n,{mechanism:{data:{function:Ir(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function Oa(t){return function(e){return t.apply(this,[Ao(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ir(t)},handled:!0,type:"instrument"}})])}}function Ia(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&wr(n,t,(function(e){const n={mechanism:{data:{function:t,handler:Ir(e)},handled:!0,type:"instrument"}},i=Er(e);return i&&(n.mechanism.data.handler=Ir(i)),Ao(e,n)}))})),t.apply(this,e)}}function Pa(t){const e=xo,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(wr(n,"addEventListener",(function(e){return function(n,i,s){try{"function"==typeof i.handleEvent&&(i.handleEvent=Ao(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ir(i),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.apply(this,[n,Ao(i,{mechanism:{data:{function:"addEventListener",handler:Ir(i),target:t},handled:!0,type:"instrument"}}),s])}})),wr(n,"removeEventListener",(function(t){return function(e,n,i){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&t.call(this,e,n,i)}catch(t){}return t.call(this,e,s,i)}})))}Aa.__initStatic();class La{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=La.id}__init2(){this._installFunc={onerror:Da,onunhandledrejection:Ua}}constructor(t){La.prototype.__init.call(this),La.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const i=this._installFunc[n];i&&t[n]&&(e=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.log(`Global Handler attached: ${e}`),i(),this._installFunc[n]=void 0)}var e}}function Da(){Go("error",(t=>{const[e,n,i]=Ba();if(!e.getIntegration(La))return;const{msg:s,url:r,line:o,column:a,error:l}=t;if(Co()||l&&l.__sentry_own_request__)return;const c=void 0===l&&er(s)?function(t,e,n,i){let s=Qs(t)?t.message:t,r="Error";const o=s.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return o&&(r=o[1],s=o[2]),Ma({exception:{values:[{type:r,value:s}]}},e,n,i)}(s,r,o,a):Ma(ca(n,l||s,void 0,i,!1),r,o,a);c.level="error",ja(e,l,c,"onerror")}))}function Ua(){Go("unhandledrejection",(t=>{const[e,n,i]=Ba();if(!e.getIntegration(La))return;let s=t;try{"reason"in t?s=t.reason:"detail"in t&&"reason"in t.detail&&(s=t.detail.reason)}catch(t){}if(Co()||s&&s.__sentry_own_request__)return!0;const r=nr(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:ca(n,s,void 0,i,!0);r.level="error",ja(e,s,r,"onunhandledrejection")}))}function Ma(t,e,n,i){const s=t.exception=t.exception||{},r=s.values=s.values||[],o=r[0]=r[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(n,10))?void 0:n,h=er(e)&&e.length>0?e:function(){try{return fr.document.location.href}catch(t){return""}}();return 0===l.length&&l.push({colno:c,filename:h,function:"?",in_app:!0,lineno:u}),t}function ja(t,e,n,i){ro(n,{handled:!1,type:i}),t.captureEvent(n,{originalException:e})}function Ba(){const t=vo(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}La.__initStatic();class Fa{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Fa.id}constructor(t={}){Fa.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){const t=vo().getClient();t&&mo(((e,n)=>{const i=vo().getIntegration(Fa);return i?function(t,e,n,i,s){if(!(i.exception&&i.exception.values&&s&&or(s.originalException,Error)))return i;const r=Ga(t,n,s.originalException,e);return i.exception.values=[...r,...i.exception.values],i}(t.getOptions().stackParser,i._key,i._limit,e,n):e}))}}function Ga(t,e,n,i,s=[]){if(!or(n[i],Error)||s.length+1>=e)return s;const r=sa(t,n[i]);return Ga(t,e,n[i],i,[r,...s])}Fa.__initStatic();class Wa{constructor(){Wa.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Wa.id}setupOnce(t,e){const n=t=>{const n=e().getIntegration(Wa);if(n){try{if(function(t,e){return!!e&&(!!function(t,e){const n=t.message,i=e.message;return!(!n&&!i)&&(!(n&&!i||!n&&i)&&(n===i&&(!!za(t,e)&&!!Ha(t,e))))}(t,e)||!!function(t,e){const n=qa(e),i=qa(t);return!(!n||!i)&&(n.type===i.type&&n.value===i.value&&(!!za(t,e)&&!!Ha(t,e)))}(t,e))}(t,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return n._previousEvent=t}return n._previousEvent=t}return t};n.id=this.name,t(n)}}function Ha(t,e){let n=Ya(t),i=Ya(e);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){const e=i[t],s=n[t];if(e.filename!==s.filename||e.lineno!==s.lineno||e.colno!==s.colno||e.function!==s.function)return!1}return!0}function za(t,e){let n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return!(n.join("")!==i.join(""))}catch(t){return!1}}function qa(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Ya(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}Wa.__initStatic();class Va{constructor(){Va.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Va.id}setupOnce(){mo((t=>{if(vo().getIntegration(Va)){if(!xo.navigator&&!xo.location&&!xo.document)return t;const e=t.request&&t.request.url||xo.location&&xo.location.href,{referrer:n}=xo.document||{},{userAgent:i}=xo.navigator||{},s={...e&&{url:e},headers:{...t.request&&t.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}}};return{...t,request:s}}return t}))}}function Ka(t){return Jr(t,(function(e){return new ur(((n,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{4===s.readyState&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",t.url);for(const e in t.headers)Object.prototype.hasOwnProperty.call(t.headers,e)&&s.setRequestHeader(e,t.headers[e]);s.send(e.body)}))}))}Va.__initStatic();const Ja=[new Io,new Do,new Aa,new ma,new La,new Fa,new Wa,new Va];function Xa(t){t.startSession({ignoreDuration:!0}),t.captureSession()}let Za={};xo.Sentry&&xo.Sentry.Integrations&&(Za=xo.Sentry.Integrations);const Qa={...Za,...t,...e};var tl=n(58339),el=n(9e4),nl=n(9375),il=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?s(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const sl=t=>t.replace(/(webpack_require__@)?(moz|chrome)-extension:\/\/[^/]+\//,"~/");function rl(t,e){return $o(t,((t,e)=>{var n;const i={status:200,headers:{get:t=>""}};return tl.request.xhr(null!==(n=e.method)&&void 0!==n?n:"GET",{url:t,data:e.body}).catch((t=>(i.status=429,i))).then((t=>i))}))}var ol=n(58339),al=n(9e4);let ll;!function(){il(this,void 0,void 0,(function*(){var t;(yield tl.settings.getAsync("crashReport"))?nl.isDomainMatching(window.location.href,"wakanim.tv")&&nl.isFirefox()?el.info("Crash reports disabled for wakanim.tv"):nl.isDomainMatching(window.location.href,"simkl.com")&&nl.isFirefox()?el.info("Crash reports disabled for simkl.com"):(function(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ja),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),xo.SENTRY_RELEASE&&xo.SENTRY_RELEASE.id&&(t.release=xo.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(n=t.stackParser||Na,Array.isArray(n)?$r(...n):n),integrations:Mo(t),transport:t.transport||(Qr()?$o:Ka)};var n;!function(t,e){!0===e.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Kr.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=vo(),i=n.getScope();i&&i.update(e.initialScope);const s=new t(e);n.bindClient(s)}(va,e),t.autoSessionTracking&&function(){if(void 0===xo.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Kr.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const t=vo();t.captureSession&&(Xa(t),Go("history",(({from:t,to:e})=>{void 0!==t&&t!==e&&Xa(vo())})))}()}({dsn:"https://blood@shark.malsync.moe/1337",tunnel:"https://api.malsync.moe/shark",transport:rl,release:`malsync@${tl.storage.version()}`,integrations:[new Qa.Breadcrumbs({console:!1,dom:!1}),new Qa.GlobalHandlers({onerror:!1,onunhandledrejection:!1})],environment:"production",autoSessionTracking:!1,ignoreErrors:["SafeError"]}),t=t=>{t.addEventProcessor((t=>il(this,void 0,void 0,(function*(){return t.culprit&&(t.culprit=sl(t.culprit)),t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames&&(t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames.map((t=>(t.filename=sl(t.filename),t)))),t}))))},vo().configureScope(t)):el.info("Crash reports disabled")}))}(),console.log("%cMAL-Sync","font-size: 40px; padding-bottom: 3px; color: white; text-shadow: -1px -1px #2e51a2, 1px -1px #2e51a2, -1px 1px #2e51a2, 1px 1px #2e51a2, 2px 2px #2e51a2, 3px 3px #2e51a2;",`Version: ${ol.storage.version()}`),ol.settings.init().then((()=>{!function(){if(ol.settings.get("userscriptModeButton"))throw"Userscript mode";var t;t=new Fs(window.location.href),chrome.runtime.onMessage.addListener((function(e,n,i){return"TabMalUrl"===e.action&&Date.now()-ll<3e3&&(al.info("miniMAL"),t.getMalUrl().then((e=>{const n={url:e,image:t.getImage(),title:t.getTitle()};e||"SIMKL"!==ol.settings.get("syncMode")||(n.url=t.url),i(n)})),!0)})),Ys(),$(window).blur((function(){ll=Date.now()}))}()}))})()})();
//# sourceMappingURL=simkl-script.js.map